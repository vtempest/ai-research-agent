(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,88739,t=>{"use strict";function e(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function n(t){let n="string"==typeof t?function(t){let n=t.trim();if(0===n.length)return null;let r=Array.from(new Set(n.split(/\s+/).map(t=>t.trim()).filter(Boolean)));if(0===r.length)return null;let i=r.map(e).join("|");return RegExp(`(${i})`,"gi")}(t):t;return{highlight(t){if(!n)return[{type:"text",content:t}];let e=[],r=0;for(let i of t.matchAll(n))r<i.index&&e.push({type:"text",content:t.substring(r,i.index)}),e.push({type:"text",content:i[0],styles:{highlight:!0}}),r=i.index+i[0].length;return r<t.length&&e.push({type:"text",content:t.substring(r)}),e}}}t.s(["createContentHighlighter",()=>n])},6628,t=>{"use strict";t.s(["removeUndefined",()=>function t(e,n=!1){for(let r in e){if(void 0===e[r]&&delete e[r],!n)continue;let i=e[r];if("object"==typeof i&&null!==i){t(i,n);continue}if(Array.isArray(i))for(let e of i)t(e,n)}return e}])},58921,t=>{"use strict";var e=t.i(6628),n=t.i(88739);t.i(51665);var r=t.i(83738),i=t.i(26069);async function o(t,e,i={}){let l=(0,n.createContentHighlighter)(e);return(await (0,r.search)(t,{term:e,tolerance:1,...i,boost:{title:2,..."boost"in i?i.boost:void 0}})).hits.map(t=>({type:"page",content:t.document.title,breadcrumbs:t.document.breadcrumbs,contentWithHighlights:l.highlight(t.document.title),id:t.document.url,url:t.document.url}))}async function l(t,o,a=[],{mode:c="fulltext",...u}={}){"string"==typeof a&&(a=[a]);let s={...u,mode:c,where:(0,e.removeUndefined)({tags:a.length>0?{containsAll:a}:void 0,...u.where}),groupBy:{properties:["page_id"],maxResult:8,...u.groupBy}};o.length>0&&(s={...s,term:o,properties:"fulltext"===c?["content"]:["content","embeddings"]});let h=(0,n.createContentHighlighter)(o),g=await (0,r.search)(t,s),d=[];for(let e of g.groups??[]){let n=e.values[0],r=(0,i.getByID)(t,n);if(r)for(let t of(d.push({id:n,type:"page",content:r.content,breadcrumbs:r.breadcrumbs,contentWithHighlights:h.highlight(r.content),url:r.url}),e.result))"page"!==t.document.type&&d.push({id:t.document.id.toString(),content:t.document.content,breadcrumbs:t.document.breadcrumbs,contentWithHighlights:h.highlight(t.document.content),type:t.document.type,url:t.document.url})}return d}t.i(13892);var a=t.i(58545),c=t.i(39893),u=new Map;async function s({from:t="/api/search",initOrama:e=t=>(0,a.create)({schema:{_:"string"},language:t})}){let n=u.get(t);if(n)return n;let r=async function(){let n=await fetch(t);if(!n.ok)throw Error(`failed to fetch exported search indexes from ${t}, make sure the search database is exported and available for client.`);let r=await n.json(),i=new Map;if("i18n"===r.type)return await Promise.all(Object.entries(r.data).map(async([t,n])=>{let r=await e(t);(0,c.load)(r,n),i.set(t,{type:n.type,db:r})})),i;let o=await e();return(0,c.load)(o,r),i.set("",{type:r.type,db:o}),i}();return u.set(t,r),r}async function h(t,e){let{tag:n,locale:r}=e,i=(await s(e)).get(r??"");return i?"simple"===i.type?o(i,t):l(i.db,t,n):[]}t.s(["search",()=>h],58921)}]);