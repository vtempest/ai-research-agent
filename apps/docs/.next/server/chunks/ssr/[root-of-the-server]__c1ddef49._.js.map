{"version":3,"sources":["../../../../../../apps/docs/node_modules/.pnpm/fumadocs-openapi%4010.0.11_%40types%2Breact-dom%4019.2.3_%40types%2Breact%4019.2.6__%40types%2Breact%4019.2_9ef6bace3a0bb159887c545478466d7a/node_modules/fumadocs-openapi/dist/ui/contexts/operation.js","../../../../../../apps/docs/node_modules/.pnpm/fumadocs-openapi%4010.0.11_%40types%2Breact-dom%4019.2.3_%40types%2Breact%4019.2.6__%40types%2Breact%4019.2_9ef6bace3a0bb159887c545478466d7a/node_modules/fumadocs-openapi/dist/ui/contexts/api.js","../../../../../../apps/docs/node_modules/.pnpm/fumadocs-openapi%4010.0.11_%40types%2Breact-dom%4019.2.3_%40types%2Breact%4019.2.6__%40types%2Breact%4019.2_9ef6bace3a0bb159887c545478466d7a/node_modules/fumadocs-openapi/dist/ui/client/storage-key.js","../../../../../../apps/docs/node_modules/.pnpm/fumadocs-openapi%4010.0.11_%40types%2Breact-dom%4019.2.3_%40types%2Breact%4019.2.6__%40types%2Breact%4019.2_9ef6bace3a0bb159887c545478466d7a/node_modules/fumadocs-openapi/dist/ui/operation/example-panel/client.js"],"sourcesContent":["'use client';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { createContext, use, useMemo, useRef, useState, } from 'react';\nconst OperationContext = createContext(null);\nexport function OperationProvider({ route, examples, defaultExampleId, children, }) {\n    const [example, setExample] = useState(() => defaultExampleId ?? examples.at(0)?.id);\n    const listeners = useRef([]);\n    return (_jsx(OperationContext, { value: useMemo(() => ({\n            example,\n            route,\n            setExample: (newKey) => {\n                const example = examples.find((example) => example.id === newKey);\n                if (!example)\n                    return;\n                setExample(newKey);\n                for (const listener of listeners.current) {\n                    listener(example.data, example.encoded);\n                }\n            },\n            examples,\n            setExampleData: (data, encoded) => {\n                for (const item of examples) {\n                    if (item.id === example) {\n                        // persistent changes\n                        item.data = data;\n                        item.encoded = encoded;\n                        break;\n                    }\n                }\n                for (const listener of listeners.current) {\n                    listener(data, encoded);\n                }\n            },\n            removeListener: (listener) => {\n                listeners.current = listeners.current.filter((item) => item !== listener);\n            },\n            addListener: (listener) => {\n                // initial call to listeners to ensure their data is the latest\n                // this is necessary to avoid race conditions between `useEffect()`\n                const active = examples.find((item) => item.id === example);\n                listener(active.data, active.encoded);\n                listeners.current.push(listener);\n            },\n        }), [example, route, examples]), children: children }));\n}\nexport function useOperationContext() {\n    return use(OperationContext);\n}\n","'use client';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { createContext, use, useEffect, useMemo, useRef, useState, } from 'react';\nimport { defaultAdapters } from '../../requests/media/adapter.js';\nimport { useStorageKey } from '../client/storage-key.js';\nconst ApiContext = createContext(null);\nconst ServerSelectContext = createContext(null);\nexport function useApiContext() {\n    const ctx = use(ApiContext);\n    if (!ctx)\n        throw new Error('Component must be used under <ApiProvider />');\n    return ctx;\n}\nexport function useServerSelectContext() {\n    const ctx = use(ServerSelectContext);\n    if (!ctx)\n        throw new Error('Component must be used under <ApiProvider />');\n    return ctx;\n}\nexport function ApiProvider({ defaultBaseUrl, children, servers, shikiOptions, client, }) {\n    const serverRef = useRef(null);\n    return (_jsx(ApiContext, { value: useMemo(() => ({\n            serverRef,\n            shikiOptions,\n            client,\n            mediaAdapters: {\n                ...defaultAdapters,\n                ...client.mediaAdapters,\n            },\n            servers,\n        }), [servers, client, shikiOptions]), children: _jsx(ServerSelectProvider, { defaultBaseUrl: defaultBaseUrl, children: children }) }));\n}\nfunction ServerSelectProvider({ defaultBaseUrl, children, }) {\n    const { servers, serverRef } = useApiContext();\n    const storageKeys = useStorageKey();\n    const [server, setServer] = useState(() => {\n        const defaultItem = defaultBaseUrl\n            ? servers.find((item) => item.url === defaultBaseUrl)\n            : servers[0];\n        return defaultItem\n            ? {\n                url: defaultItem.url,\n                variables: getDefaultValues(defaultItem),\n            }\n            : null;\n    });\n    serverRef.current = server;\n    useEffect(() => {\n        const cached = localStorage.getItem(storageKeys.of('server-url'));\n        if (!cached)\n            return;\n        try {\n            const obj = JSON.parse(cached);\n            if (!obj || typeof obj !== 'object')\n                return;\n            setServer(obj);\n        }\n        catch {\n            // ignore\n        }\n    }, [storageKeys]);\n    return (_jsx(ServerSelectContext, { value: useMemo(() => ({\n            server,\n            setServerVariables(variables) {\n                setServer((prev) => {\n                    if (!prev)\n                        return null;\n                    const updated = { ...prev, variables };\n                    localStorage.setItem(storageKeys.of('server-url'), JSON.stringify(updated));\n                    return updated;\n                });\n            },\n            setServer(value) {\n                const obj = servers.find((item) => item.url === value);\n                if (!obj)\n                    return;\n                const result = {\n                    url: value,\n                    variables: getDefaultValues(obj),\n                };\n                localStorage.setItem(storageKeys.of('server-url'), JSON.stringify(result));\n                setServer(result);\n            },\n        }), [server, servers, storageKeys]), children: children }));\n}\nfunction getDefaultValues(server) {\n    const out = {};\n    if (!server.variables)\n        return out;\n    for (const [k, v] of Object.entries(server.variables)) {\n        out[k] = v.default;\n    }\n    return out;\n}\n","import { useApiContext } from '../contexts/api.js';\nimport { useMemo } from 'react';\nexport function useStorageKey() {\n    const { storageKeyPrefix } = useApiContext().client;\n    return useMemo(() => ({\n        of: (name) => getStorageKey(storageKeyPrefix, name),\n        AuthField: (field) => getStorageKey(storageKeyPrefix, `auth-${field.original?.id ?? field.fieldName}`),\n    }), [storageKeyPrefix]);\n}\nexport function getStorageKey(prefix = 'fumadocs-openapi-', name) {\n    return prefix + name;\n}\n","'use client';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useApiContext, useServerSelectContext } from '../../../ui/contexts/api.js';\nimport { useOperationContext, } from '../../../ui/contexts/operation.js';\nimport { joinURL, withBase, resolveServerUrl, resolveRequestData, } from '../../../utils/url.js';\nimport { Select, SelectTrigger, SelectValue, SelectContent, SelectItem, } from '../../../ui/components/select.js';\nimport { DynamicCodeBlock } from 'fumadocs-ui/components/dynamic-codeblock';\nimport { useState, useEffect, useMemo } from 'react';\nexport function APIExampleSelector() {\n    const { example: key, setExample: setKey, examples } = useOperationContext();\n    const { APIExampleSelector: Override } = useApiContext().client.operation ?? {};\n    if (Override) {\n        return _jsx(Override, { items: examples, value: key, onValueChange: setKey });\n    }\n    function renderItem(item) {\n        return (_jsxs(\"div\", { children: [_jsx(\"span\", { className: \"font-medium text-sm\", children: item.name }), _jsx(\"span\", { className: \"text-fd-muted-foreground\", children: item.description })] }));\n    }\n    if (examples.length === 1)\n        return null;\n    const selected = examples.find((item) => item.id === key);\n    return (_jsxs(Select, { value: key, onValueChange: setKey, children: [_jsx(SelectTrigger, { className: \"not-prose mb-2\", children: selected && _jsx(SelectValue, { asChild: true, children: renderItem(selected) }) }), _jsx(SelectContent, { children: examples.map((item) => (_jsx(SelectItem, { value: item.id, children: renderItem(item) }, item.id))) })] }));\n}\nexport function APIExampleUsageTab(sample) {\n    const { shikiOptions, mediaAdapters } = useApiContext();\n    const { examples, example: selectedExampleId, route, addListener, removeListener, } = useOperationContext();\n    const { server } = useServerSelectContext();\n    const [data, setData] = useState(() => examples.find((example) => example.id === selectedExampleId)?.encoded);\n    useEffect(() => {\n        const listener = (_, encoded) => setData(encoded);\n        addListener(listener);\n        return () => {\n            removeListener(listener);\n        };\n    }, [addListener, removeListener]);\n    const code = useMemo(() => {\n        if (!sample.source || !data)\n            return;\n        if (typeof sample.source === 'string')\n            return sample.source;\n        return sample.source(joinURL(withBase(server ? resolveServerUrl(server.url, server.variables) : '/', typeof window !== 'undefined'\n            ? window.location.origin\n            : 'https://loading'), resolveRequestData(route, data)), data, {\n            server: sample.serverContext,\n            mediaAdapters,\n        });\n    }, [mediaAdapters, sample, server, route, data]);\n    if (!code || !sample)\n        return null;\n    return (_jsx(DynamicCodeBlock, { lang: sample.lang, code: code, options: shikiOptions }));\n}\n"],"names":[],"mappings":"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","ignoreList":[0,1,2,3]}