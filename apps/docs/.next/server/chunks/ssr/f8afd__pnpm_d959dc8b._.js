module.exports=[88637,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.regexpCode=c.getEsmExportName=c.getProperty=c.safeStringify=c.stringify=c.strConcat=c.addCodeArg=c.str=c._=c.nil=c._Code=c.Name=c.IDENTIFIER=c._CodeOrName=void 0;class d{}c._CodeOrName=d,c.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class e extends d{constructor(a){if(super(),!c.IDENTIFIER.test(a))throw Error("CodeGen: name must be a valid identifier");this.str=a}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}c.Name=e;class f extends d{constructor(a){super(),this._items="string"==typeof a?[a]:a}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let a=this._items[0];return""===a||'""'===a}get str(){var a;return null!=(a=this._str)?a:this._str=this._items.reduce((a,b)=>`${a}${b}`,"")}get names(){var a;return null!=(a=this._names)?a:this._names=this._items.reduce((a,b)=>(b instanceof e&&(a[b.str]=(a[b.str]||0)+1),a),{})}}function g(a,...b){let c=[a[0]],d=0;for(;d<b.length;)j(c,b[d]),c.push(a[++d]);return new f(c)}c._Code=f,c.nil=new f(""),c._=g;let h=new f("+");function i(a,...b){let c=[k(a[0])],d=0;for(;d<b.length;)c.push(h),j(c,b[d]),c.push(h,k(a[++d]));return function(a){let b=1;for(;b<a.length-1;){if(a[b]===h){var c,d;let f=(c=a[b-1],'""'===(d=a[b+1])?c:'""'===c?d:"string"==typeof c?d instanceof e||'"'!==c[c.length-1]?void 0:"string"!=typeof d?`${c.slice(0,-1)}${d}"`:'"'===d[0]?c.slice(0,-1)+d.slice(1):void 0:"string"!=typeof d||'"'!==d[0]||c instanceof e?void 0:`"${c}${d.slice(1)}`);if(void 0!==f){a.splice(b-1,3,f);continue}a[b++]="+"}b++}}(c),new f(c)}function j(a,b){var c;b instanceof f?a.push(...b._items):b instanceof e?a.push(b):a.push("number"==typeof(c=b)||"boolean"==typeof c||null===c?c:k(Array.isArray(c)?c.join(","):c))}function k(a){return JSON.stringify(a).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}c.str=i,c.addCodeArg=j,c.strConcat=function(a,b){return b.emptyStr()?a:a.emptyStr()?b:i`${a}${b}`},c.stringify=function(a){return new f(k(a))},c.safeStringify=k,c.getProperty=function(a){return"string"==typeof a&&c.IDENTIFIER.test(a)?new f(`.${a}`):g`[${a}]`},c.getEsmExportName=function(a){if("string"==typeof a&&c.IDENTIFIER.test(a))return new f(`${a}`);throw Error(`CodeGen: invalid export name: ${a}, use explicit $id name mapping`)},c.regexpCode=function(a){return new f(a.toString())}},13762,(a,b,c)=>{"use strict";var d,e;Object.defineProperty(c,"__esModule",{value:!0}),c.ValueScope=c.ValueScopeName=c.Scope=c.varKinds=c.UsedValueState=void 0;let f=a.r(88637);class g extends Error{constructor(a){super(`CodeGen: "code" for ${a} not defined`),this.value=a.value}}(e=d||(c.UsedValueState=d={}))[e.Started=0]="Started",e[e.Completed=1]="Completed",c.varKinds={const:new f.Name("const"),let:new f.Name("let"),var:new f.Name("var")};class h{constructor({prefixes:a,parent:b}={}){this._names={},this._prefixes=a,this._parent=b}toName(a){return a instanceof f.Name?a:this.name(a)}name(a){return new f.Name(this._newName(a))}_newName(a){let b=this._names[a]||this._nameGroup(a);return`${a}${b.index++}`}_nameGroup(a){var b,c;if((null==(c=null==(b=this._parent)?void 0:b._prefixes)?void 0:c.has(a))||this._prefixes&&!this._prefixes.has(a))throw Error(`CodeGen: prefix "${a}" is not allowed in this scope`);return this._names[a]={prefix:a,index:0}}}c.Scope=h;class i extends f.Name{constructor(a,b){super(b),this.prefix=a}setValue(a,{property:b,itemIndex:c}){this.value=a,this.scopePath=(0,f._)`.${new f.Name(b)}[${c}]`}}c.ValueScopeName=i;let j=(0,f._)`\n`;c.ValueScope=class extends h{constructor(a){super(a),this._values={},this._scope=a.scope,this.opts={...a,_n:a.lines?j:f.nil}}get(){return this._scope}name(a){return new i(a,this._newName(a))}value(a,b){var c;if(void 0===b.ref)throw Error("CodeGen: ref must be passed in value");let d=this.toName(a),{prefix:e}=d,f=null!=(c=b.key)?c:b.ref,g=this._values[e];if(g){let a=g.get(f);if(a)return a}else g=this._values[e]=new Map;g.set(f,d);let h=this._scope[e]||(this._scope[e]=[]),i=h.length;return h[i]=b.ref,d.setValue(b,{property:e,itemIndex:i}),d}getValue(a,b){let c=this._values[a];if(c)return c.get(b)}scopeRefs(a,b=this._values){return this._reduceValues(b,b=>{if(void 0===b.scopePath)throw Error(`CodeGen: name "${b}" has no value`);return(0,f._)`${a}${b.scopePath}`})}scopeCode(a=this._values,b,c){return this._reduceValues(a,a=>{if(void 0===a.value)throw Error(`CodeGen: name "${a}" has no value`);return a.value.code},b,c)}_reduceValues(a,b,e={},h){let i=f.nil;for(let j in a){let k=a[j];if(!k)continue;let l=e[j]=e[j]||new Map;k.forEach(a=>{if(l.has(a))return;l.set(a,d.Started);let e=b(a);if(e){let b=this.opts.es5?c.varKinds.var:c.varKinds.const;i=(0,f._)`${i}${b} ${a} = ${e};${this.opts._n}`}else if(e=null==h?void 0:h(a))i=(0,f._)`${i}${e}${this.opts._n}`;else throw new g(a);l.set(a,d.Completed)})}return i}}},1252,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.or=c.and=c.not=c.CodeGen=c.operators=c.varKinds=c.ValueScopeName=c.ValueScope=c.Scope=c.Name=c.regexpCode=c.stringify=c.getProperty=c.nil=c.strConcat=c.str=c._=void 0;let d=a.r(88637),e=a.r(13762);var f=a.r(88637);Object.defineProperty(c,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(c,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(c,"strConcat",{enumerable:!0,get:function(){return f.strConcat}}),Object.defineProperty(c,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(c,"getProperty",{enumerable:!0,get:function(){return f.getProperty}}),Object.defineProperty(c,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(c,"regexpCode",{enumerable:!0,get:function(){return f.regexpCode}}),Object.defineProperty(c,"Name",{enumerable:!0,get:function(){return f.Name}});var g=a.r(13762);Object.defineProperty(c,"Scope",{enumerable:!0,get:function(){return g.Scope}}),Object.defineProperty(c,"ValueScope",{enumerable:!0,get:function(){return g.ValueScope}}),Object.defineProperty(c,"ValueScopeName",{enumerable:!0,get:function(){return g.ValueScopeName}}),Object.defineProperty(c,"varKinds",{enumerable:!0,get:function(){return g.varKinds}}),c.operators={GT:new d._Code(">"),GTE:new d._Code(">="),LT:new d._Code("<"),LTE:new d._Code("<="),EQ:new d._Code("==="),NEQ:new d._Code("!=="),NOT:new d._Code("!"),OR:new d._Code("||"),AND:new d._Code("&&"),ADD:new d._Code("+")};class h{optimizeNodes(){return this}optimizeNames(a,b){return this}}class i extends h{constructor(a,b,c){super(),this.varKind=a,this.name=b,this.rhs=c}render({es5:a,_n:b}){let c=a?e.varKinds.var:this.varKind,d=void 0===this.rhs?"":` = ${this.rhs}`;return`${c} ${this.name}${d};`+b}optimizeNames(a,b){if(a[this.name.str])return this.rhs&&(this.rhs=F(this.rhs,a,b)),this}get names(){return this.rhs instanceof d._CodeOrName?this.rhs.names:{}}}class j extends h{constructor(a,b,c){super(),this.lhs=a,this.rhs=b,this.sideEffects=c}render({_n:a}){return`${this.lhs} = ${this.rhs};`+a}optimizeNames(a,b){if(!(this.lhs instanceof d.Name)||a[this.lhs.str]||this.sideEffects)return this.rhs=F(this.rhs,a,b),this}get names(){return E(this.lhs instanceof d.Name?{}:{...this.lhs.names},this.rhs)}}class k extends j{constructor(a,b,c,d){super(a,c,d),this.op=b}render({_n:a}){return`${this.lhs} ${this.op}= ${this.rhs};`+a}}class l extends h{constructor(a){super(),this.label=a,this.names={}}render({_n:a}){return`${this.label}:`+a}}class m extends h{constructor(a){super(),this.label=a,this.names={}}render({_n:a}){let b=this.label?` ${this.label}`:"";return`break${b};`+a}}class n extends h{constructor(a){super(),this.error=a}render({_n:a}){return`throw ${this.error};`+a}get names(){return this.error.names}}class o extends h{constructor(a){super(),this.code=a}render({_n:a}){return`${this.code};`+a}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(a,b){return this.code=F(this.code,a,b),this}get names(){return this.code instanceof d._CodeOrName?this.code.names:{}}}class p extends h{constructor(a=[]){super(),this.nodes=a}render(a){return this.nodes.reduce((b,c)=>b+c.render(a),"")}optimizeNodes(){let{nodes:a}=this,b=a.length;for(;b--;){let c=a[b].optimizeNodes();Array.isArray(c)?a.splice(b,1,...c):c?a[b]=c:a.splice(b,1)}return a.length>0?this:void 0}optimizeNames(a,b){let{nodes:c}=this,d=c.length;for(;d--;){let e=c[d];e.optimizeNames(a,b)||(function(a,b){for(let c in b)a[c]=(a[c]||0)-(b[c]||0)}(a,e.names),c.splice(d,1))}return c.length>0?this:void 0}get names(){return this.nodes.reduce((a,b)=>D(a,b.names),{})}}class q extends p{render(a){return"{"+a._n+super.render(a)+"}"+a._n}}class r extends p{}class s extends q{}s.kind="else";class t extends q{constructor(a,b){super(b),this.condition=a}render(a){let b=`if(${this.condition})`+super.render(a);return this.else&&(b+="else "+this.else.render(a)),b}optimizeNodes(){super.optimizeNodes();let a=this.condition;if(!0===a)return this.nodes;let b=this.else;if(b){let a=b.optimizeNodes();b=this.else=Array.isArray(a)?new s(a):a}return b?!1===a?b instanceof t?b:b.nodes:this.nodes.length?this:new t(G(a),b instanceof t?[b]:b.nodes):!1!==a&&this.nodes.length?this:void 0}optimizeNames(a,b){var c;if(this.else=null==(c=this.else)?void 0:c.optimizeNames(a,b),super.optimizeNames(a,b)||this.else)return this.condition=F(this.condition,a,b),this}get names(){let a=super.names;return E(a,this.condition),this.else&&D(a,this.else.names),a}}t.kind="if";class u extends q{}u.kind="for";class v extends u{constructor(a){super(),this.iteration=a}render(a){return`for(${this.iteration})`+super.render(a)}optimizeNames(a,b){if(super.optimizeNames(a,b))return this.iteration=F(this.iteration,a,b),this}get names(){return D(super.names,this.iteration.names)}}class w extends u{constructor(a,b,c,d){super(),this.varKind=a,this.name=b,this.from=c,this.to=d}render(a){let b=a.es5?e.varKinds.var:this.varKind,{name:c,from:d,to:f}=this;return`for(${b} ${c}=${d}; ${c}<${f}; ${c}++)`+super.render(a)}get names(){let a=E(super.names,this.from);return E(a,this.to)}}class x extends u{constructor(a,b,c,d){super(),this.loop=a,this.varKind=b,this.name=c,this.iterable=d}render(a){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(a)}optimizeNames(a,b){if(super.optimizeNames(a,b))return this.iterable=F(this.iterable,a,b),this}get names(){return D(super.names,this.iterable.names)}}class y extends q{constructor(a,b,c){super(),this.name=a,this.args=b,this.async=c}render(a){let b=this.async?"async ":"";return`${b}function ${this.name}(${this.args})`+super.render(a)}}y.kind="func";class z extends p{render(a){return"return "+super.render(a)}}z.kind="return";class A extends q{render(a){let b="try"+super.render(a);return this.catch&&(b+=this.catch.render(a)),this.finally&&(b+=this.finally.render(a)),b}optimizeNodes(){var a,b;return super.optimizeNodes(),null==(a=this.catch)||a.optimizeNodes(),null==(b=this.finally)||b.optimizeNodes(),this}optimizeNames(a,b){var c,d;return super.optimizeNames(a,b),null==(c=this.catch)||c.optimizeNames(a,b),null==(d=this.finally)||d.optimizeNames(a,b),this}get names(){let a=super.names;return this.catch&&D(a,this.catch.names),this.finally&&D(a,this.finally.names),a}}class B extends q{constructor(a){super(),this.error=a}render(a){return`catch(${this.error})`+super.render(a)}}B.kind="catch";class C extends q{render(a){return"finally"+super.render(a)}}function D(a,b){for(let c in b)a[c]=(a[c]||0)+(b[c]||0);return a}function E(a,b){return b instanceof d._CodeOrName?D(a,b.names):a}function F(a,b,c){var e;if(a instanceof d.Name)return f(a);if(!((e=a)instanceof d._Code&&e._items.some(a=>a instanceof d.Name&&1===b[a.str]&&void 0!==c[a.str])))return a;return new d._Code(a._items.reduce((a,b)=>(b instanceof d.Name&&(b=f(b)),b instanceof d._Code?a.push(...b._items):a.push(b),a),[]));function f(a){let d=c[a.str];return void 0===d||1!==b[a.str]?a:(delete b[a.str],d)}}function G(a){return"boolean"==typeof a||"number"==typeof a||null===a?!a:(0,d._)`!${K(a)}`}C.kind="finally",c.CodeGen=class{constructor(a,b={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...b,_n:b.lines?"\n":""},this._extScope=a,this._scope=new e.Scope({parent:a}),this._nodes=[new r]}toString(){return this._root.render(this.opts)}name(a){return this._scope.name(a)}scopeName(a){return this._extScope.name(a)}scopeValue(a,b){let c=this._extScope.value(a,b);return(this._values[c.prefix]||(this._values[c.prefix]=new Set)).add(c),c}getScopeValue(a,b){return this._extScope.getValue(a,b)}scopeRefs(a){return this._extScope.scopeRefs(a,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(a,b,c,d){let e=this._scope.toName(b);return void 0!==c&&d&&(this._constants[e.str]=c),this._leafNode(new i(a,e,c)),e}const(a,b,c){return this._def(e.varKinds.const,a,b,c)}let(a,b,c){return this._def(e.varKinds.let,a,b,c)}var(a,b,c){return this._def(e.varKinds.var,a,b,c)}assign(a,b,c){return this._leafNode(new j(a,b,c))}add(a,b){return this._leafNode(new k(a,c.operators.ADD,b))}code(a){return"function"==typeof a?a():a!==d.nil&&this._leafNode(new o(a)),this}object(...a){let b=["{"];for(let[c,e]of a)b.length>1&&b.push(","),b.push(c),(c!==e||this.opts.es5)&&(b.push(":"),(0,d.addCodeArg)(b,e));return b.push("}"),new d._Code(b)}if(a,b,c){if(this._blockNode(new t(a)),b&&c)this.code(b).else().code(c).endIf();else if(b)this.code(b).endIf();else if(c)throw Error('CodeGen: "else" body without "then" body');return this}elseIf(a){return this._elseNode(new t(a))}else(){return this._elseNode(new s)}endIf(){return this._endBlockNode(t,s)}_for(a,b){return this._blockNode(a),b&&this.code(b).endFor(),this}for(a,b){return this._for(new v(a),b)}forRange(a,b,c,d,f=this.opts.es5?e.varKinds.var:e.varKinds.let){let g=this._scope.toName(a);return this._for(new w(f,g,b,c),()=>d(g))}forOf(a,b,c,f=e.varKinds.const){let g=this._scope.toName(a);if(this.opts.es5){let a=b instanceof d.Name?b:this.var("_arr",b);return this.forRange("_i",0,(0,d._)`${a}.length`,b=>{this.var(g,(0,d._)`${a}[${b}]`),c(g)})}return this._for(new x("of",f,g,b),()=>c(g))}forIn(a,b,c,f=this.opts.es5?e.varKinds.var:e.varKinds.const){if(this.opts.ownProperties)return this.forOf(a,(0,d._)`Object.keys(${b})`,c);let g=this._scope.toName(a);return this._for(new x("in",f,g,b),()=>c(g))}endFor(){return this._endBlockNode(u)}label(a){return this._leafNode(new l(a))}break(a){return this._leafNode(new m(a))}return(a){let b=new z;if(this._blockNode(b),this.code(a),1!==b.nodes.length)throw Error('CodeGen: "return" should have one node');return this._endBlockNode(z)}try(a,b,c){if(!b&&!c)throw Error('CodeGen: "try" without "catch" and "finally"');let d=new A;if(this._blockNode(d),this.code(a),b){let a=this.name("e");this._currNode=d.catch=new B(a),b(a)}return c&&(this._currNode=d.finally=new C,this.code(c)),this._endBlockNode(B,C)}throw(a){return this._leafNode(new n(a))}block(a,b){return this._blockStarts.push(this._nodes.length),a&&this.code(a).endBlock(b),this}endBlock(a){let b=this._blockStarts.pop();if(void 0===b)throw Error("CodeGen: not in self-balancing block");let c=this._nodes.length-b;if(c<0||void 0!==a&&c!==a)throw Error(`CodeGen: wrong number of nodes: ${c} vs ${a} expected`);return this._nodes.length=b,this}func(a,b=d.nil,c,e){return this._blockNode(new y(a,b,c)),e&&this.code(e).endFunc(),this}endFunc(){return this._endBlockNode(y)}optimize(a=1){for(;a-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(a){return this._currNode.nodes.push(a),this}_blockNode(a){this._currNode.nodes.push(a),this._nodes.push(a)}_endBlockNode(a,b){let c=this._currNode;if(c instanceof a||b&&c instanceof b)return this._nodes.pop(),this;throw Error(`CodeGen: not in block "${b?`${a.kind}/${b.kind}`:a.kind}"`)}_elseNode(a){let b=this._currNode;if(!(b instanceof t))throw Error('CodeGen: "else" without "if"');return this._currNode=b.else=a,this}get _root(){return this._nodes[0]}get _currNode(){let a=this._nodes;return a[a.length-1]}set _currNode(a){let b=this._nodes;b[b.length-1]=a}},c.not=G;let H=J(c.operators.AND);c.and=function(...a){return a.reduce(H)};let I=J(c.operators.OR);function J(a){return(b,c)=>b===d.nil?c:c===d.nil?b:(0,d._)`${K(b)} ${a} ${K(c)}`}function K(a){return a instanceof d.Name?a:(0,d._)`(${a})`}c.or=function(...a){return a.reduce(I)}},45878,(a,b,c)=>{"use strict";var d,e;Object.defineProperty(c,"__esModule",{value:!0}),c.checkStrictMode=c.getErrorPath=c.Type=c.useFunc=c.setEvaluated=c.evaluatedPropsToName=c.mergeEvaluated=c.eachItem=c.unescapeJsonPointer=c.escapeJsonPointer=c.escapeFragment=c.unescapeFragment=c.schemaRefOrVal=c.schemaHasRulesButRef=c.schemaHasRules=c.checkUnknownRules=c.alwaysValidSchema=c.toHash=void 0;let f=a.r(1252),g=a.r(88637);function h(a,b=a.schema){let{opts:c,self:d}=a;if(!c.strictSchema||"boolean"==typeof b)return;let e=d.RULES.keywords;for(let c in b)e[c]||p(a,`unknown keyword: "${c}"`)}function i(a,b){if("boolean"==typeof a)return!a;for(let c in a)if(b[c])return!0;return!1}function j(a){return"number"==typeof a?`${a}`:a.replace(/~/g,"~0").replace(/\//g,"~1")}function k(a){return a.replace(/~1/g,"/").replace(/~0/g,"~")}function l({mergeNames:a,mergeToName:b,mergeValues:c,resultToName:d}){return(e,g,h,i)=>{let j=void 0===h?g:h instanceof f.Name?(g instanceof f.Name?a(e,g,h):b(e,g,h),h):g instanceof f.Name?(b(e,h,g),g):c(g,h);return i!==f.Name||j instanceof f.Name?j:d(e,j)}}function m(a,b){if(!0===b)return a.var("props",!0);let c=a.var("props",(0,f._)`{}`);return void 0!==b&&n(a,c,b),c}function n(a,b,c){Object.keys(c).forEach(c=>a.assign((0,f._)`${b}${(0,f.getProperty)(c)}`,!0))}c.toHash=function(a){let b={};for(let c of a)b[c]=!0;return b},c.alwaysValidSchema=function(a,b){return"boolean"==typeof b?b:0===Object.keys(b).length||(h(a,b),!i(b,a.self.RULES.all))},c.checkUnknownRules=h,c.schemaHasRules=i,c.schemaHasRulesButRef=function(a,b){if("boolean"==typeof a)return!a;for(let c in a)if("$ref"!==c&&b.all[c])return!0;return!1},c.schemaRefOrVal=function({topSchemaRef:a,schemaPath:b},c,d,e){if(!e){if("number"==typeof c||"boolean"==typeof c)return c;if("string"==typeof c)return(0,f._)`${c}`}return(0,f._)`${a}${b}${(0,f.getProperty)(d)}`},c.unescapeFragment=function(a){return k(decodeURIComponent(a))},c.escapeFragment=function(a){return encodeURIComponent(j(a))},c.escapeJsonPointer=j,c.unescapeJsonPointer=k,c.eachItem=function(a,b){if(Array.isArray(a))for(let c of a)b(c);else b(a)},c.mergeEvaluated={props:l({mergeNames:(a,b,c)=>a.if((0,f._)`${c} !== true && ${b} !== undefined`,()=>{a.if((0,f._)`${b} === true`,()=>a.assign(c,!0),()=>a.assign(c,(0,f._)`${c} || {}`).code((0,f._)`Object.assign(${c}, ${b})`))}),mergeToName:(a,b,c)=>a.if((0,f._)`${c} !== true`,()=>{!0===b?a.assign(c,!0):(a.assign(c,(0,f._)`${c} || {}`),n(a,c,b))}),mergeValues:(a,b)=>!0===a||{...a,...b},resultToName:m}),items:l({mergeNames:(a,b,c)=>a.if((0,f._)`${c} !== true && ${b} !== undefined`,()=>a.assign(c,(0,f._)`${b} === true ? true : ${c} > ${b} ? ${c} : ${b}`)),mergeToName:(a,b,c)=>a.if((0,f._)`${c} !== true`,()=>a.assign(c,!0===b||(0,f._)`${c} > ${b} ? ${c} : ${b}`)),mergeValues:(a,b)=>!0===a||Math.max(a,b),resultToName:(a,b)=>a.var("items",b)})},c.evaluatedPropsToName=m,c.setEvaluated=n;let o={};function p(a,b,c=a.opts.strictSchema){if(c){if(b=`strict mode: ${b}`,!0===c)throw Error(b);a.self.logger.warn(b)}}c.useFunc=function(a,b){return a.scopeValue("func",{ref:b,code:o[b.code]||(o[b.code]=new g._Code(b.code))})},(e=d||(c.Type=d={}))[e.Num=0]="Num",e[e.Str=1]="Str",c.getErrorPath=function(a,b,c){if(a instanceof f.Name){let e=b===d.Num;return c?e?(0,f._)`"[" + ${a} + "]"`:(0,f._)`"['" + ${a} + "']"`:e?(0,f._)`"/" + ${a}`:(0,f._)`"/" + ${a}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return c?(0,f.getProperty)(a).toString():"/"+j(a)},c.checkStrictMode=p},61637,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(1252);c.default={data:new d.Name("data"),valCxt:new d.Name("valCxt"),instancePath:new d.Name("instancePath"),parentData:new d.Name("parentData"),parentDataProperty:new d.Name("parentDataProperty"),rootData:new d.Name("rootData"),dynamicAnchors:new d.Name("dynamicAnchors"),vErrors:new d.Name("vErrors"),errors:new d.Name("errors"),this:new d.Name("this"),self:new d.Name("self"),scope:new d.Name("scope"),json:new d.Name("json"),jsonPos:new d.Name("jsonPos"),jsonLen:new d.Name("jsonLen"),jsonPart:new d.Name("jsonPart")}},52921,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.extendErrors=c.resetErrorsCount=c.reportExtraError=c.reportError=c.keyword$DataError=c.keywordError=void 0;let d=a.r(1252),e=a.r(45878),f=a.r(61637);function g(a,b){let c=a.const("err",b);a.if((0,d._)`${f.default.vErrors} === null`,()=>a.assign(f.default.vErrors,(0,d._)`[${c}]`),(0,d._)`${f.default.vErrors}.push(${c})`),a.code((0,d._)`${f.default.errors}++`)}function h(a,b){let{gen:c,validateName:e,schemaEnv:f}=a;f.$async?c.throw((0,d._)`new ${a.ValidationError}(${b})`):(c.assign((0,d._)`${e}.errors`,b),c.return(!1))}c.keywordError={message:({keyword:a})=>(0,d.str)`must pass "${a}" keyword validation`},c.keyword$DataError={message:({keyword:a,schemaType:b})=>b?(0,d.str)`"${a}" keyword must be ${b} ($data)`:(0,d.str)`"${a}" keyword is invalid ($data)`},c.reportError=function(a,b=c.keywordError,e,f){let{it:i}=a,{gen:k,compositeRule:l,allErrors:m}=i,n=j(a,b,e);(null!=f?f:l||m)?g(k,n):h(i,(0,d._)`[${n}]`)},c.reportExtraError=function(a,b=c.keywordError,d){let{it:e}=a,{gen:i,compositeRule:k,allErrors:l}=e;g(i,j(a,b,d)),k||l||h(e,f.default.vErrors)},c.resetErrorsCount=function(a,b){a.assign(f.default.errors,b),a.if((0,d._)`${f.default.vErrors} !== null`,()=>a.if(b,()=>a.assign((0,d._)`${f.default.vErrors}.length`,b),()=>a.assign(f.default.vErrors,null)))},c.extendErrors=function({gen:a,keyword:b,schemaValue:c,data:e,errsCount:g,it:h}){if(void 0===g)throw Error("ajv implementation error");let i=a.name("err");a.forRange("i",g,f.default.errors,g=>{a.const(i,(0,d._)`${f.default.vErrors}[${g}]`),a.if((0,d._)`${i}.instancePath === undefined`,()=>a.assign((0,d._)`${i}.instancePath`,(0,d.strConcat)(f.default.instancePath,h.errorPath))),a.assign((0,d._)`${i}.schemaPath`,(0,d.str)`${h.errSchemaPath}/${b}`),h.opts.verbose&&(a.assign((0,d._)`${i}.schema`,c),a.assign((0,d._)`${i}.data`,e))})};let i={keyword:new d.Name("keyword"),schemaPath:new d.Name("schemaPath"),params:new d.Name("params"),propertyName:new d.Name("propertyName"),message:new d.Name("message"),schema:new d.Name("schema"),parentSchema:new d.Name("parentSchema")};function j(a,b,c){let{createErrors:g}=a.it;return!1===g?(0,d._)`{}`:function(a,b,c={}){let{gen:g,it:h}=a,j=[function({errorPath:a},{instancePath:b}){let c=b?(0,d.str)`${a}${(0,e.getErrorPath)(b,e.Type.Str)}`:a;return[f.default.instancePath,(0,d.strConcat)(f.default.instancePath,c)]}(h,c),function({keyword:a,it:{errSchemaPath:b}},{schemaPath:c,parentSchema:f}){let g=f?b:(0,d.str)`${b}/${a}`;return c&&(g=(0,d.str)`${g}${(0,e.getErrorPath)(c,e.Type.Str)}`),[i.schemaPath,g]}(a,c)];return function(a,{params:b,message:c},e){let{keyword:g,data:h,schemaValue:j,it:k}=a,{opts:l,propertyName:m,topSchemaRef:n,schemaPath:o}=k;e.push([i.keyword,g],[i.params,"function"==typeof b?b(a):b||(0,d._)`{}`]),l.messages&&e.push([i.message,"function"==typeof c?c(a):c]),l.verbose&&e.push([i.schema,j],[i.parentSchema,(0,d._)`${n}${o}`],[f.default.data,h]),m&&e.push([i.propertyName,m])}(a,b,j),g.object(...j)}(a,b,c)}},48374,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.boolOrEmptySchema=c.topBoolOrEmptySchema=void 0;let d=a.r(52921),e=a.r(1252),f=a.r(61637),g={message:"boolean schema is false"};function h(a,b){let{gen:c,data:e}=a;(0,d.reportError)({gen:c,keyword:"false schema",data:e,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:a},g,void 0,b)}c.topBoolOrEmptySchema=function(a){let{gen:b,schema:c,validateName:d}=a;!1===c?h(a,!1):"object"==typeof c&&!0===c.$async?b.return(f.default.data):(b.assign((0,e._)`${d}.errors`,null),b.return(!0))},c.boolOrEmptySchema=function(a,b){let{gen:c,schema:d}=a;!1===d?(c.var(b,!1),h(a)):c.var(b,!0)}},50022,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.getRules=c.isJSONType=void 0;let d=new Set(["string","number","integer","boolean","null","object","array"]);c.isJSONType=function(a){return"string"==typeof a&&d.has(a)},c.getRules=function(){let a={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...a,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},a.number,a.string,a.array,a.object],post:{rules:[]},all:{},keywords:{}}}},48835,(a,b,c)=>{"use strict";function d(a,b){return b.rules.some(b=>e(a,b))}function e(a,b){var c;return void 0!==a[b.keyword]||(null==(c=b.definition.implements)?void 0:c.some(b=>void 0!==a[b]))}Object.defineProperty(c,"__esModule",{value:!0}),c.shouldUseRule=c.shouldUseGroup=c.schemaHasRulesForType=void 0,c.schemaHasRulesForType=function({schema:a,self:b},c){let e=b.RULES.types[c];return e&&!0!==e&&d(a,e)},c.shouldUseGroup=d,c.shouldUseRule=e},49364,(a,b,c)=>{"use strict";var d,e;Object.defineProperty(c,"__esModule",{value:!0}),c.reportTypeError=c.checkDataTypes=c.checkDataType=c.coerceAndCheckDataType=c.getJSONTypes=c.getSchemaTypes=c.DataType=void 0;let f=a.r(50022),g=a.r(48835),h=a.r(52921),i=a.r(1252),j=a.r(45878);function k(a){let b=Array.isArray(a)?a:a?[a]:[];if(b.every(f.isJSONType))return b;throw Error("type must be JSONType or JSONType[]: "+b.join(","))}(e=d||(c.DataType=d={}))[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong",c.getSchemaTypes=function(a){let b=k(a.type);if(b.includes("null")){if(!1===a.nullable)throw Error("type: null contradicts nullable: false")}else{if(!b.length&&void 0!==a.nullable)throw Error('"nullable" cannot be used without "type"');!0===a.nullable&&b.push("null")}return b},c.getJSONTypes=k,c.coerceAndCheckDataType=function(a,b){var c,e;let{gen:f,data:h,opts:j}=a,k=(c=b,(e=j.coerceTypes)?c.filter(a=>l.has(a)||"array"===e&&"array"===a):[]),m=b.length>0&&!(0===k.length&&1===b.length&&(0,g.schemaHasRulesForType)(a,b[0]));if(m){let c=n(b,h,j.strictNumbers,d.Wrong);f.if(c,()=>{k.length?function(a,b,c){let{gen:d,data:e,opts:f}=a,g=d.let("dataType",(0,i._)`typeof ${e}`),h=d.let("coerced",(0,i._)`undefined`);for(let a of("array"===f.coerceTypes&&d.if((0,i._)`${g} == 'object' && Array.isArray(${e}) && ${e}.length == 1`,()=>d.assign(e,(0,i._)`${e}[0]`).assign(g,(0,i._)`typeof ${e}`).if(n(b,e,f.strictNumbers),()=>d.assign(h,e))),d.if((0,i._)`${h} !== undefined`),c))(l.has(a)||"array"===a&&"array"===f.coerceTypes)&&function(a){switch(a){case"string":d.elseIf((0,i._)`${g} == "number" || ${g} == "boolean"`).assign(h,(0,i._)`"" + ${e}`).elseIf((0,i._)`${e} === null`).assign(h,(0,i._)`""`);return;case"number":d.elseIf((0,i._)`${g} == "boolean" || ${e} === null
              || (${g} == "string" && ${e} && ${e} == +${e})`).assign(h,(0,i._)`+${e}`);return;case"integer":d.elseIf((0,i._)`${g} === "boolean" || ${e} === null
              || (${g} === "string" && ${e} && ${e} == +${e} && !(${e} % 1))`).assign(h,(0,i._)`+${e}`);return;case"boolean":d.elseIf((0,i._)`${e} === "false" || ${e} === 0 || ${e} === null`).assign(h,!1).elseIf((0,i._)`${e} === "true" || ${e} === 1`).assign(h,!0);return;case"null":d.elseIf((0,i._)`${e} === "" || ${e} === 0 || ${e} === false`),d.assign(h,null);return;case"array":d.elseIf((0,i._)`${g} === "string" || ${g} === "number"
              || ${g} === "boolean" || ${e} === null`).assign(h,(0,i._)`[${e}]`)}}(a);d.else(),p(a),d.endIf(),d.if((0,i._)`${h} !== undefined`,()=>{d.assign(e,h),function({gen:a,parentData:b,parentDataProperty:c},d){a.if((0,i._)`${b} !== undefined`,()=>a.assign((0,i._)`${b}[${c}]`,d))}(a,h)})}(a,b,k):p(a)})}return m};let l=new Set(["string","number","integer","boolean","null"]);function m(a,b,c,e=d.Correct){let f,g=e===d.Correct?i.operators.EQ:i.operators.NEQ;switch(a){case"null":return(0,i._)`${b} ${g} null`;case"array":f=(0,i._)`Array.isArray(${b})`;break;case"object":f=(0,i._)`${b} && typeof ${b} == "object" && !Array.isArray(${b})`;break;case"integer":f=h((0,i._)`!(${b} % 1) && !isNaN(${b})`);break;case"number":f=h();break;default:return(0,i._)`typeof ${b} ${g} ${a}`}return e===d.Correct?f:(0,i.not)(f);function h(a=i.nil){return(0,i.and)((0,i._)`typeof ${b} == "number"`,a,c?(0,i._)`isFinite(${b})`:i.nil)}}function n(a,b,c,d){let e;if(1===a.length)return m(a[0],b,c,d);let f=(0,j.toHash)(a);if(f.array&&f.object){let a=(0,i._)`typeof ${b} != "object"`;e=f.null?a:(0,i._)`!${b} || ${a}`,delete f.null,delete f.array,delete f.object}else e=i.nil;for(let a in f.number&&delete f.integer,f)e=(0,i.and)(e,m(a,b,c,d));return e}c.checkDataType=m,c.checkDataTypes=n;let o={message:({schema:a})=>`must be ${a}`,params:({schema:a,schemaValue:b})=>"string"==typeof a?(0,i._)`{type: ${a}}`:(0,i._)`{type: ${b}}`};function p(a){let b=function(a){let{gen:b,data:c,schema:d}=a,e=(0,j.schemaRefOrVal)(a,d,"type");return{gen:b,keyword:"type",data:c,schema:d.type,schemaCode:e,schemaValue:e,parentSchema:d,params:{},it:a}}(a);(0,h.reportError)(b,o)}c.reportTypeError=p},8417,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.assignDefaults=void 0;let d=a.r(1252),e=a.r(45878);function f(a,b,c){let{gen:f,compositeRule:g,data:h,opts:i}=a;if(void 0===c)return;let j=(0,d._)`${h}${(0,d.getProperty)(b)}`;if(g)return void(0,e.checkStrictMode)(a,`default is ignored for: ${j}`);let k=(0,d._)`${j} === undefined`;"empty"===i.useDefaults&&(k=(0,d._)`${k} || ${j} === null || ${j} === ""`),f.if(k,(0,d._)`${j} = ${(0,d.stringify)(c)}`)}c.assignDefaults=function(a,b){let{properties:c,items:d}=a.schema;if("object"===b&&c)for(let b in c)f(a,b,c[b].default);else"array"===b&&Array.isArray(d)&&d.forEach((b,c)=>f(a,c,b.default))}},18382,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.validateUnion=c.validateArray=c.usePattern=c.callValidateCode=c.schemaProperties=c.allSchemaProperties=c.noPropertyInData=c.propertyInData=c.isOwnProperty=c.hasPropFunc=c.reportMissingProp=c.checkMissingProp=c.checkReportMissingProp=void 0;let d=a.r(1252),e=a.r(45878),f=a.r(61637),g=a.r(45878);function h(a){return a.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,d._)`Object.prototype.hasOwnProperty`})}function i(a,b,c){return(0,d._)`${h(a)}.call(${b}, ${c})`}function j(a,b,c,e){let f=(0,d._)`${b}${(0,d.getProperty)(c)} === undefined`;return e?(0,d.or)(f,(0,d.not)(i(a,b,c))):f}function k(a){return a?Object.keys(a).filter(a=>"__proto__"!==a):[]}c.checkReportMissingProp=function(a,b){let{gen:c,data:e,it:f}=a;c.if(j(c,e,b,f.opts.ownProperties),()=>{a.setParams({missingProperty:(0,d._)`${b}`},!0),a.error()})},c.checkMissingProp=function({gen:a,data:b,it:{opts:c}},e,f){return(0,d.or)(...e.map(e=>(0,d.and)(j(a,b,e,c.ownProperties),(0,d._)`${f} = ${e}`)))},c.reportMissingProp=function(a,b){a.setParams({missingProperty:b},!0),a.error()},c.hasPropFunc=h,c.isOwnProperty=i,c.propertyInData=function(a,b,c,e){let f=(0,d._)`${b}${(0,d.getProperty)(c)} !== undefined`;return e?(0,d._)`${f} && ${i(a,b,c)}`:f},c.noPropertyInData=j,c.allSchemaProperties=k,c.schemaProperties=function(a,b){return k(b).filter(c=>!(0,e.alwaysValidSchema)(a,b[c]))},c.callValidateCode=function({schemaCode:a,data:b,it:{gen:c,topSchemaRef:e,schemaPath:g,errorPath:h},it:i},j,k,l){let m=l?(0,d._)`${a}, ${b}, ${e}${g}`:b,n=[[f.default.instancePath,(0,d.strConcat)(f.default.instancePath,h)],[f.default.parentData,i.parentData],[f.default.parentDataProperty,i.parentDataProperty],[f.default.rootData,f.default.rootData]];i.opts.dynamicRef&&n.push([f.default.dynamicAnchors,f.default.dynamicAnchors]);let o=(0,d._)`${m}, ${c.object(...n)}`;return k!==d.nil?(0,d._)`${j}.call(${k}, ${o})`:(0,d._)`${j}(${o})`};let l=(0,d._)`new RegExp`;c.usePattern=function({gen:a,it:{opts:b}},c){let e=b.unicodeRegExp?"u":"",{regExp:f}=b.code,h=f(c,e);return a.scopeValue("pattern",{key:h.toString(),ref:h,code:(0,d._)`${"new RegExp"===f.code?l:(0,g.useFunc)(a,f)}(${c}, ${e})`})},c.validateArray=function(a){let{gen:b,data:c,keyword:f,it:g}=a,h=b.name("valid");if(g.allErrors){let a=b.let("valid",!0);return i(()=>b.assign(a,!1)),a}return b.var(h,!0),i(()=>b.break()),h;function i(g){let i=b.const("len",(0,d._)`${c}.length`);b.forRange("i",0,i,c=>{a.subschema({keyword:f,dataProp:c,dataPropType:e.Type.Num},h),b.if((0,d.not)(h),g)})}},c.validateUnion=function(a){let{gen:b,schema:c,keyword:f,it:g}=a;if(!Array.isArray(c))throw Error("ajv implementation error");if(c.some(a=>(0,e.alwaysValidSchema)(g,a))&&!g.opts.unevaluated)return;let h=b.let("valid",!1),i=b.name("_valid");b.block(()=>c.forEach((c,e)=>{let g=a.subschema({keyword:f,schemaProp:e,compositeRule:!0},i);b.assign(h,(0,d._)`${h} || ${i}`),a.mergeValidEvaluated(g,i)||b.if((0,d.not)(h))})),a.result(h,()=>a.reset(),()=>a.error(!0))}},96618,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.validateKeywordUsage=c.validSchemaType=c.funcKeywordCode=c.macroKeywordCode=void 0;let d=a.r(1252),e=a.r(61637),f=a.r(18382),g=a.r(52921);function h(a){let{gen:b,data:c,it:e}=a;b.if(e.parentData,()=>b.assign(c,(0,d._)`${e.parentData}[${e.parentDataProperty}]`))}function i(a,b,c){if(void 0===c)throw Error(`keyword "${b}" failed to compile`);return a.scopeValue("keyword","function"==typeof c?{ref:c}:{ref:c,code:(0,d.stringify)(c)})}c.macroKeywordCode=function(a,b){let{gen:c,keyword:e,schema:f,parentSchema:g,it:h}=a,j=b.macro.call(h.self,f,g,h),k=i(c,e,j);!1!==h.opts.validateSchema&&h.self.validateSchema(j,!0);let l=c.name("valid");a.subschema({schema:j,schemaPath:d.nil,errSchemaPath:`${h.errSchemaPath}/${e}`,topSchemaRef:k,compositeRule:!0},l),a.pass(l,()=>a.error(!0))},c.funcKeywordCode=function(a,b){var c;let{gen:j,keyword:k,schema:l,parentSchema:m,$data:n,it:o}=a;!function({schemaEnv:a},b){if(b.async&&!a.$async)throw Error("async keyword in sync schema")}(o,b);let p=i(j,k,!n&&b.compile?b.compile.call(o.self,l,m,o):b.validate),q=j.let("valid");function r(c=b.async?(0,d._)`await `:d.nil){let g=o.opts.passContext?e.default.this:e.default.self,h=!("compile"in b&&!n||!1===b.schema);j.assign(q,(0,d._)`${c}${(0,f.callValidateCode)(a,p,g,h)}`,b.modifying)}function s(a){var c;j.if((0,d.not)(null!=(c=b.valid)?c:q),a)}a.block$data(q,function(){if(!1===b.errors)r(),b.modifying&&h(a),s(()=>a.error());else{let c,f,i=b.async?(c=j.let("ruleErrs",null),j.try(()=>r((0,d._)`await `),a=>j.assign(q,!1).if((0,d._)`${a} instanceof ${o.ValidationError}`,()=>j.assign(c,(0,d._)`${a}.errors`),()=>j.throw(a))),c):(f=(0,d._)`${p}.errors`,j.assign(f,null),r(d.nil),f);b.modifying&&h(a),s(()=>(function(a,b){let{gen:c}=a;c.if((0,d._)`Array.isArray(${b})`,()=>{c.assign(e.default.vErrors,(0,d._)`${e.default.vErrors} === null ? ${b} : ${e.default.vErrors}.concat(${b})`).assign(e.default.errors,(0,d._)`${e.default.vErrors}.length`),(0,g.extendErrors)(a)},()=>a.error())})(a,i))}}),a.ok(null!=(c=b.valid)?c:q)},c.validSchemaType=function(a,b,c=!1){return!b.length||b.some(b=>"array"===b?Array.isArray(a):"object"===b?a&&"object"==typeof a&&!Array.isArray(a):typeof a==b||c&&void 0===a)},c.validateKeywordUsage=function({schema:a,opts:b,self:c,errSchemaPath:d},e,f){if(Array.isArray(e.keyword)?!e.keyword.includes(f):e.keyword!==f)throw Error("ajv implementation error");let g=e.dependencies;if(null==g?void 0:g.some(b=>!Object.prototype.hasOwnProperty.call(a,b)))throw Error(`parent schema must have dependencies of ${f}: ${g.join(",")}`);if(e.validateSchema&&!e.validateSchema(a[f])){let a=`keyword "${f}" value is invalid at path "${d}": `+c.errorsText(e.validateSchema.errors);if("log"===b.validateSchema)c.logger.error(a);else throw Error(a)}}},45932,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.extendSubschemaMode=c.extendSubschemaData=c.getSubschema=void 0;let d=a.r(1252),e=a.r(45878);c.getSubschema=function(a,{keyword:b,schemaProp:c,schema:f,schemaPath:g,errSchemaPath:h,topSchemaRef:i}){if(void 0!==b&&void 0!==f)throw Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==b){let f=a.schema[b];return void 0===c?{schema:f,schemaPath:(0,d._)`${a.schemaPath}${(0,d.getProperty)(b)}`,errSchemaPath:`${a.errSchemaPath}/${b}`}:{schema:f[c],schemaPath:(0,d._)`${a.schemaPath}${(0,d.getProperty)(b)}${(0,d.getProperty)(c)}`,errSchemaPath:`${a.errSchemaPath}/${b}/${(0,e.escapeFragment)(c)}`}}if(void 0!==f){if(void 0===g||void 0===h||void 0===i)throw Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:f,schemaPath:g,topSchemaRef:i,errSchemaPath:h}}throw Error('either "keyword" or "schema" must be passed')},c.extendSubschemaData=function(a,b,{dataProp:c,dataPropType:f,data:g,dataTypes:h,propertyName:i}){if(void 0!==g&&void 0!==c)throw Error('both "data" and "dataProp" passed, only one allowed');let{gen:j}=b;if(void 0!==c){let{errorPath:g,dataPathArr:h,opts:i}=b;k(j.let("data",(0,d._)`${b.data}${(0,d.getProperty)(c)}`,!0)),a.errorPath=(0,d.str)`${g}${(0,e.getErrorPath)(c,f,i.jsPropertySyntax)}`,a.parentDataProperty=(0,d._)`${c}`,a.dataPathArr=[...h,a.parentDataProperty]}function k(c){a.data=c,a.dataLevel=b.dataLevel+1,a.dataTypes=[],b.definedProperties=new Set,a.parentData=b.data,a.dataNames=[...b.dataNames,c]}void 0!==g&&(k(g instanceof d.Name?g:j.let("data",g,!0)),void 0!==i&&(a.propertyName=i)),h&&(a.dataTypes=h)},c.extendSubschemaMode=function(a,{jtdDiscriminator:b,jtdMetadata:c,compositeRule:d,createErrors:e,allErrors:f}){void 0!==d&&(a.compositeRule=d),void 0!==e&&(a.createErrors=e),void 0!==f&&(a.allErrors=f),a.jtdDiscriminator=b,a.jtdMetadata=c}},46940,(a,b,c)=>{"use strict";b.exports=function a(b,c){if(b===c)return!0;if(b&&c&&"object"==typeof b&&"object"==typeof c){if(b.constructor!==c.constructor)return!1;if(Array.isArray(b)){if((d=b.length)!=c.length)return!1;for(e=d;0!=e--;)if(!a(b[e],c[e]))return!1;return!0}if(b.constructor===RegExp)return b.source===c.source&&b.flags===c.flags;if(b.valueOf!==Object.prototype.valueOf)return b.valueOf()===c.valueOf();if(b.toString!==Object.prototype.toString)return b.toString()===c.toString();if((d=(f=Object.keys(b)).length)!==Object.keys(c).length)return!1;for(e=d;0!=e--;)if(!Object.prototype.hasOwnProperty.call(c,f[e]))return!1;for(e=d;0!=e--;){var d,e,f,g=f[e];if(!a(b[g],c[g]))return!1}return!0}return b!=b&&c!=c}},29663,(a,b,c)=>{"use strict";var d=b.exports=function(a,b,c){"function"==typeof b&&(c=b,b={});var e="function"==typeof(c=b.cb||c)?c:c.pre||function(){};!function a(b,c,e,f,g,h,i,j,k,l){if(f&&"object"==typeof f&&!Array.isArray(f)){for(var m in c(f,g,h,i,j,k,l),f){var n=f[m];if(Array.isArray(n)){if(m in d.arrayKeywords)for(var o=0;o<n.length;o++)a(b,c,e,n[o],g+"/"+m+"/"+o,h,g,m,f,o)}else if(m in d.propsKeywords){if(n&&"object"==typeof n)for(var p in n)a(b,c,e,n[p],g+"/"+m+"/"+p.replace(/~/g,"~0").replace(/\//g,"~1"),h,g,m,f,p)}else(m in d.keywords||b.allKeys&&!(m in d.skipKeywords))&&a(b,c,e,n,g+"/"+m,h,g,m,f)}e(f,g,h,i,j,k,l)}}(b,e,c.post||function(){},a,"",a)};d.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},d.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},d.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},d.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},99024,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.getSchemaRefs=c.resolveUrl=c.normalizeId=c._getFullPath=c.getFullPath=c.inlineRef=void 0;let d=a.r(45878),e=a.r(46940),f=a.r(29663),g=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);c.inlineRef=function(a,b=!0){return"boolean"==typeof a||(!0===b?!function a(b){for(let c in b){if(h.has(c))return!0;let d=b[c];if(Array.isArray(d)&&d.some(a)||"object"==typeof d&&a(d))return!0}return!1}(a):!!b&&function a(b){let c=0;for(let e in b)if("$ref"===e||(c++,!g.has(e)&&("object"==typeof b[e]&&(0,d.eachItem)(b[e],b=>c+=a(b)),c===1/0)))return 1/0;return c}(a)<=b)};let h=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function i(a,b="",c){!1!==c&&(b=l(b));let d=a.parse(b);return j(a,d)}function j(a,b){return a.serialize(b).split("#")[0]+"#"}c.getFullPath=i,c._getFullPath=j;let k=/#\/?$/;function l(a){return a?a.replace(k,""):""}c.normalizeId=l,c.resolveUrl=function(a,b,c){return c=l(c),a.resolve(b,c)};let m=/^[a-z_][-a-z0-9._]*$/i;c.getSchemaRefs=function(a,b){if("boolean"==typeof a)return{};let{schemaId:c,uriResolver:d}=this.opts,g=l(a[c]||b),h={"":g},j=i(d,g,!1),k={},n=new Set;return f(a,{allKeys:!0},(a,b,d,e)=>{if(void 0===e)return;let f=j+b,g=h[e];function i(b){let c=this.opts.uriResolver.resolve;if(b=l(g?c(g,b):b),n.has(b))throw p(b);n.add(b);let d=this.refs[b];return"string"==typeof d&&(d=this.refs[d]),"object"==typeof d?o(a,d.schema,b):b!==l(f)&&("#"===b[0]?(o(a,k[b],b),k[b]=a):this.refs[b]=f),b}function q(a){if("string"==typeof a){if(!m.test(a))throw Error(`invalid anchor "${a}"`);i.call(this,`#${a}`)}}"string"==typeof a[c]&&(g=i.call(this,a[c])),q.call(this,a.$anchor),q.call(this,a.$dynamicAnchor),h[b]=g}),k;function o(a,b,c){if(void 0!==b&&!e(a,b))throw p(c)}function p(a){return Error(`reference "${a}" resolves to more than one schema`)}}},12711,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.getData=c.KeywordCxt=c.validateFunctionCode=void 0;let d=a.r(48374),e=a.r(49364),f=a.r(48835),g=a.r(49364),h=a.r(8417),i=a.r(96618),j=a.r(45932),k=a.r(1252),l=a.r(61637),m=a.r(99024),n=a.r(45878),o=a.r(52921);function p({gen:a,validateName:b,schema:c,schemaEnv:d,opts:e},f){var g;e.code.es5?a.func(b,(0,k._)`${l.default.data}, ${l.default.valCxt}`,d.$async,()=>{var b,d;a.code((0,k._)`"use strict"; ${q(c,e)}`),b=a,d=e,b.if(l.default.valCxt,()=>{b.var(l.default.instancePath,(0,k._)`${l.default.valCxt}.${l.default.instancePath}`),b.var(l.default.parentData,(0,k._)`${l.default.valCxt}.${l.default.parentData}`),b.var(l.default.parentDataProperty,(0,k._)`${l.default.valCxt}.${l.default.parentDataProperty}`),b.var(l.default.rootData,(0,k._)`${l.default.valCxt}.${l.default.rootData}`),d.dynamicRef&&b.var(l.default.dynamicAnchors,(0,k._)`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{b.var(l.default.instancePath,(0,k._)`""`),b.var(l.default.parentData,(0,k._)`undefined`),b.var(l.default.parentDataProperty,(0,k._)`undefined`),b.var(l.default.rootData,l.default.data),d.dynamicRef&&b.var(l.default.dynamicAnchors,(0,k._)`{}`)}),a.code(f)}):a.func(b,(0,k._)`${l.default.data}, ${(g=e,(0,k._)`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${g.dynamicRef?(0,k._)`, ${l.default.dynamicAnchors}={}`:k.nil}}={}`)}`,d.$async,()=>a.code(q(c,e)).code(f))}function q(a,b){let c="object"==typeof a&&a[b.schemaId];return c&&(b.code.source||b.code.process)?(0,k._)`/*# sourceURL=${c} */`:k.nil}function r({schema:a,self:b}){if("boolean"==typeof a)return!a;for(let c in a)if(b.RULES.all[c])return!0;return!1}function s(a){return"boolean"!=typeof a.schema}function t(a){(0,n.checkUnknownRules)(a),function(a){let{schema:b,errSchemaPath:c,opts:d,self:e}=a;b.$ref&&d.ignoreKeywordsWithRef&&(0,n.schemaHasRulesButRef)(b,e.RULES)&&e.logger.warn(`$ref: keywords ignored in schema at path "${c}"`)}(a)}function u(a,b){if(a.opts.jtd)return w(a,[],!1,b);let c=(0,e.getSchemaTypes)(a.schema),d=(0,e.coerceAndCheckDataType)(a,c);w(a,c,!d,b)}function v({gen:a,schemaEnv:b,schema:c,errSchemaPath:d,opts:e}){let f=c.$comment;if(!0===e.$comment)a.code((0,k._)`${l.default.self}.logger.log(${f})`);else if("function"==typeof e.$comment){let c=(0,k.str)`${d}/$comment`,e=a.scopeValue("root",{ref:b.root});a.code((0,k._)`${l.default.self}.opts.$comment(${f}, ${c}, ${e}.schema)`)}}function w(a,b,c,d){var e,h,i,j;let{gen:m,schema:o,data:p,allErrors:q,opts:r,self:s}=a,{RULES:t}=s;if(o.$ref&&(r.ignoreKeywordsWithRef||!(0,n.schemaHasRulesButRef)(o,t)))return void m.block(()=>B(a,"$ref",t.all.$ref.definition));function u(e){(0,f.shouldUseGroup)(o,e)&&(e.type?(m.if((0,g.checkDataType)(e.type,p,r.strictNumbers)),x(a,e),1===b.length&&b[0]===e.type&&c&&(m.else(),(0,g.reportTypeError)(a)),m.endIf()):x(a,e),q||m.if((0,k._)`${l.default.errors} === ${d||0}`))}r.jtd||(e=a,h=b,!e.schemaEnv.meta&&e.opts.strictTypes&&(function(a,b){if(b.length){if(!a.dataTypes.length){a.dataTypes=b;return}b.forEach(b=>{y(a.dataTypes,b)||z(a,`type "${b}" not allowed by context "${a.dataTypes.join(",")}"`)}),function(a,b){let c=[];for(let d of a.dataTypes)y(b,d)?c.push(d):b.includes("integer")&&"number"===d&&c.push("integer");a.dataTypes=c}(a,b)}}(e,h),e.opts.allowUnionTypes||(i=e,(j=h).length>1&&!(2===j.length&&j.includes("null"))&&z(i,"use allowUnionTypes to allow union type keyword")),function(a,b){let c=a.self.RULES.all;for(let d in c){let e=c[d];if("object"==typeof e&&(0,f.shouldUseRule)(a.schema,e)){let{type:c}=e.definition;c.length&&!c.some(a=>{var c,d;return c=b,d=a,c.includes(d)||"number"===d&&c.includes("integer")})&&z(a,`missing type "${c.join(",")}" for keyword "${d}"`)}}}(e,e.dataTypes))),m.block(()=>{for(let a of t.rules)u(a);u(t.post)})}function x(a,b){let{gen:c,schema:d,opts:{useDefaults:e}}=a;e&&(0,h.assignDefaults)(a,b.type),c.block(()=>{for(let c of b.rules)(0,f.shouldUseRule)(d,c)&&B(a,c.keyword,c.definition,b.type)})}function y(a,b){return a.includes(b)||"integer"===b&&a.includes("number")}function z(a,b){let c=a.schemaEnv.baseId+a.errSchemaPath;b+=` at "${c}" (strictTypes)`,(0,n.checkStrictMode)(a,b,a.opts.strictTypes)}c.validateFunctionCode=function(a){s(a)&&(t(a),r(a))?function(a){let{schema:b,opts:c,gen:d}=a;p(a,()=>{c.$comment&&b.$comment&&v(a),function(a){let{schema:b,opts:c}=a;void 0!==b.default&&c.useDefaults&&c.strictSchema&&(0,n.checkStrictMode)(a,"default is ignored in the schema root")}(a),d.let(l.default.vErrors,null),d.let(l.default.errors,0),c.unevaluated&&function(a){let{gen:b,validateName:c}=a;a.evaluated=b.const("evaluated",(0,k._)`${c}.evaluated`),b.if((0,k._)`${a.evaluated}.dynamicProps`,()=>b.assign((0,k._)`${a.evaluated}.props`,(0,k._)`undefined`)),b.if((0,k._)`${a.evaluated}.dynamicItems`,()=>b.assign((0,k._)`${a.evaluated}.items`,(0,k._)`undefined`))}(a),u(a),function(a){let{gen:b,schemaEnv:c,validateName:d,ValidationError:e,opts:f}=a;c.$async?b.if((0,k._)`${l.default.errors} === 0`,()=>b.return(l.default.data),()=>b.throw((0,k._)`new ${e}(${l.default.vErrors})`)):(b.assign((0,k._)`${d}.errors`,l.default.vErrors),f.unevaluated&&function({gen:a,evaluated:b,props:c,items:d}){c instanceof k.Name&&a.assign((0,k._)`${b}.props`,c),d instanceof k.Name&&a.assign((0,k._)`${b}.items`,d)}(a),b.return((0,k._)`${l.default.errors} === 0`))}(a)})}(a):p(a,()=>(0,d.topBoolOrEmptySchema)(a))};class A{constructor(a,b,c){if((0,i.validateKeywordUsage)(a,b,c),this.gen=a.gen,this.allErrors=a.allErrors,this.keyword=c,this.data=a.data,this.schema=a.schema[c],this.$data=b.$data&&a.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,n.schemaRefOrVal)(a,this.schema,c,this.$data),this.schemaType=b.schemaType,this.parentSchema=a.schema,this.params={},this.it=a,this.def=b,this.$data)this.schemaCode=a.gen.const("vSchema",E(this.$data,a));else if(this.schemaCode=this.schemaValue,!(0,i.validSchemaType)(this.schema,b.schemaType,b.allowUndefined))throw Error(`${c} value must be ${JSON.stringify(b.schemaType)}`);("code"in b?b.trackErrors:!1!==b.errors)&&(this.errsCount=a.gen.const("_errs",l.default.errors))}result(a,b,c){this.failResult((0,k.not)(a),b,c)}failResult(a,b,c){this.gen.if(a),c?c():this.error(),b?(this.gen.else(),b(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(a,b){this.failResult((0,k.not)(a),void 0,b)}fail(a){if(void 0===a){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(a),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(a){if(!this.$data)return this.fail(a);let{schemaCode:b}=this;this.fail((0,k._)`${b} !== undefined && (${(0,k.or)(this.invalid$data(),a)})`)}error(a,b,c){if(b){this.setParams(b),this._error(a,c),this.setParams({});return}this._error(a,c)}_error(a,b){(a?o.reportExtraError:o.reportError)(this,this.def.error,b)}$dataError(){(0,o.reportError)(this,this.def.$dataError||o.keyword$DataError)}reset(){if(void 0===this.errsCount)throw Error('add "trackErrors" to keyword definition');(0,o.resetErrorsCount)(this.gen,this.errsCount)}ok(a){this.allErrors||this.gen.if(a)}setParams(a,b){b?Object.assign(this.params,a):this.params=a}block$data(a,b,c=k.nil){this.gen.block(()=>{this.check$data(a,c),b()})}check$data(a=k.nil,b=k.nil){if(!this.$data)return;let{gen:c,schemaCode:d,schemaType:e,def:f}=this;c.if((0,k.or)((0,k._)`${d} === undefined`,b)),a!==k.nil&&c.assign(a,!0),(e.length||f.validateSchema)&&(c.elseIf(this.invalid$data()),this.$dataError(),a!==k.nil&&c.assign(a,!1)),c.else()}invalid$data(){let{gen:a,schemaCode:b,schemaType:c,def:d,it:e}=this;return(0,k.or)(function(){if(c.length){if(!(b instanceof k.Name))throw Error("ajv implementation error");let a=Array.isArray(c)?c:[c];return(0,k._)`${(0,g.checkDataTypes)(a,b,e.opts.strictNumbers,g.DataType.Wrong)}`}return k.nil}(),function(){if(d.validateSchema){let c=a.scopeValue("validate$data",{ref:d.validateSchema});return(0,k._)`!${c}(${b})`}return k.nil}())}subschema(a,b){let c=(0,j.getSubschema)(this.it,a);(0,j.extendSubschemaData)(c,this.it,a),(0,j.extendSubschemaMode)(c,a);let e={...this.it,...c,items:void 0,props:void 0};return!function(a,b){if(s(a)&&(t(a),r(a)))return function(a,b){var c;let d,{schema:e,gen:f,opts:g}=a;g.$comment&&e.$comment&&v(a),(d=(c=a).schema[c.opts.schemaId])&&(c.baseId=(0,m.resolveUrl)(c.opts.uriResolver,c.baseId,d)),function(a){if(a.schema.$async&&!a.schemaEnv.$async)throw Error("async schema in sync schema")}(a);let h=f.const("_errs",l.default.errors);u(a,h),f.var(b,(0,k._)`${h} === ${l.default.errors}`)}(a,b);(0,d.boolOrEmptySchema)(a,b)}(e,b),e}mergeEvaluated(a,b){let{it:c,gen:d}=this;c.opts.unevaluated&&(!0!==c.props&&void 0!==a.props&&(c.props=n.mergeEvaluated.props(d,a.props,c.props,b)),!0!==c.items&&void 0!==a.items&&(c.items=n.mergeEvaluated.items(d,a.items,c.items,b)))}mergeValidEvaluated(a,b){let{it:c,gen:d}=this;if(c.opts.unevaluated&&(!0!==c.props||!0!==c.items))return d.if(b,()=>this.mergeEvaluated(a,k.Name)),!0}}function B(a,b,c,d){let e=new A(a,c,b);"code"in c?c.code(e,d):e.$data&&c.validate?(0,i.funcKeywordCode)(e,c):"macro"in c?(0,i.macroKeywordCode)(e,c):(c.compile||c.validate)&&(0,i.funcKeywordCode)(e,c)}c.KeywordCxt=A;let C=/^\/(?:[^~]|~0|~1)*$/,D=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function E(a,{dataLevel:b,dataNames:c,dataPathArr:d}){let e,f;if(""===a)return l.default.rootData;if("/"===a[0]){if(!C.test(a))throw Error(`Invalid JSON-pointer: ${a}`);e=a,f=l.default.rootData}else{let g=D.exec(a);if(!g)throw Error(`Invalid JSON-pointer: ${a}`);let i=+g[1];if("#"===(e=g[2])){if(i>=b)throw Error(h("property/index",i));return d[b-i]}if(i>b)throw Error(h("data",i));if(f=c[b-i],!e)return f}let g=f;for(let a of e.split("/"))a&&(f=(0,k._)`${f}${(0,k.getProperty)((0,n.unescapeJsonPointer)(a))}`,g=(0,k._)`${g} && ${f}`);return g;function h(a,c){return`Cannot access ${a} ${c} levels up, current level is ${b}`}}c.getData=E},64923,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=class extends Error{constructor(a){super("validation failed"),this.errors=a,this.ajv=this.validation=!0}}},58913,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(99024);c.default=class extends Error{constructor(a,b,c,e){super(e||`can't resolve reference ${c} from id ${b}`),this.missingRef=(0,d.resolveUrl)(a,b,c),this.missingSchema=(0,d.normalizeId)((0,d.getFullPath)(a,this.missingRef))}}},47282,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.resolveSchema=c.getCompilingSchema=c.resolveRef=c.compileSchema=c.SchemaEnv=void 0;let d=a.r(1252),e=a.r(64923),f=a.r(61637),g=a.r(99024),h=a.r(45878),i=a.r(12711);class j{constructor(a){var b;let c;this.refs={},this.dynamicAnchors={},"object"==typeof a.schema&&(c=a.schema),this.schema=a.schema,this.schemaId=a.schemaId,this.root=a.root||this,this.baseId=null!=(b=a.baseId)?b:(0,g.normalizeId)(null==c?void 0:c[a.schemaId||"$id"]),this.schemaPath=a.schemaPath,this.localRefs=a.localRefs,this.meta=a.meta,this.$async=null==c?void 0:c.$async,this.refs={}}}function k(a){let b,c,h=m.call(this,a);if(h)return h;let j=(0,g.getFullPath)(this.opts.uriResolver,a.root.baseId),{es5:k,lines:l}=this.opts.code,{ownProperties:n}=this.opts,o=new d.CodeGen(this.scope,{es5:k,lines:l,ownProperties:n});a.$async&&(b=o.scopeValue("Error",{ref:e.default,code:(0,d._)`require("ajv/dist/runtime/validation_error").default`}));let p=o.scopeName("validate");a.validateName=p;let q={gen:o,allErrors:this.opts.allErrors,data:f.default.data,parentData:f.default.parentData,parentDataProperty:f.default.parentDataProperty,dataNames:[f.default.data],dataPathArr:[d.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",!0===this.opts.code.source?{ref:a.schema,code:(0,d.stringify)(a.schema)}:{ref:a.schema}),validateName:p,ValidationError:b,schema:a.schema,schemaEnv:a,rootId:j,baseId:a.baseId||j,schemaPath:d.nil,errSchemaPath:a.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,d._)`""`,opts:this.opts,self:this};try{this._compilations.add(a),(0,i.validateFunctionCode)(q),o.optimize(this.opts.code.optimize);let b=o.toString();c=`${o.scopeRefs(f.default.scope)}return ${b}`,this.opts.code.process&&(c=this.opts.code.process(c,a));let e=Function(`${f.default.self}`,`${f.default.scope}`,c)(this,this.scope.get());if(this.scope.value(p,{ref:e}),e.errors=null,e.schema=a.schema,e.schemaEnv=a,a.$async&&(e.$async=!0),!0===this.opts.code.source&&(e.source={validateName:p,validateCode:b,scopeValues:o._values}),this.opts.unevaluated){let{props:a,items:b}=q;e.evaluated={props:a instanceof d.Name?void 0:a,items:b instanceof d.Name?void 0:b,dynamicProps:a instanceof d.Name,dynamicItems:b instanceof d.Name},e.source&&(e.source.evaluated=(0,d.stringify)(e.evaluated))}return a.validate=e,a}catch(b){throw delete a.validate,delete a.validateName,c&&this.logger.error("Error compiling schema, function code:",c),b}finally{this._compilations.delete(a)}}function l(a){return(0,g.inlineRef)(a.schema,this.opts.inlineRefs)?a.schema:a.validate?a:k.call(this,a)}function m(a){for(let d of this._compilations){var b,c;if(b=d,c=a,b.schema===c.schema&&b.root===c.root&&b.baseId===c.baseId)return d}}function n(a,b){let c;for(;"string"==typeof(c=this.refs[b]);)b=c;return c||this.schemas[b]||o.call(this,a,b)}function o(a,b){let c=this.opts.uriResolver.parse(b),d=(0,g._getFullPath)(this.opts.uriResolver,c),e=(0,g.getFullPath)(this.opts.uriResolver,a.baseId,void 0);if(Object.keys(a.schema).length>0&&d===e)return q.call(this,c,a);let f=(0,g.normalizeId)(d),h=this.refs[f]||this.schemas[f];if("string"==typeof h){let b=o.call(this,a,h);if("object"!=typeof(null==b?void 0:b.schema))return;return q.call(this,c,b)}if("object"==typeof(null==h?void 0:h.schema)){if(h.validate||k.call(this,h),f===(0,g.normalizeId)(b)){let{schema:b}=h,{schemaId:c}=this.opts,d=b[c];return d&&(e=(0,g.resolveUrl)(this.opts.uriResolver,e,d)),new j({schema:b,schemaId:c,root:a,baseId:e})}return q.call(this,c,h)}}c.SchemaEnv=j,c.compileSchema=k,c.resolveRef=function(a,b,c){var d;c=(0,g.resolveUrl)(this.opts.uriResolver,b,c);let e=a.refs[c];if(e)return e;let f=n.call(this,a,c);if(void 0===f){let e=null==(d=a.localRefs)?void 0:d[c],{schemaId:g}=this.opts;e&&(f=new j({schema:e,schemaId:g,root:a,baseId:b}))}if(void 0!==f)return a.refs[c]=l.call(this,f)},c.getCompilingSchema=m,c.resolveSchema=o;let p=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function q(a,{baseId:b,schema:c,root:d}){var e;let f;if((null==(e=a.fragment)?void 0:e[0])!=="/")return;for(let d of a.fragment.slice(1).split("/")){if("boolean"==typeof c)return;let a=c[(0,h.unescapeFragment)(d)];if(void 0===a)return;let e="object"==typeof(c=a)&&c[this.opts.schemaId];!p.has(d)&&e&&(b=(0,g.resolveUrl)(this.opts.uriResolver,b,e))}if("boolean"!=typeof c&&c.$ref&&!(0,h.schemaHasRulesButRef)(c,this.RULES)){let a=(0,g.resolveUrl)(this.opts.uriResolver,b,c.$ref);f=o.call(this,d,a)}let{schemaId:i}=this.opts;if((f=f||new j({schema:c,schemaId:i,root:d,baseId:b})).schema!==f.root.schema)return f}},48930,a=>{a.v({$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1})},64729,(a,b,c)=>{"use strict";let d=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),e=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function f(a){let b="",c=0,d=0;for(d=0;d<a.length;d++)if(48!==(c=a[d].charCodeAt(0))){if(!(c>=48&&c<=57||c>=65&&c<=70||c>=97&&c<=102))return"";b+=a[d];break}for(d+=1;d<a.length;d++){if(!((c=a[d].charCodeAt(0))>=48&&c<=57||c>=65&&c<=70||c>=97&&c<=102))return"";b+=a[d]}return b}function g(a){return a.length=0,!0}function h(a,b,c){if(a.length){let d=f(a);if(""===d)return c.error=!0,!1;b.push(d),a.length=0}return!0}function i(a){if(2>function(a,b){let c=0;for(let b=0;b<a.length;b++)":"===a[b]&&c++;return c}(a,":"))return{host:a,isIPV6:!1};let b=function(a){let b=0,c={error:!1,address:"",zone:""},d=[],e=[],i=!1,j=!1,k=h;for(let f=0;f<a.length;f++){let h=a[f];if("["!==h&&"]"!==h)if(":"===h){if(!0===i&&(j=!0),!k(e,d,c))break;if(++b>7){c.error=!0;break}f>0&&":"===a[f-1]&&(i=!0),d.push(":");continue}else if("%"===h){if(!k(e,d,c))break;k=g}else{e.push(h);continue}}return e.length&&(k===g?c.zone=e.join(""):j?d.push(e.join("")):d.push(f(e))),c.address=d.join(""),c}(a);if(b.error)return{host:a,isIPV6:!1};{let a=b.address,c=b.address;return b.zone&&(a+="%"+b.zone,c+="%25"+b.zone),{host:a,isIPV6:!0,escapedHost:c}}}b.exports={nonSimpleDomain:RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u),recomposeAuthority:function(a){let b=[];if(void 0!==a.userinfo&&(b.push(a.userinfo),b.push("@")),void 0!==a.host){let c=unescape(a.host);if(!e(c)){let b=i(c);c=!0===b.isIPV6?`[${b.escapedHost}]`:a.host}b.push(c)}return("number"==typeof a.port||"string"==typeof a.port)&&(b.push(":"),b.push(String(a.port))),b.length?b.join(""):void 0},normalizeComponentEncoding:function(a,b){let c=!0!==b?escape:unescape;return void 0!==a.scheme&&(a.scheme=c(a.scheme)),void 0!==a.userinfo&&(a.userinfo=c(a.userinfo)),void 0!==a.host&&(a.host=c(a.host)),void 0!==a.path&&(a.path=c(a.path)),void 0!==a.query&&(a.query=c(a.query)),void 0!==a.fragment&&(a.fragment=c(a.fragment)),a},removeDotSegments:function(a){let b=a,c=[],d=-1,e=0;for(;e=b.length;){if(1===e)if("."===b)break;else if("/"===b){c.push("/");break}else{c.push(b);break}if(2===e){if("."===b[0]){if("."===b[1])break;else if("/"===b[1]){b=b.slice(2);continue}}else if("/"===b[0]&&("."===b[1]||"/"===b[1])){c.push("/");break}}else if(3===e&&"/.."===b){0!==c.length&&c.pop(),c.push("/");break}if("."===b[0]){if("."===b[1]){if("/"===b[2]){b=b.slice(3);continue}}else if("/"===b[1]){b=b.slice(2);continue}}else if("/"===b[0]&&"."===b[1]){if("/"===b[2]){b=b.slice(2);continue}else if("."===b[2]&&"/"===b[3]){b=b.slice(3),0!==c.length&&c.pop();continue}}if(-1===(d=b.indexOf("/",1))){c.push(b);break}c.push(b.slice(0,d)),b=b.slice(d)}return c.join("")},isIPv4:e,isUUID:d,normalizeIPv6:i,stringArrayToHexStripped:f}},75428,(a,b,c)=>{"use strict";let{isUUID:d}=a.r(64729),e=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,f=["http","https","ws","wss","urn","urn:uuid"];function g(a){return!0===a.secure||!1!==a.secure&&!!a.scheme&&3===a.scheme.length&&("w"===a.scheme[0]||"W"===a.scheme[0])&&("s"===a.scheme[1]||"S"===a.scheme[1])&&("s"===a.scheme[2]||"S"===a.scheme[2])}function h(a){return a.host||(a.error=a.error||"HTTP URIs must have a host."),a}function i(a){let b="https"===String(a.scheme).toLowerCase();return(a.port===(b?443:80)||""===a.port)&&(a.port=void 0),a.path||(a.path="/"),a}let j={scheme:"http",domainHost:!0,parse:h,serialize:i},k={scheme:"https",domainHost:j.domainHost,parse:h,serialize:i},l={scheme:"ws",domainHost:!0,parse:function(a){return a.secure=g(a),a.resourceName=(a.path||"/")+(a.query?"?"+a.query:""),a.path=void 0,a.query=void 0,a},serialize:function(a){if((a.port===(g(a)?443:80)||""===a.port)&&(a.port=void 0),"boolean"==typeof a.secure&&(a.scheme=a.secure?"wss":"ws",a.secure=void 0),a.resourceName){let[b,c]=a.resourceName.split("?");a.path=b&&"/"!==b?b:void 0,a.query=c,a.resourceName=void 0}return a.fragment=void 0,a}},m={scheme:"wss",domainHost:l.domainHost,parse:l.parse,serialize:l.serialize},n={http:j,https:k,ws:l,wss:m,urn:{scheme:"urn",parse:function(a,b){if(!a.path)return a.error="URN can not be parsed",a;let c=a.path.match(e);if(c){let d=b.scheme||a.scheme||"urn";a.nid=c[1].toLowerCase(),a.nss=c[2];let e=o(`${d}:${b.nid||a.nid}`);a.path=void 0,e&&(a=e.parse(a,b))}else a.error=a.error||"URN can not be parsed.";return a},serialize:function(a,b){if(void 0===a.nid)throw Error("URN without nid cannot be serialized");let c=b.scheme||a.scheme||"urn",d=a.nid.toLowerCase(),e=o(`${c}:${b.nid||d}`);e&&(a=e.serialize(a,b));let f=a,g=a.nss;return f.path=`${d||b.nid}:${g}`,b.skipEscape=!0,f},skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:function(a,b){return a.uuid=a.nss,a.nss=void 0,b.tolerant||a.uuid&&d(a.uuid)||(a.error=a.error||"UUID is not valid."),a},serialize:function(a){return a.nss=(a.uuid||"").toLowerCase(),a},skipNormalize:!0}};function o(a){return a&&(n[a]||n[a.toLowerCase()])||void 0}Object.setPrototypeOf(n,null),b.exports={wsIsSecure:g,SCHEMES:n,isValidSchemeName:function(a){return -1!==f.indexOf(a)},getSchemeHandler:o}},30788,(a,b,c)=>{"use strict";let{normalizeIPv6:d,removeDotSegments:e,recomposeAuthority:f,normalizeComponentEncoding:g,isIPv4:h,nonSimpleDomain:i}=a.r(64729),{SCHEMES:j,getSchemeHandler:k}=a.r(75428);function l(a,b,c,d){let f={};return d||(a=o(m(a,c),c),b=o(m(b,c),c)),!(c=c||{}).tolerant&&b.scheme?(f.scheme=b.scheme,f.userinfo=b.userinfo,f.host=b.host,f.port=b.port,f.path=e(b.path||""),f.query=b.query):(void 0!==b.userinfo||void 0!==b.host||void 0!==b.port?(f.userinfo=b.userinfo,f.host=b.host,f.port=b.port,f.path=e(b.path||""),f.query=b.query):(b.path?("/"===b.path[0]?f.path=e(b.path):(void 0===a.userinfo&&void 0===a.host&&void 0===a.port||a.path?a.path?f.path=a.path.slice(0,a.path.lastIndexOf("/")+1)+b.path:f.path=b.path:f.path="/"+b.path,f.path=e(f.path)),f.query=b.query):(f.path=a.path,void 0!==b.query?f.query=b.query:f.query=a.query),f.userinfo=a.userinfo,f.host=a.host,f.port=a.port),f.scheme=a.scheme),f.fragment=b.fragment,f}function m(a,b){let c={host:a.host,scheme:a.scheme,userinfo:a.userinfo,port:a.port,path:a.path,query:a.query,nid:a.nid,nss:a.nss,uuid:a.uuid,fragment:a.fragment,reference:a.reference,resourceName:a.resourceName,secure:a.secure,error:""},d=Object.assign({},b),g=[],h=k(d.scheme||c.scheme);h&&h.serialize&&h.serialize(c,d),void 0!==c.path&&(d.skipEscape?c.path=unescape(c.path):(c.path=escape(c.path),void 0!==c.scheme&&(c.path=c.path.split("%3A").join(":")))),"suffix"!==d.reference&&c.scheme&&g.push(c.scheme,":");let i=f(c);if(void 0!==i&&("suffix"!==d.reference&&g.push("//"),g.push(i),c.path&&"/"!==c.path[0]&&g.push("/")),void 0!==c.path){let a=c.path;d.absolutePath||h&&h.absolutePath||(a=e(a)),void 0===i&&"/"===a[0]&&"/"===a[1]&&(a="/%2F"+a.slice(2)),g.push(a)}return void 0!==c.query&&g.push("?",c.query),void 0!==c.fragment&&g.push("#",c.fragment),g.join("")}let n=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function o(a,b){let c=Object.assign({},b),e={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},f=!1;"suffix"===c.reference&&(a=c.scheme?c.scheme+":"+a:"//"+a);let g=a.match(n);if(g){if(e.scheme=g[1],e.userinfo=g[3],e.host=g[4],e.port=parseInt(g[5],10),e.path=g[6]||"",e.query=g[7],e.fragment=g[8],isNaN(e.port)&&(e.port=g[5]),e.host)if(!1===h(e.host)){let a=d(e.host);e.host=a.host.toLowerCase(),f=a.isIPV6}else f=!0;void 0!==e.scheme||void 0!==e.userinfo||void 0!==e.host||void 0!==e.port||void 0!==e.query||e.path?void 0===e.scheme?e.reference="relative":void 0===e.fragment?e.reference="absolute":e.reference="uri":e.reference="same-document",c.reference&&"suffix"!==c.reference&&c.reference!==e.reference&&(e.error=e.error||"URI is not a "+c.reference+" reference.");let b=k(c.scheme||e.scheme);if(!c.unicodeSupport&&(!b||!b.unicodeSupport)&&e.host&&(c.domainHost||b&&b.domainHost)&&!1===f&&i(e.host))try{e.host=URL.domainToASCII(e.host.toLowerCase())}catch(a){e.error=e.error||"Host's domain name can not be converted to ASCII: "+a}(!b||b&&!b.skipNormalize)&&(-1!==a.indexOf("%")&&(void 0!==e.scheme&&(e.scheme=unescape(e.scheme)),void 0!==e.host&&(e.host=unescape(e.host))),e.path&&(e.path=escape(unescape(e.path))),e.fragment&&(e.fragment=encodeURI(decodeURIComponent(e.fragment)))),b&&b.parse&&b.parse(e,c)}else e.error=e.error||"URI can not be parsed.";return e}let p={SCHEMES:j,normalize:function(a,b){return"string"==typeof a?a=m(o(a,b),b):"object"==typeof a&&(a=o(m(a,b),b)),a},resolve:function(a,b,c){let d=c?Object.assign({scheme:"null"},c):{scheme:"null"},e=l(o(a,d),o(b,d),d,!0);return d.skipEscape=!0,m(e,d)},resolveComponent:l,equal:function(a,b,c){return"string"==typeof a?a=m(g(o(a=unescape(a),c),!0),{...c,skipEscape:!0}):"object"==typeof a&&(a=m(g(a,!0),{...c,skipEscape:!0})),"string"==typeof b?b=m(g(o(b=unescape(b),c),!0),{...c,skipEscape:!0}):"object"==typeof b&&(b=m(g(b,!0),{...c,skipEscape:!0})),a.toLowerCase()===b.toLowerCase()},serialize:m,parse:o};b.exports=p,b.exports.default=p,b.exports.fastUri=p},64733,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(30788);d.code='require("ajv/dist/runtime/uri").default',c.default=d},60739,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CodeGen=c.Name=c.nil=c.stringify=c.str=c._=c.KeywordCxt=void 0;var d=a.r(12711);Object.defineProperty(c,"KeywordCxt",{enumerable:!0,get:function(){return d.KeywordCxt}});var e=a.r(1252);Object.defineProperty(c,"_",{enumerable:!0,get:function(){return e._}}),Object.defineProperty(c,"str",{enumerable:!0,get:function(){return e.str}}),Object.defineProperty(c,"stringify",{enumerable:!0,get:function(){return e.stringify}}),Object.defineProperty(c,"nil",{enumerable:!0,get:function(){return e.nil}}),Object.defineProperty(c,"Name",{enumerable:!0,get:function(){return e.Name}}),Object.defineProperty(c,"CodeGen",{enumerable:!0,get:function(){return e.CodeGen}});let f=a.r(64923),g=a.r(58913),h=a.r(50022),i=a.r(47282),j=a.r(1252),k=a.r(99024),l=a.r(49364),m=a.r(45878),n=a.r(48930),o=a.r(64733),p=(a,b)=>new RegExp(a,b);p.code="new RegExp";let q=["removeAdditional","useDefaults","coerceTypes"],r=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),s={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},t={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};class u{constructor(a={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,a=this.opts={...a,...function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,q,r,s,t,u,v,w,x,y,z,A,B;let C=a.strict,D=null==(b=a.code)?void 0:b.optimize,E=!0===D||void 0===D?1:D||0,F=null!=(d=null==(c=a.code)?void 0:c.regExp)?d:p,G=null!=(e=a.uriResolver)?e:o.default;return{strictSchema:null==(g=null!=(f=a.strictSchema)?f:C)||g,strictNumbers:null==(i=null!=(h=a.strictNumbers)?h:C)||i,strictTypes:null!=(k=null!=(j=a.strictTypes)?j:C)?k:"log",strictTuples:null!=(m=null!=(l=a.strictTuples)?l:C)?m:"log",strictRequired:null!=(q=null!=(n=a.strictRequired)?n:C)&&q,code:a.code?{...a.code,optimize:E,regExp:F}:{optimize:E,regExp:F},loopRequired:null!=(r=a.loopRequired)?r:200,loopEnum:null!=(s=a.loopEnum)?s:200,meta:null==(t=a.meta)||t,messages:null==(u=a.messages)||u,inlineRefs:null==(v=a.inlineRefs)||v,schemaId:null!=(w=a.schemaId)?w:"$id",addUsedSchema:null==(x=a.addUsedSchema)||x,validateSchema:null==(y=a.validateSchema)||y,validateFormats:null==(z=a.validateFormats)||z,unicodeRegExp:null==(A=a.unicodeRegExp)||A,int32range:null==(B=a.int32range)||B,uriResolver:G}}(a)};const{es5:b,lines:c}=this.opts.code;this.scope=new j.ValueScope({scope:{},prefixes:r,es5:b,lines:c}),this.logger=function(a){if(!1===a)return B;if(void 0===a)return console;if(a.log&&a.warn&&a.error)return a;throw Error("logger must implement log, warn and error methods")}(a.logger);const d=a.validateFormats;a.validateFormats=!1,this.RULES=(0,h.getRules)(),v.call(this,s,a,"NOT SUPPORTED"),v.call(this,t,a,"DEPRECATED","warn"),this._metaOpts=A.call(this),a.formats&&y.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),a.keywords&&z.call(this,a.keywords),"object"==typeof a.meta&&this.addMetaSchema(a.meta),x.call(this),a.validateFormats=d}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:a,meta:b,schemaId:c}=this.opts,d=n;"id"===c&&((d={...n}).id=d.$id,delete d.$id),b&&a&&this.addMetaSchema(d,d[c],!1)}defaultMeta(){let{meta:a,schemaId:b}=this.opts;return this.opts.defaultMeta="object"==typeof a?a[b]||a:void 0}validate(a,b){let c;if("string"==typeof a){if(!(c=this.getSchema(a)))throw Error(`no schema with key or ref "${a}"`)}else c=this.compile(a);let d=c(b);return"$async"in c||(this.errors=c.errors),d}compile(a,b){let c=this._addSchema(a,b);return c.validate||this._compileSchemaEnv(c)}compileAsync(a,b){if("function"!=typeof this.opts.loadSchema)throw Error("options.loadSchema should be a function");let{loadSchema:c}=this.opts;return d.call(this,a,b);async function d(a,b){await e.call(this,a.$schema);let c=this._addSchema(a,b);return c.validate||f.call(this,c)}async function e(a){a&&!this.getSchema(a)&&await d.call(this,{$ref:a},!0)}async function f(a){try{return this._compileSchemaEnv(a)}catch(b){if(!(b instanceof g.default))throw b;return h.call(this,b),await i.call(this,b.missingSchema),f.call(this,a)}}function h({missingSchema:a,missingRef:b}){if(this.refs[a])throw Error(`AnySchema ${a} is loaded but ${b} cannot be resolved`)}async function i(a){let c=await j.call(this,a);this.refs[a]||await e.call(this,c.$schema),this.refs[a]||this.addSchema(c,a,b)}async function j(a){let b=this._loading[a];if(b)return b;try{return await (this._loading[a]=c(a))}finally{delete this._loading[a]}}}addSchema(a,b,c,d=this.opts.validateSchema){let e;if(Array.isArray(a)){for(let b of a)this.addSchema(b,void 0,c,d);return this}if("object"==typeof a){let{schemaId:b}=this.opts;if(void 0!==(e=a[b])&&"string"!=typeof e)throw Error(`schema ${b} must be string`)}return b=(0,k.normalizeId)(b||e),this._checkUnique(b),this.schemas[b]=this._addSchema(a,c,b,d,!0),this}addMetaSchema(a,b,c=this.opts.validateSchema){return this.addSchema(a,b,!0,c),this}validateSchema(a,b){let c;if("boolean"==typeof a)return!0;if(void 0!==(c=a.$schema)&&"string"!=typeof c)throw Error("$schema must be a string");if(!(c=c||this.opts.defaultMeta||this.defaultMeta()))return this.logger.warn("meta-schema not available"),this.errors=null,!0;let d=this.validate(c,a);if(!d&&b){let a="schema is invalid: "+this.errorsText();if("log"===this.opts.validateSchema)this.logger.error(a);else throw Error(a)}return d}getSchema(a){let b;for(;"string"==typeof(b=w.call(this,a));)a=b;if(void 0===b){let{schemaId:c}=this.opts,d=new i.SchemaEnv({schema:{},schemaId:c});if(!(b=i.resolveSchema.call(this,d,a)))return;this.refs[a]=b}return b.validate||this._compileSchemaEnv(b)}removeSchema(a){if(a instanceof RegExp)return this._removeAllSchemas(this.schemas,a),this._removeAllSchemas(this.refs,a),this;switch(typeof a){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let b=w.call(this,a);return"object"==typeof b&&this._cache.delete(b.schema),delete this.schemas[a],delete this.refs[a],this}case"object":{this._cache.delete(a);let b=a[this.opts.schemaId];return b&&(b=(0,k.normalizeId)(b),delete this.schemas[b],delete this.refs[b]),this}default:throw Error("ajv.removeSchema: invalid parameter")}}addVocabulary(a){for(let b of a)this.addKeyword(b);return this}addKeyword(a,b){let c;if("string"==typeof a)c=a,"object"==typeof b&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),b.keyword=c);else if("object"==typeof a&&void 0===b){if(Array.isArray(c=(b=a).keyword)&&!c.length)throw Error("addKeywords: keyword must be string or non-empty array")}else throw Error("invalid addKeywords parameters");if(D.call(this,c,b),!b)return(0,m.eachItem)(c,a=>E.call(this,a)),this;G.call(this,b);let d={...b,type:(0,l.getJSONTypes)(b.type),schemaType:(0,l.getJSONTypes)(b.schemaType)};return(0,m.eachItem)(c,0===d.type.length?a=>E.call(this,a,d):a=>d.type.forEach(b=>E.call(this,a,d,b))),this}getKeyword(a){let b=this.RULES.all[a];return"object"==typeof b?b.definition:!!b}removeKeyword(a){let{RULES:b}=this;for(let c of(delete b.keywords[a],delete b.all[a],b.rules)){let b=c.rules.findIndex(b=>b.keyword===a);b>=0&&c.rules.splice(b,1)}return this}addFormat(a,b){return"string"==typeof b&&(b=new RegExp(b)),this.formats[a]=b,this}errorsText(a=this.errors,{separator:b=", ",dataVar:c="data"}={}){return a&&0!==a.length?a.map(a=>`${c}${a.instancePath} ${a.message}`).reduce((a,c)=>a+b+c):"No errors"}$dataMetaSchema(a,b){let c=this.RULES.all;for(let d of(a=JSON.parse(JSON.stringify(a)),b)){let b=d.split("/").slice(1),e=a;for(let a of b)e=e[a];for(let a in c){let b=c[a];if("object"!=typeof b)continue;let{$data:d}=b.definition,f=e[a];d&&f&&(e[a]=I(f))}}return a}_removeAllSchemas(a,b){for(let c in a){let d=a[c];(!b||b.test(c))&&("string"==typeof d?delete a[c]:d&&!d.meta&&(this._cache.delete(d.schema),delete a[c]))}}_addSchema(a,b,c,d=this.opts.validateSchema,e=this.opts.addUsedSchema){let f,{schemaId:g}=this.opts;if("object"==typeof a)f=a[g];else if(this.opts.jtd)throw Error("schema must be object");else if("boolean"!=typeof a)throw Error("schema must be object or boolean");let h=this._cache.get(a);if(void 0!==h)return h;c=(0,k.normalizeId)(f||c);let j=k.getSchemaRefs.call(this,a,c);return h=new i.SchemaEnv({schema:a,schemaId:g,meta:b,baseId:c,localRefs:j}),this._cache.set(h.schema,h),e&&!c.startsWith("#")&&(c&&this._checkUnique(c),this.refs[c]=h),d&&this.validateSchema(a,!0),h}_checkUnique(a){if(this.schemas[a]||this.refs[a])throw Error(`schema with key or id "${a}" already exists`)}_compileSchemaEnv(a){if(a.meta?this._compileMetaSchema(a):i.compileSchema.call(this,a),!a.validate)throw Error("ajv implementation error");return a.validate}_compileMetaSchema(a){let b=this.opts;this.opts=this._metaOpts;try{i.compileSchema.call(this,a)}finally{this.opts=b}}}function v(a,b,c,d="error"){for(let e in a)e in b&&this.logger[d](`${c}: option ${e}. ${a[e]}`)}function w(a){return a=(0,k.normalizeId)(a),this.schemas[a]||this.refs[a]}function x(){let a=this.opts.schemas;if(a)if(Array.isArray(a))this.addSchema(a);else for(let b in a)this.addSchema(a[b],b)}function y(){for(let a in this.opts.formats){let b=this.opts.formats[a];b&&this.addFormat(a,b)}}function z(a){if(Array.isArray(a))return void this.addVocabulary(a);for(let b in this.logger.warn("keywords option as map is deprecated, pass array"),a){let c=a[b];c.keyword||(c.keyword=b),this.addKeyword(c)}}function A(){let a={...this.opts};for(let b of q)delete a[b];return a}u.ValidationError=f.default,u.MissingRefError=g.default,c.default=u;let B={log(){},warn(){},error(){}},C=/^[a-z_$][a-z0-9_$:-]*$/i;function D(a,b){let{RULES:c}=this;if((0,m.eachItem)(a,a=>{if(c.keywords[a])throw Error(`Keyword ${a} is already defined`);if(!C.test(a))throw Error(`Keyword ${a} has invalid name`)}),b&&b.$data&&!("code"in b||"validate"in b))throw Error('$data keyword must have "code" or "validate" function')}function E(a,b,c){var d;let e=null==b?void 0:b.post;if(c&&e)throw Error('keyword with "post" flag cannot have "type"');let{RULES:f}=this,g=e?f.post:f.rules.find(({type:a})=>a===c);if(g||(g={type:c,rules:[]},f.rules.push(g)),f.keywords[a]=!0,!b)return;let h={keyword:a,definition:{...b,type:(0,l.getJSONTypes)(b.type),schemaType:(0,l.getJSONTypes)(b.schemaType)}};b.before?F.call(this,g,h,b.before):g.rules.push(h),f.all[a]=h,null==(d=b.implements)||d.forEach(a=>this.addKeyword(a))}function F(a,b,c){let d=a.rules.findIndex(a=>a.keyword===c);d>=0?a.rules.splice(d,0,b):(a.rules.push(b),this.logger.warn(`rule ${c} is not defined`))}function G(a){let{metaSchema:b}=a;void 0!==b&&(a.$data&&this.opts.$data&&(b=I(b)),a.validateSchema=this.compile(b,!0))}let H={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function I(a){return{anyOf:[a,H]}}},17559,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default={keyword:"id",code(){throw Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},89524,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.callRef=c.getValidate=void 0;let d=a.r(58913),e=a.r(18382),f=a.r(1252),g=a.r(61637),h=a.r(47282),i=a.r(45878);function j(a,b){let{gen:c}=a;return b.validate?c.scopeValue("validate",{ref:b.validate}):(0,f._)`${c.scopeValue("wrapper",{ref:b})}.validate`}function k(a,b,c,d){let{gen:h,it:j}=a,{allErrors:k,schemaEnv:l,opts:m}=j,n=m.passContext?g.default.this:f.nil;function o(a){let b=(0,f._)`${a}.errors`;h.assign(g.default.vErrors,(0,f._)`${g.default.vErrors} === null ? ${b} : ${g.default.vErrors}.concat(${b})`),h.assign(g.default.errors,(0,f._)`${g.default.vErrors}.length`)}function p(a){var b;if(!j.opts.unevaluated)return;let d=null==(b=null==c?void 0:c.validate)?void 0:b.evaluated;if(!0!==j.props)if(d&&!d.dynamicProps)void 0!==d.props&&(j.props=i.mergeEvaluated.props(h,d.props,j.props));else{let b=h.var("props",(0,f._)`${a}.evaluated.props`);j.props=i.mergeEvaluated.props(h,b,j.props,f.Name)}if(!0!==j.items)if(d&&!d.dynamicItems)void 0!==d.items&&(j.items=i.mergeEvaluated.items(h,d.items,j.items));else{let b=h.var("items",(0,f._)`${a}.evaluated.items`);j.items=i.mergeEvaluated.items(h,b,j.items,f.Name)}}d?function(){if(!l.$async)throw Error("async schema referenced by sync schema");let c=h.let("valid");h.try(()=>{h.code((0,f._)`await ${(0,e.callValidateCode)(a,b,n)}`),p(b),k||h.assign(c,!0)},a=>{h.if((0,f._)`!(${a} instanceof ${j.ValidationError})`,()=>h.throw(a)),o(a),k||h.assign(c,!1)}),a.ok(c)}():a.result((0,e.callValidateCode)(a,b,n),()=>p(b),()=>o(b))}c.getValidate=j,c.callRef=k,c.default={keyword:"$ref",schemaType:"string",code(a){var b,c;let e,g,i,l,{gen:m,schema:n,it:o}=a,{baseId:p,schemaEnv:q,validateName:r,opts:s,self:t}=o,{root:u}=q;if(("#"===n||"#/"===n)&&p===u.baseId){if(q===u)return k(a,r,q,q.$async);let b=m.scopeValue("root",{ref:u});return k(a,(0,f._)`${b}.validate`,u,u.$async)}let v=h.resolveRef.call(t,u,p,n);if(void 0===v)throw new d.default(o.opts.uriResolver,p,n);return v instanceof h.SchemaEnv?(e=j(a,b=v),void k(a,e,b,b.$async)):(c=v,g=m.scopeValue("schema",!0===s.code.source?{ref:c,code:(0,f.stringify)(c)}:{ref:c}),i=m.name("valid"),l=a.subschema({schema:c,dataTypes:[],schemaPath:f.nil,topSchemaRef:g,errSchemaPath:n},i),void(a.mergeEvaluated(l),a.ok(i)))}}},65497,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(17559),e=a.r(89524);c.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",d.default,e.default]},18297,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(1252),e=d.operators,f={maximum:{okStr:"<=",ok:e.LTE,fail:e.GT},minimum:{okStr:">=",ok:e.GTE,fail:e.LT},exclusiveMaximum:{okStr:"<",ok:e.LT,fail:e.GTE},exclusiveMinimum:{okStr:">",ok:e.GT,fail:e.LTE}};c.default={keyword:Object.keys(f),type:"number",schemaType:"number",$data:!0,error:{message:({keyword:a,schemaCode:b})=>(0,d.str)`must be ${f[a].okStr} ${b}`,params:({keyword:a,schemaCode:b})=>(0,d._)`{comparison: ${f[a].okStr}, limit: ${b}}`},code(a){let{keyword:b,data:c,schemaCode:e}=a;a.fail$data((0,d._)`${c} ${f[b].fail} ${e} || isNaN(${c})`)}}},51737,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(1252);c.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:a})=>(0,d.str)`must be multiple of ${a}`,params:({schemaCode:a})=>(0,d._)`{multipleOf: ${a}}`},code(a){let{gen:b,data:c,schemaCode:e,it:f}=a,g=f.opts.multipleOfPrecision,h=b.let("res"),i=g?(0,d._)`Math.abs(Math.round(${h}) - ${h}) > 1e-${g}`:(0,d._)`${h} !== parseInt(${h})`;a.fail$data((0,d._)`(${e} === 0 || (${h} = ${c}/${e}, ${i}))`)}}},53305,(a,b,c)=>{"use strict";function d(a){let b,c=a.length,d=0,e=0;for(;e<c;)d++,(b=a.charCodeAt(e++))>=55296&&b<=56319&&e<c&&(64512&(b=a.charCodeAt(e)))==56320&&e++;return d}Object.defineProperty(c,"__esModule",{value:!0}),c.default=d,d.code='require("ajv/dist/runtime/ucs2length").default'},17437,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(1252),e=a.r(45878),f=a.r(53305);c.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:({keyword:a,schemaCode:b})=>(0,d.str)`must NOT have ${"maxLength"===a?"more":"fewer"} than ${b} characters`,params:({schemaCode:a})=>(0,d._)`{limit: ${a}}`},code(a){let{keyword:b,data:c,schemaCode:g,it:h}=a,i="maxLength"===b?d.operators.GT:d.operators.LT,j=!1===h.opts.unicode?(0,d._)`${c}.length`:(0,d._)`${(0,e.useFunc)(a.gen,f.default)}(${c})`;a.fail$data((0,d._)`${j} ${i} ${g}`)}}},12853,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(18382),e=a.r(1252);c.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:a})=>(0,e.str)`must match pattern "${a}"`,params:({schemaCode:a})=>(0,e._)`{pattern: ${a}}`},code(a){let{data:b,$data:c,schema:f,schemaCode:g,it:h}=a,i=h.opts.unicodeRegExp?"u":"",j=c?(0,e._)`(new RegExp(${g}, ${i}))`:(0,d.usePattern)(a,f);a.fail$data((0,e._)`!${j}.test(${b})`)}}},25364,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(1252);c.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:({keyword:a,schemaCode:b})=>(0,d.str)`must NOT have ${"maxProperties"===a?"more":"fewer"} than ${b} properties`,params:({schemaCode:a})=>(0,d._)`{limit: ${a}}`},code(a){let{keyword:b,data:c,schemaCode:e}=a,f="maxProperties"===b?d.operators.GT:d.operators.LT;a.fail$data((0,d._)`Object.keys(${c}).length ${f} ${e}`)}}},60840,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(18382),e=a.r(1252),f=a.r(45878);c.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:a}})=>(0,e.str)`must have required property '${a}'`,params:({params:{missingProperty:a}})=>(0,e._)`{missingProperty: ${a}}`},code(a){let{gen:b,schema:c,schemaCode:g,data:h,$data:i,it:j}=a,{opts:k}=j;if(!i&&0===c.length)return;let l=c.length>=k.loopRequired;if(j.allErrors?function(){if(l||i)a.block$data(e.nil,m);else for(let b of c)(0,d.checkReportMissingProp)(a,b)}():function(){let f=b.let("missing");if(l||i){let c=b.let("valid",!0);a.block$data(c,()=>{var i,j;return i=f,j=c,void(a.setParams({missingProperty:i}),b.forOf(i,g,()=>{b.assign(j,(0,d.propertyInData)(b,h,i,k.ownProperties)),b.if((0,e.not)(j),()=>{a.error(),b.break()})},e.nil))}),a.ok(c)}else b.if((0,d.checkMissingProp)(a,c,f)),(0,d.reportMissingProp)(a,f),b.else()}(),k.strictRequired){let b=a.parentSchema.properties,{definedProperties:d}=a.it;for(let a of c)if((null==b?void 0:b[a])===void 0&&!d.has(a)){let b=j.schemaEnv.baseId+j.errSchemaPath,c=`required property "${a}" is not defined at "${b}" (strictRequired)`;(0,f.checkStrictMode)(j,c,j.opts.strictRequired)}}function m(){b.forOf("prop",g,c=>{a.setParams({missingProperty:c}),b.if((0,d.noPropertyInData)(b,h,c,k.ownProperties),()=>a.error())})}}}},19848,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(1252);c.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:({keyword:a,schemaCode:b})=>(0,d.str)`must NOT have ${"maxItems"===a?"more":"fewer"} than ${b} items`,params:({schemaCode:a})=>(0,d._)`{limit: ${a}}`},code(a){let{keyword:b,data:c,schemaCode:e}=a,f="maxItems"===b?d.operators.GT:d.operators.LT;a.fail$data((0,d._)`${c}.length ${f} ${e}`)}}},73777,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(46940);d.code='require("ajv/dist/runtime/equal").default',c.default=d},15891,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(49364),e=a.r(1252),f=a.r(45878),g=a.r(73777);c.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:a,j:b}})=>(0,e.str)`must NOT have duplicate items (items ## ${b} and ${a} are identical)`,params:({params:{i:a,j:b}})=>(0,e._)`{i: ${a}, j: ${b}}`},code(a){let{gen:b,data:c,$data:h,schema:i,parentSchema:j,schemaCode:k,it:l}=a;if(!h&&!i)return;let m=b.let("valid"),n=j.items?(0,d.getSchemaTypes)(j.items):[];a.block$data(m,function(){let h=b.let("i",(0,e._)`${c}.length`),i=b.let("j");a.setParams({i:h,j:i}),b.assign(m,!0),b.if((0,e._)`${h} > 1`,()=>(n.length>0&&!n.some(a=>"object"===a||"array"===a)?function(f,g){let h=b.name("item"),i=(0,d.checkDataTypes)(n,h,l.opts.strictNumbers,d.DataType.Wrong),j=b.const("indices",(0,e._)`{}`);b.for((0,e._)`;${f}--;`,()=>{b.let(h,(0,e._)`${c}[${f}]`),b.if(i,(0,e._)`continue`),n.length>1&&b.if((0,e._)`typeof ${h} == "string"`,(0,e._)`${h} += "_"`),b.if((0,e._)`typeof ${j}[${h}] == "number"`,()=>{b.assign(g,(0,e._)`${j}[${h}]`),a.error(),b.assign(m,!1).break()}).code((0,e._)`${j}[${h}] = ${f}`)})}:function(d,h){let i=(0,f.useFunc)(b,g.default),j=b.name("outer");b.label(j).for((0,e._)`;${d}--;`,()=>b.for((0,e._)`${h} = ${d}; ${h}--;`,()=>b.if((0,e._)`${i}(${c}[${d}], ${c}[${h}])`,()=>{a.error(),b.assign(m,!1).break(j)})))})(h,i))},(0,e._)`${k} === false`),a.ok(m)}}},54849,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(1252),e=a.r(45878),f=a.r(73777);c.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:a})=>(0,d._)`{allowedValue: ${a}}`},code(a){let{gen:b,data:c,$data:g,schemaCode:h,schema:i}=a;g||i&&"object"==typeof i?a.fail$data((0,d._)`!${(0,e.useFunc)(b,f.default)}(${c}, ${h})`):a.fail((0,d._)`${i} !== ${c}`)}}},21547,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(1252),e=a.r(45878),f=a.r(73777);c.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:a})=>(0,d._)`{allowedValues: ${a}}`},code(a){let b,c,{gen:g,data:h,$data:i,schema:j,schemaCode:k,it:l}=a;if(!i&&0===j.length)throw Error("enum must have non-empty array");let m=j.length>=l.opts.loopEnum,n=()=>null!=b?b:b=(0,e.useFunc)(g,f.default);if(m||i)c=g.let("valid"),a.block$data(c,function(){g.assign(c,!1),g.forOf("v",k,a=>g.if((0,d._)`${n()}(${h}, ${a})`,()=>g.assign(c,!0).break()))});else{if(!Array.isArray(j))throw Error("ajv implementation error");let a=g.const("vSchema",k);c=(0,d.or)(...j.map((b,c)=>{var e,f;let g;return e=a,"object"==typeof(g=j[f=c])&&null!==g?(0,d._)`${n()}(${h}, ${e}[${f}])`:(0,d._)`${h} === ${g}`}))}a.pass(c)}}},26391,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(18297),e=a.r(51737),f=a.r(17437),g=a.r(12853),h=a.r(25364),i=a.r(60840),j=a.r(19848),k=a.r(15891),l=a.r(54849),m=a.r(21547);c.default=[d.default,e.default,f.default,g.default,h.default,i.default,j.default,k.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},l.default,m.default]},67823,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.validateAdditionalItems=void 0;let d=a.r(1252),e=a.r(45878);function f(a,b){let{gen:c,schema:f,data:g,keyword:h,it:i}=a;i.items=!0;let j=c.const("len",(0,d._)`${g}.length`);if(!1===f)a.setParams({len:b.length}),a.pass((0,d._)`${j} <= ${b.length}`);else if("object"==typeof f&&!(0,e.alwaysValidSchema)(i,f)){let f=c.var("valid",(0,d._)`${j} <= ${b.length}`);c.if((0,d.not)(f),()=>{var g;return g=f,void c.forRange("i",b.length,j,b=>{a.subschema({keyword:h,dataProp:b,dataPropType:e.Type.Num},g),i.allErrors||c.if((0,d.not)(g),()=>c.break())})}),a.ok(f)}}c.validateAdditionalItems=f,c.default={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:a}})=>(0,d.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,d._)`{limit: ${a}}`},code(a){let{parentSchema:b,it:c}=a,{items:d}=b;Array.isArray(d)?f(a,d):(0,e.checkStrictMode)(c,'"additionalItems" is ignored when "items" is not an array of schemas')}}},99565,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.validateTuple=void 0;let d=a.r(1252),e=a.r(45878),f=a.r(18382);function g(a,b,c=a.schema){let{gen:f,parentSchema:h,data:i,keyword:j,it:k}=a;(function(a){let{opts:d,errSchemaPath:f}=k,g=c.length,h=g===a.minItems&&(g===a.maxItems||!1===a[b]);if(d.strictTuples&&!h){let a=`"${j}" is ${g}-tuple, but minItems or maxItems/${b} are not specified or different at path "${f}"`;(0,e.checkStrictMode)(k,a,d.strictTuples)}})(h),k.opts.unevaluated&&c.length&&!0!==k.items&&(k.items=e.mergeEvaluated.items(f,c.length,k.items));let l=f.name("valid"),m=f.const("len",(0,d._)`${i}.length`);c.forEach((b,c)=>{(0,e.alwaysValidSchema)(k,b)||(f.if((0,d._)`${m} > ${c}`,()=>a.subschema({keyword:j,schemaProp:c,dataProp:c},l)),a.ok(l))})}c.validateTuple=g,c.default={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(a){let{schema:b,it:c}=a;if(Array.isArray(b))return g(a,"additionalItems",b);c.items=!0,(0,e.alwaysValidSchema)(c,b)||a.ok((0,f.validateArray)(a))}}},50327,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(99565);c.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:a=>(0,d.validateTuple)(a,"items")}},35209,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(1252),e=a.r(45878),f=a.r(18382),g=a.r(67823);c.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:a}})=>(0,d.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,d._)`{limit: ${a}}`},code(a){let{schema:b,parentSchema:c,it:d}=a,{prefixItems:h}=c;d.items=!0,(0,e.alwaysValidSchema)(d,b)||(h?(0,g.validateAdditionalItems)(a,h):a.ok((0,f.validateArray)(a)))}}},87007,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(1252),e=a.r(45878);c.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:a,max:b}})=>void 0===b?(0,d.str)`must contain at least ${a} valid item(s)`:(0,d.str)`must contain at least ${a} and no more than ${b} valid item(s)`,params:({params:{min:a,max:b}})=>void 0===b?(0,d._)`{minContains: ${a}}`:(0,d._)`{minContains: ${a}, maxContains: ${b}}`},code(a){let b,c,{gen:f,schema:g,parentSchema:h,data:i,it:j}=a,{minContains:k,maxContains:l}=h;j.opts.next?(b=void 0===k?1:k,c=l):b=1;let m=f.const("len",(0,d._)`${i}.length`);if(a.setParams({min:b,max:c}),void 0===c&&0===b)return void(0,e.checkStrictMode)(j,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==c&&b>c){(0,e.checkStrictMode)(j,'"minContains" > "maxContains" is always invalid'),a.fail();return}if((0,e.alwaysValidSchema)(j,g)){let e=(0,d._)`${m} >= ${b}`;void 0!==c&&(e=(0,d._)`${e} && ${m} <= ${c}`),a.pass(e);return}j.items=!0;let n=f.name("valid");function o(){let a=f.name("_valid"),e=f.let("count",0);p(a,()=>f.if(a,()=>{var a;return a=e,void(f.code((0,d._)`${a}++`),void 0===c?f.if((0,d._)`${a} >= ${b}`,()=>f.assign(n,!0).break()):(f.if((0,d._)`${a} > ${c}`,()=>f.assign(n,!1).break()),1===b?f.assign(n,!0):f.if((0,d._)`${a} >= ${b}`,()=>f.assign(n,!0))))}))}function p(b,c){f.forRange("i",0,m,d=>{a.subschema({keyword:"contains",dataProp:d,dataPropType:e.Type.Num,compositeRule:!0},b),c()})}void 0===c&&1===b?p(n,()=>f.if(n,()=>f.break())):0===b?(f.let(n,!0),void 0!==c&&f.if((0,d._)`${i}.length > 0`,o)):(f.let(n,!1),o()),a.result(n,()=>a.reset())}}},74845,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.validateSchemaDeps=c.validatePropertyDeps=c.error=void 0;let d=a.r(1252),e=a.r(45878),f=a.r(18382);c.error={message:({params:{property:a,depsCount:b,deps:c}})=>(0,d.str)`must have ${1===b?"property":"properties"} ${c} when property ${a} is present`,params:({params:{property:a,depsCount:b,deps:c,missingProperty:e}})=>(0,d._)`{property: ${a},
    missingProperty: ${e},
    depsCount: ${b},
    deps: ${c}}`};let g={keyword:"dependencies",type:"object",schemaType:"object",error:c.error,code(a){let[b,c]=function({schema:a}){let b={},c={};for(let d in a)"__proto__"!==d&&((Array.isArray(a[d])?b:c)[d]=a[d]);return[b,c]}(a);h(a,b),i(a,c)}};function h(a,b=a.schema){let{gen:c,data:e,it:g}=a;if(0===Object.keys(b).length)return;let i=c.let("missing");for(let h in b){let j=b[h];if(0===j.length)continue;let k=(0,f.propertyInData)(c,e,h,g.opts.ownProperties);a.setParams({property:h,depsCount:j.length,deps:j.join(", ")}),g.allErrors?c.if(k,()=>{for(let b of j)(0,f.checkReportMissingProp)(a,b)}):(c.if((0,d._)`${k} && (${(0,f.checkMissingProp)(a,j,i)})`),(0,f.reportMissingProp)(a,i),c.else())}}function i(a,b=a.schema){let{gen:c,data:d,keyword:g,it:h}=a,j=c.name("valid");for(let i in b)(0,e.alwaysValidSchema)(h,b[i])||(c.if((0,f.propertyInData)(c,d,i,h.opts.ownProperties),()=>{let b=a.subschema({keyword:g,schemaProp:i},j);a.mergeValidEvaluated(b,j)},()=>c.var(j,!0)),a.ok(j))}c.validatePropertyDeps=h,c.validateSchemaDeps=i,c.default=g},81628,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(1252),e=a.r(45878);c.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:a})=>(0,d._)`{propertyName: ${a.propertyName}}`},code(a){let{gen:b,schema:c,data:f,it:g}=a;if((0,e.alwaysValidSchema)(g,c))return;let h=b.name("valid");b.forIn("key",f,c=>{a.setParams({propertyName:c}),a.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},h),b.if((0,d.not)(h),()=>{a.error(!0),g.allErrors||b.break()})}),a.ok(h)}}},41260,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(18382),e=a.r(1252),f=a.r(61637),g=a.r(45878);c.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:a})=>(0,e._)`{additionalProperty: ${a.additionalProperty}}`},code(a){let{gen:b,schema:c,parentSchema:h,data:i,errsCount:j,it:k}=a;if(!j)throw Error("ajv implementation error");let{allErrors:l,opts:m}=k;if(k.props=!0,"all"!==m.removeAdditional&&(0,g.alwaysValidSchema)(k,c))return;let n=(0,d.allSchemaProperties)(h.properties),o=(0,d.allSchemaProperties)(h.patternProperties);function p(a){b.code((0,e._)`delete ${i}[${a}]`)}function q(d){if("all"===m.removeAdditional||m.removeAdditional&&!1===c)return void p(d);if(!1===c){a.setParams({additionalProperty:d}),a.error(),l||b.break();return}if("object"==typeof c&&!(0,g.alwaysValidSchema)(k,c)){let c=b.name("valid");"failing"===m.removeAdditional?(r(d,c,!1),b.if((0,e.not)(c),()=>{a.reset(),p(d)})):(r(d,c),l||b.if((0,e.not)(c),()=>b.break()))}}function r(b,c,d){let e={keyword:"additionalProperties",dataProp:b,dataPropType:g.Type.Str};!1===d&&Object.assign(e,{compositeRule:!0,createErrors:!1,allErrors:!1}),a.subschema(e,c)}b.forIn("key",i,c=>{n.length||o.length?b.if(function(c){let f;if(n.length>8){let a=(0,g.schemaRefOrVal)(k,h.properties,"properties");f=(0,d.isOwnProperty)(b,a,c)}else f=n.length?(0,e.or)(...n.map(a=>(0,e._)`${c} === ${a}`)):e.nil;return o.length&&(f=(0,e.or)(f,...o.map(b=>(0,e._)`${(0,d.usePattern)(a,b)}.test(${c})`))),(0,e.not)(f)}(c),()=>q(c)):q(c)}),a.ok((0,e._)`${j} === ${f.default.errors}`)}}},42194,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(12711),e=a.r(18382),f=a.r(45878),g=a.r(41260);c.default={keyword:"properties",type:"object",schemaType:"object",code(a){let{gen:b,schema:c,parentSchema:h,data:i,it:j}=a;"all"===j.opts.removeAdditional&&void 0===h.additionalProperties&&g.default.code(new d.KeywordCxt(j,g.default,"additionalProperties"));let k=(0,e.allSchemaProperties)(c);for(let a of k)j.definedProperties.add(a);j.opts.unevaluated&&k.length&&!0!==j.props&&(j.props=f.mergeEvaluated.props(b,(0,f.toHash)(k),j.props));let l=k.filter(a=>!(0,f.alwaysValidSchema)(j,c[a]));if(0===l.length)return;let m=b.name("valid");for(let d of l){var n;(n=d,j.opts.useDefaults&&!j.compositeRule&&void 0!==c[n].default)?o(d):(b.if((0,e.propertyInData)(b,i,d,j.opts.ownProperties)),o(d),j.allErrors||b.else().var(m,!0),b.endIf()),a.it.definedProperties.add(d),a.ok(m)}function o(b){a.subschema({keyword:"properties",schemaProp:b,dataProp:b},m)}}}},29828,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(18382),e=a.r(1252),f=a.r(45878),g=a.r(45878);c.default={keyword:"patternProperties",type:"object",schemaType:"object",code(a){let{gen:b,schema:c,data:h,parentSchema:i,it:j}=a,{opts:k}=j,l=(0,d.allSchemaProperties)(c),m=l.filter(a=>(0,f.alwaysValidSchema)(j,c[a]));if(0===l.length||m.length===l.length&&(!j.opts.unevaluated||!0===j.props))return;let n=k.strictSchema&&!k.allowMatchingProperties&&i.properties,o=b.name("valid");!0===j.props||j.props instanceof e.Name||(j.props=(0,g.evaluatedPropsToName)(b,j.props));let{props:p}=j;for(let a of l)n&&function(a){for(let b in n)new RegExp(a).test(b)&&(0,f.checkStrictMode)(j,`property ${b} matches pattern ${a} (use allowMatchingProperties)`)}(a),j.allErrors?q(a):(b.var(o,!0),q(a),b.if(o));function q(c){b.forIn("key",h,f=>{b.if((0,e._)`${(0,d.usePattern)(a,c)}.test(${f})`,()=>{let d=m.includes(c);d||a.subschema({keyword:"patternProperties",schemaProp:c,dataProp:f,dataPropType:g.Type.Str},o),j.opts.unevaluated&&!0!==p?b.assign((0,e._)`${p}[${f}]`,!0):d||j.allErrors||b.if((0,e.not)(o),()=>b.break())})})}}}},28758,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(45878);c.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(a){let{gen:b,schema:c,it:e}=a;if((0,d.alwaysValidSchema)(e,c))return void a.fail();let f=b.name("valid");a.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},f),a.failResult(f,()=>a.reset(),()=>a.error())},error:{message:"must NOT be valid"}}},6,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:a.r(18382).validateUnion,error:{message:"must match a schema in anyOf"}}},366,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(1252),e=a.r(45878);c.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:a})=>(0,d._)`{passingSchemas: ${a.passing}}`},code(a){let{gen:b,schema:c,parentSchema:f,it:g}=a;if(!Array.isArray(c))throw Error("ajv implementation error");if(g.opts.discriminator&&f.discriminator)return;let h=b.let("valid",!1),i=b.let("passing",null),j=b.name("_valid");a.setParams({passing:i}),b.block(function(){c.forEach((c,f)=>{let k;(0,e.alwaysValidSchema)(g,c)?b.var(j,!0):k=a.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},j),f>0&&b.if((0,d._)`${j} && ${h}`).assign(h,!1).assign(i,(0,d._)`[${i}, ${f}]`).else(),b.if(j,()=>{b.assign(h,!0),b.assign(i,f),k&&a.mergeEvaluated(k,d.Name)})})}),a.result(h,()=>a.reset(),()=>a.error(!0))}}},42554,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(45878);c.default={keyword:"allOf",schemaType:"array",code(a){let{gen:b,schema:c,it:e}=a;if(!Array.isArray(c))throw Error("ajv implementation error");let f=b.name("valid");c.forEach((b,c)=>{if((0,d.alwaysValidSchema)(e,b))return;let g=a.subschema({keyword:"allOf",schemaProp:c},f);a.ok(f),a.mergeEvaluated(g)})}}},88206,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(1252),e=a.r(45878);function f(a,b){let c=a.schema[b];return void 0!==c&&!(0,e.alwaysValidSchema)(a,c)}c.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:a})=>(0,d.str)`must match "${a.ifClause}" schema`,params:({params:a})=>(0,d._)`{failingKeyword: ${a.ifClause}}`},code(a){let b,{gen:c,parentSchema:g,it:h}=a;void 0===g.then&&void 0===g.else&&(0,e.checkStrictMode)(h,'"if" without "then" and "else" is ignored');let i=f(h,"then"),j=f(h,"else");if(!i&&!j)return;let k=c.let("valid",!0),l=c.name("_valid");if(b=a.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},l),a.mergeEvaluated(b),a.reset(),i&&j){let b=c.let("ifClause");a.setParams({ifClause:b}),c.if(l,m("then",b),m("else",b))}else i?c.if(l,m("then")):c.if((0,d.not)(l),m("else"));function m(b,e){return()=>{let f=a.subschema({keyword:b},l);c.assign(k,l),a.mergeValidEvaluated(f,k),e?c.assign(e,(0,d._)`${b}`):a.setParams({ifClause:b})}}a.pass(k,()=>a.error(!0))}}},69795,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(45878);c.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:a,parentSchema:b,it:c}){void 0===b.if&&(0,d.checkStrictMode)(c,`"${a}" without "if" is ignored`)}}},15211,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(67823),e=a.r(50327),f=a.r(99565),g=a.r(35209),h=a.r(87007),i=a.r(74845),j=a.r(81628),k=a.r(41260),l=a.r(42194),m=a.r(29828),n=a.r(28758),o=a.r(6),p=a.r(366),q=a.r(42554),r=a.r(88206),s=a.r(69795);c.default=function(a=!1){let b=[n.default,o.default,p.default,q.default,r.default,s.default,j.default,k.default,i.default,l.default,m.default];return a?b.push(e.default,g.default):b.push(d.default,f.default),b.push(h.default),b}},55014,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.dynamicAnchor=void 0;let d=a.r(1252),e=a.r(61637),f=a.r(47282),g=a.r(89524);function h(a,b){let{gen:c,it:h}=a;h.schemaEnv.root.dynamicAnchors[b]=!0;let i=(0,d._)`${e.default.dynamicAnchors}${(0,d.getProperty)(b)}`,j="#"===h.errSchemaPath?h.validateName:function(a){let{schemaEnv:b,schema:c,self:d}=a.it,{root:e,baseId:h,localRefs:i,meta:j}=b.root,{schemaId:k}=d.opts,l=new f.SchemaEnv({schema:c,schemaId:k,root:e,baseId:h,localRefs:i,meta:j});return f.compileSchema.call(d,l),(0,g.getValidate)(a,l)}(a);c.if((0,d._)`!${i}`,()=>c.assign(i,j))}c.dynamicAnchor=h,c.default={keyword:"$dynamicAnchor",schemaType:"string",code:a=>h(a,a.schema)}},6106,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.dynamicRef=void 0;let d=a.r(1252),e=a.r(61637),f=a.r(89524);function g(a,b){let{gen:c,keyword:g,it:h}=a;if("#"!==b[0])throw Error(`"${g}" only supports hash fragment reference`);let i=b.slice(1);if(h.allErrors)j();else{let b=c.let("valid",!1);j(b),a.ok(b)}function j(a){if(h.schemaEnv.root.dynamicAnchors[i]){let b=c.let("_v",(0,d._)`${e.default.dynamicAnchors}${(0,d.getProperty)(i)}`);c.if(b,k(b,a),k(h.validateName,a))}else k(h.validateName,a)()}function k(b,d){return d?()=>c.block(()=>{(0,f.callRef)(a,b),c.let(d,!0)}):()=>(0,f.callRef)(a,b)}}c.dynamicRef=g,c.default={keyword:"$dynamicRef",schemaType:"string",code:a=>g(a,a.schema)}},82794,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(55014),e=a.r(45878);c.default={keyword:"$recursiveAnchor",schemaType:"boolean",code(a){a.schema?(0,d.dynamicAnchor)(a,""):(0,e.checkStrictMode)(a.it,"$recursiveAnchor: false is ignored")}}},68168,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(6106);c.default={keyword:"$recursiveRef",schemaType:"string",code:a=>(0,d.dynamicRef)(a,a.schema)}},21296,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(55014),e=a.r(6106),f=a.r(82794),g=a.r(68168);c.default=[d.default,e.default,f.default,g.default]},51236,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(74845);c.default={keyword:"dependentRequired",type:"object",schemaType:"object",error:d.error,code:a=>(0,d.validatePropertyDeps)(a)}},16408,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(74845);c.default={keyword:"dependentSchemas",type:"object",schemaType:"object",code:a=>(0,d.validateSchemaDeps)(a)}},32379,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(45878);c.default={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:a,parentSchema:b,it:c}){void 0===b.contains&&(0,d.checkStrictMode)(c,`"${a}" without "contains" is ignored`)}}},64989,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(51236),e=a.r(16408),f=a.r(32379);c.default=[d.default,e.default,f.default]},63159,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(1252),e=a.r(45878),f=a.r(61637);c.default={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:{message:"must NOT have unevaluated properties",params:({params:a})=>(0,d._)`{unevaluatedProperty: ${a.unevaluatedProperty}}`},code(a){let{gen:b,schema:c,data:g,errsCount:h,it:i}=a;if(!h)throw Error("ajv implementation error");let{allErrors:j,props:k}=i;function l(f){if(!1===c){a.setParams({unevaluatedProperty:f}),a.error(),j||b.break();return}if(!(0,e.alwaysValidSchema)(i,c)){let c=b.name("valid");a.subschema({keyword:"unevaluatedProperties",dataProp:f,dataPropType:e.Type.Str},c),j||b.if((0,d.not)(c),()=>b.break())}}k instanceof d.Name?b.if((0,d._)`${k} !== true`,()=>b.forIn("key",g,a=>{var c,e;return b.if((c=k,e=a,(0,d._)`!${c} || !${c}[${e}]`),()=>l(a))})):!0!==k&&b.forIn("key",g,a=>void 0===k?l(a):b.if(function(a,b){let c=[];for(let e in a)!0===a[e]&&c.push((0,d._)`${b} !== ${e}`);return(0,d.and)(...c)}(k,a),()=>l(a))),i.props=!0,a.ok((0,d._)`${h} === ${f.default.errors}`)}}},68593,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(1252),e=a.r(45878);c.default={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:{message:({params:{len:a}})=>(0,d.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,d._)`{limit: ${a}}`},code(a){let{gen:b,schema:c,data:f,it:g}=a,h=g.items||0;if(!0===h)return;let i=b.const("len",(0,d._)`${f}.length`);if(!1===c)a.setParams({len:h}),a.fail((0,d._)`${i} > ${h}`);else if("object"==typeof c&&!(0,e.alwaysValidSchema)(g,c)){let c=b.var("valid",(0,d._)`${i} <= ${h}`);b.if((0,d.not)(c),()=>{var f,j;return f=c,j=h,void b.forRange("i",j,i,c=>{a.subschema({keyword:"unevaluatedItems",dataProp:c,dataPropType:e.Type.Num},f),g.allErrors||b.if((0,d.not)(f),()=>b.break())})}),a.ok(c)}g.items=!0}}},4344,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(63159),e=a.r(68593);c.default=[d.default,e.default]},42767,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(1252);c.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:a})=>(0,d.str)`must match format "${a}"`,params:({schemaCode:a})=>(0,d._)`{format: ${a}}`},code(a,b){let c,e,f,g,h,i,{gen:j,data:k,$data:l,schema:m,schemaCode:n,it:o}=a,{opts:p,errSchemaPath:q,schemaEnv:r,self:s}=o;p.validateFormats&&(l?(c=j.scopeValue("formats",{ref:s.formats,code:p.code.formats}),e=j.const("fDef",(0,d._)`${c}[${n}]`),f=j.let("fType"),g=j.let("format"),j.if((0,d._)`typeof ${e} == "object" && !(${e} instanceof RegExp)`,()=>j.assign(f,(0,d._)`${e}.type || "string"`).assign(g,(0,d._)`${e}.validate`),()=>j.assign(f,(0,d._)`"string"`).assign(g,e)),a.fail$data((0,d.or)(!1===p.strictSchema?d.nil:(0,d._)`${n} && !${g}`,(h=r.$async?(0,d._)`(${e}.async ? await ${g}(${k}) : ${g}(${k}))`:(0,d._)`${g}(${k})`,i=(0,d._)`(typeof ${g} == "function" ? ${h} : ${g}.test(${k}))`,(0,d._)`${g} && ${g} !== true && ${f} === ${b} && !${i}`)))):function(){var c;let e,f,g=s.formats[m];if(!g){if(!1===p.strictSchema)return s.logger.warn(h());throw Error(h());function h(){return`unknown format "${m}" ignored in schema at path "${q}"`}}if(!0===g)return;let[i,l,n]=(e=(c=g)instanceof RegExp?(0,d.regexpCode)(c):p.code.formats?(0,d._)`${p.code.formats}${(0,d.getProperty)(m)}`:void 0,f=j.scopeValue("formats",{key:m,ref:c,code:e}),"object"!=typeof c||c instanceof RegExp?["string",c,f]:[c.type||"string",c.validate,(0,d._)`${f}.validate`]);i===b&&a.pass(function(){if("object"==typeof g&&!(g instanceof RegExp)&&g.async){if(!r.$async)throw Error("async format in sync schema");return(0,d._)`await ${n}(${k})`}return"function"==typeof l?(0,d._)`${n}(${k})`:(0,d._)`${n}.test(${k})`}())}())}}},87589,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=[a.r(42767).default]},65176,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.contentVocabulary=c.metadataVocabulary=void 0,c.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],c.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},39532,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(65497),e=a.r(26391),f=a.r(15211),g=a.r(21296),h=a.r(64989),i=a.r(4344),j=a.r(87589),k=a.r(65176);c.default=[g.default,d.default,e.default,(0,f.default)(!0),j.default,k.metadataVocabulary,k.contentVocabulary,h.default,i.default]},45032,(a,b,c)=>{"use strict";var d,e;Object.defineProperty(c,"__esModule",{value:!0}),c.DiscrError=void 0,(e=d||(c.DiscrError=d={})).Tag="tag",e.Mapping="mapping"},97601,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(1252),e=a.r(45032),f=a.r(47282),g=a.r(58913),h=a.r(45878);c.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:a,tagName:b}})=>a===e.DiscrError.Tag?`tag "${b}" must be string`:`value of tag "${b}" must be in oneOf`,params:({params:{discrError:a,tag:b,tagName:c}})=>(0,d._)`{error: ${a}, tag: ${c}, tagValue: ${b}}`},code(a){let{gen:b,data:c,schema:i,parentSchema:j,it:k}=a,{oneOf:l}=j;if(!k.opts.discriminator)throw Error("discriminator: requires discriminator option");let m=i.propertyName;if("string"!=typeof m)throw Error("discriminator: requires propertyName");if(i.mapping)throw Error("discriminator: mapping is not supported");if(!l)throw Error("discriminator: requires oneOf keyword");let n=b.let("valid",!1),o=b.const("tag",(0,d._)`${c}${(0,d.getProperty)(m)}`);b.if((0,d._)`typeof ${o} == "string"`,()=>(function(){let c=function(){var a;let b={},c=e(j),d=!0;for(let b=0;b<l.length;b++){let j=l[b];if((null==j?void 0:j.$ref)&&!(0,h.schemaHasRulesButRef)(j,k.self.RULES)){let a=j.$ref;if((j=f.resolveRef.call(k.self,k.schemaEnv.root,k.baseId,a))instanceof f.SchemaEnv&&(j=j.schema),void 0===j)throw new g.default(k.opts.uriResolver,k.baseId,a)}let n=null==(a=null==j?void 0:j.properties)?void 0:a[m];if("object"!=typeof n)throw Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${m}"`);d=d&&(c||e(j)),function(a,b){if(a.const)i(a.const,b);else if(a.enum)for(let c of a.enum)i(c,b);else throw Error(`discriminator: "properties/${m}" must have "const" or "enum"`)}(n,b)}if(!d)throw Error(`discriminator: "${m}" must be required`);return b;function e({required:a}){return Array.isArray(a)&&a.includes(m)}function i(a,c){if("string"!=typeof a||a in b)throw Error(`discriminator: "${m}" values must be unique strings`);b[a]=c}}();for(let e in b.if(!1),c)b.elseIf((0,d._)`${o} === ${e}`),b.assign(n,function(c){let e=b.name("valid"),f=a.subschema({keyword:"oneOf",schemaProp:c},e);return a.mergeEvaluated(f,d.Name),e}(c[e]));b.else(),a.error(!1,{discrError:e.DiscrError.Mapping,tag:o,tagName:m}),b.endIf()})(),()=>a.error(!1,{discrError:e.DiscrError.Tag,tag:o,tagName:m})),a.ok(n)}}},66634,a=>{a.v({$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/schema",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/core":!0,"https://json-schema.org/draft/2020-12/vocab/applicator":!0,"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0,"https://json-schema.org/draft/2020-12/vocab/validation":!0,"https://json-schema.org/draft/2020-12/vocab/meta-data":!0,"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0,"https://json-schema.org/draft/2020-12/vocab/content":!0},$dynamicAnchor:"meta",title:"Core and Validation specifications meta-schema",allOf:[{$ref:"meta/core"},{$ref:"meta/applicator"},{$ref:"meta/unevaluated"},{$ref:"meta/validation"},{$ref:"meta/meta-data"},{$ref:"meta/format-annotation"},{$ref:"meta/content"}],type:["object","boolean"],$comment:"This meta-schema also defines keywords that have appeared in previous drafts in order to prevent incompatible extensions as they remain in common use.",properties:{definitions:{$comment:'"definitions" has been replaced by "$defs".',type:"object",additionalProperties:{$dynamicRef:"#meta"},deprecated:!0,default:{}},dependencies:{$comment:'"dependencies" has been split and replaced by "dependentSchemas" and "dependentRequired" in order to serve their differing semantics.',type:"object",additionalProperties:{anyOf:[{$dynamicRef:"#meta"},{$ref:"meta/validation#/$defs/stringArray"}]},deprecated:!0,default:{}},$recursiveAnchor:{$comment:'"$recursiveAnchor" has been replaced by "$dynamicAnchor".',$ref:"meta/core#/$defs/anchorString",deprecated:!0},$recursiveRef:{$comment:'"$recursiveRef" has been replaced by "$dynamicRef".',$ref:"meta/core#/$defs/uriReferenceString",deprecated:!0}}})},6559,a=>{a.v({$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/applicator",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/applicator":!0},$dynamicAnchor:"meta",title:"Applicator vocabulary meta-schema",type:["object","boolean"],properties:{prefixItems:{$ref:"#/$defs/schemaArray"},items:{$dynamicRef:"#meta"},contains:{$dynamicRef:"#meta"},additionalProperties:{$dynamicRef:"#meta"},properties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},patternProperties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},propertyNames:{format:"regex"},default:{}},dependentSchemas:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},propertyNames:{$dynamicRef:"#meta"},if:{$dynamicRef:"#meta"},then:{$dynamicRef:"#meta"},else:{$dynamicRef:"#meta"},allOf:{$ref:"#/$defs/schemaArray"},anyOf:{$ref:"#/$defs/schemaArray"},oneOf:{$ref:"#/$defs/schemaArray"},not:{$dynamicRef:"#meta"}},$defs:{schemaArray:{type:"array",minItems:1,items:{$dynamicRef:"#meta"}}}})},7687,a=>{a.v({$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/unevaluated",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0},$dynamicAnchor:"meta",title:"Unevaluated applicator vocabulary meta-schema",type:["object","boolean"],properties:{unevaluatedItems:{$dynamicRef:"#meta"},unevaluatedProperties:{$dynamicRef:"#meta"}}})},19820,a=>{a.v({$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/content",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/content":!0},$dynamicAnchor:"meta",title:"Content vocabulary meta-schema",type:["object","boolean"],properties:{contentEncoding:{type:"string"},contentMediaType:{type:"string"},contentSchema:{$dynamicRef:"#meta"}}})},40841,a=>{a.v({$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/core",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/core":!0},$dynamicAnchor:"meta",title:"Core vocabulary meta-schema",type:["object","boolean"],properties:{$id:{$ref:"#/$defs/uriReferenceString",$comment:"Non-empty fragments not allowed.",pattern:"^[^#]*#?$"},$schema:{$ref:"#/$defs/uriString"},$ref:{$ref:"#/$defs/uriReferenceString"},$anchor:{$ref:"#/$defs/anchorString"},$dynamicRef:{$ref:"#/$defs/uriReferenceString"},$dynamicAnchor:{$ref:"#/$defs/anchorString"},$vocabulary:{type:"object",propertyNames:{$ref:"#/$defs/uriString"},additionalProperties:{type:"boolean"}},$comment:{type:"string"},$defs:{type:"object",additionalProperties:{$dynamicRef:"#meta"}}},$defs:{anchorString:{type:"string",pattern:"^[A-Za-z_][-A-Za-z0-9._]*$"},uriString:{type:"string",format:"uri"},uriReferenceString:{type:"string",format:"uri-reference"}}})},24488,a=>{a.v({$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/format-annotation",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0},$dynamicAnchor:"meta",title:"Format vocabulary meta-schema for annotation results",type:["object","boolean"],properties:{format:{type:"string"}}})},30449,a=>{a.v({$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/meta-data",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/meta-data":!0},$dynamicAnchor:"meta",title:"Meta-data vocabulary meta-schema",type:["object","boolean"],properties:{title:{type:"string"},description:{type:"string"},default:!0,deprecated:{type:"boolean",default:!1},readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0}}})},50905,a=>{a.v({$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/validation",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/validation":!0},$dynamicAnchor:"meta",title:"Validation vocabulary meta-schema",type:["object","boolean"],properties:{type:{anyOf:[{$ref:"#/$defs/simpleTypes"},{type:"array",items:{$ref:"#/$defs/simpleTypes"},minItems:1,uniqueItems:!0}]},const:!0,enum:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/$defs/nonNegativeInteger"},minLength:{$ref:"#/$defs/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},maxItems:{$ref:"#/$defs/nonNegativeInteger"},minItems:{$ref:"#/$defs/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxContains:{$ref:"#/$defs/nonNegativeInteger"},minContains:{$ref:"#/$defs/nonNegativeInteger",default:1},maxProperties:{$ref:"#/$defs/nonNegativeInteger"},minProperties:{$ref:"#/$defs/nonNegativeIntegerDefault0"},required:{$ref:"#/$defs/stringArray"},dependentRequired:{type:"object",additionalProperties:{$ref:"#/$defs/stringArray"}}},$defs:{nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{$ref:"#/$defs/nonNegativeInteger",default:0},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}}})},97304,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(66634),e=a.r(6559),f=a.r(7687),g=a.r(19820),h=a.r(40841),i=a.r(24488),j=a.r(30449),k=a.r(50905),l=["/properties"];c.default=function(a){return[d,e,f,g,h,b(this,i),j,b(this,k)].forEach(a=>this.addMetaSchema(a,void 0,!1)),this;function b(b,c){return a?b.$dataMetaSchema(c,l):c}}},23024,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.MissingRefError=c.ValidationError=c.CodeGen=c.Name=c.nil=c.stringify=c.str=c._=c.KeywordCxt=c.Ajv2020=void 0;let d=a.r(60739),e=a.r(39532),f=a.r(97601),g=a.r(97304),h="https://json-schema.org/draft/2020-12/schema";class i extends d.default{constructor(a={}){super({...a,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),e.default.forEach(a=>this.addVocabulary(a)),this.opts.discriminator&&this.addKeyword(f.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();let{$data:a,meta:b}=this.opts;b&&(g.default.call(this,a),this.refs["http://json-schema.org/schema"]=h)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(h)?h:void 0)}}c.Ajv2020=i,b.exports=c=i,b.exports.Ajv2020=i,Object.defineProperty(c,"__esModule",{value:!0}),c.default=i;var j=a.r(12711);Object.defineProperty(c,"KeywordCxt",{enumerable:!0,get:function(){return j.KeywordCxt}});var k=a.r(1252);Object.defineProperty(c,"_",{enumerable:!0,get:function(){return k._}}),Object.defineProperty(c,"str",{enumerable:!0,get:function(){return k.str}}),Object.defineProperty(c,"stringify",{enumerable:!0,get:function(){return k.stringify}}),Object.defineProperty(c,"nil",{enumerable:!0,get:function(){return k.nil}}),Object.defineProperty(c,"Name",{enumerable:!0,get:function(){return k.Name}}),Object.defineProperty(c,"CodeGen",{enumerable:!0,get:function(){return k.CodeGen}});var l=a.r(64923);Object.defineProperty(c,"ValidationError",{enumerable:!0,get:function(){return l.default}});var m=a.r(58913);Object.defineProperty(c,"MissingRefError",{enumerable:!0,get:function(){return m.default}})},59291,a=>{"use strict";var b,c,d=a.i(48010),e=a.i(22578),f=a.i(12803),g=a.i(84641);a.i(77872);var h=a.i(4465),i=a.i(17350),j=a.i(50167);function k(a){if("boolean"==typeof a)return null;let b=a.type;if(Array.isArray(b))return k({...a,type:b[0]});if("object"===b&&"object"==typeof a)return Object.fromEntries(Object.entries(a.properties??{}).map(([a,b])=>[a,k(b)]));if("array"===b)return[];if("null"===b)return null;if("string"===b){if("object"==typeof a&&"binary"===a.format)return;return""}return"number"===b||"integer"===b?0:"boolean"!==b&&void 0}a.i(70428);var l=a.i(43346),m=a.i(13775);function n(a,b,d=c.None){function e(a,b,d){let e=new Set,g=!1;for(let b of a){let a=f(b,d|c.UseAlias);"null"===a?g=!0:"unknown"!==a&&e.add(a)}let h=Array.from(e).join(b);return g?`${h} | null`:h}function f(a,d){if(!0===a)return"any";if(!1===a)return"never";if((d&c.UseAlias)===c.UseAlias){if(a.title)return a.title;let c=b?.getRawRef(a);if(c)return c.split("/").at(-1)}if(Array.isArray(a.type))return e(a.type.map(b=>({...a,type:b}))," | ",d);if("array"===a.type)return`array<${a.items?f(a.items,d|c.UseAlias):"unknown"}>`;if(a.oneOf)return e(a.oneOf," | ",d);let g=a.anyOf??a.allOf;return g?e(g," & ",d):a.not?`not ${f(a.not,d)}`:"string"===a.type&&"binary"===a.format?"file":a.type&&Array.isArray(a.type)?a.type.filter(a=>"null"!==a).join(" | "):a.type?a.type:"unknown"}return f(a,d)}(b=c||(c={}))[b.None=0]="None",b[b.UseAlias=1]="UseAlias";var o=a.i(23024);let p=(0,e.createContext)(void 0),q={type:["string","number","boolean","array","object"],items:!0,additionalProperties:!0};function r({references:a,fieldInfoMap:b,children:c}){let f=(0,e.useMemo)(()=>new o.Ajv2020({strict:!1,validateSchema:!1,validateFormats:!1,schemas:a}),[a]);return(0,d.jsx)(p.Provider,{value:(0,e.useMemo)(()=>({references:a,fieldInfoMap:b,ajv:f}),[b,a,f]),children:c})}function s(a){let{references:b}=(0,e.useContext)(p);return(0,e.useMemo)(()=>{var c;return"boolean"==typeof a?q:a.$ref?"boolean"==typeof(c=b[a.$ref])?q:c:a},[b,a])}function t(a){return a.every(a=>{if("boolean"==typeof a)return!0;let b=a.anyOf||a.allOf;return"object"!==a.type&&(!b||t(b))})}function u(a){return(0,d.jsx)("label",{...a,className:(0,l.cn)("w-full inline-flex items-center gap-0.5",a.className),children:a.children})}function v({required:a=!1,...b}){return(0,d.jsxs)("span",{...b,className:(0,l.cn)((0,j.labelVariants)(),"font-mono me-auto",b.className),children:[b.children,a&&(0,d.jsx)("span",{className:"text-red-400/80 mx-1",children:"*"})]})}function w(a){return(0,d.jsx)("code",{...a,className:(0,l.cn)("text-xs text-fd-muted-foreground",a.className),children:a.children})}function x({field:a,fieldName:b,...c}){let f=s(a),g=(0,e.useMemo)(()=>(function(a){let b={},c=new Set,d=new Set;if(a.forEach(function a(e){if("boolean"==typeof e){b=e;return}if("boolean"!=typeof b){if(e.title&&d.add(e.title),e.type)for(let a of Array.isArray(e.type)?e.type:[e.type])c.add(a);for(let a of["oneOf","required","enum"])e[a]&&(b[a]=[...e[a],...b[a]??[]]);for(let a of["properties","patternProperties"])e[a]&&(b[a]??(b[a]={}),Object.assign(b[a],e[a]));!0===e.additionalProperties?b.additionalProperties=!0:e.additionalProperties&&"boolean"!=typeof b.additionalProperties&&(b.additionalProperties??(b.additionalProperties={}),Object.assign(b.additionalProperties,e.additionalProperties)),(e.allOf??e.anyOf)?.forEach(a)}}),d.size>0&&(b.title=Array.from(d).join(" & ")),c.size>0){let a=Array.from(c.values());b.type=1===a.length?a[0]:a}return b})([f]),[f]);if("boolean"!=typeof g)return(0,d.jsxs)("div",{...c,className:(0,l.cn)("grid grid-cols-1 gap-4 @md:grid-cols-2",c.className),children:[Object.entries(g.properties??{}).map(([a,c])=>(0,d.jsx)(B,{name:a,field:c,fieldName:`${b}.${a}`,isRequired:g.required?.includes(a)},a)),(g.additionalProperties||g.patternProperties)&&(0,d.jsx)(z,{fieldName:b,filterKey:a=>!g.properties||!Object.keys(g.properties).includes(a),getType:a=>{for(let b in g.patternProperties)if(a.match(RegExp(b)))return g.patternProperties[b];return g.additionalProperties?g.additionalProperties:q}})]})}function y({fieldName:a}){let b=(0,f.useController)({name:a}),[c,g]=(0,e.useState)(null),[h,i]=(0,e.useState)(()=>JSON.stringify(b.field.value,null,2));return(0,d.jsxs)("div",{className:"flex flex-col bg-fd-secondary text-fd-secondary-foreground overflow-hidden border rounded-lg",children:[(0,d.jsx)("textarea",{...b.field,value:h,className:"p-2 h-[240px] text-sm font-mono resize-none focus-visible:outline-none",onChange:a=>{i(a.target.value);try{b.field.onChange(JSON.parse(a.target.value)),g(null)}catch(a){a instanceof Error&&g(a.message)}}}),(0,d.jsx)("p",{className:"p-2 text-xs font-mono border-t text-red-400 empty:hidden",children:c})]})}function z({fieldName:a,filterKey:b=()=>!0,getType:c=()=>q}){let{control:g,setValue:i,getValues:n}=(0,f.useFormContext)(),[o,p]=(0,e.useState)(""),[r,s]=(0,e.useState)(()=>{let c=n(a);return c?Object.keys(c).filter(b):[]}),t=()=>{let d=o.trim();0!==d.length&&s(e=>{if(e.includes(d)||!b(d))return e;let f=c(d);return i(`${a}.${d}`,k(f)),p(""),[...e,d]})};return(0,d.jsxs)(d.Fragment,{children:[r.map(b=>{let e=c(b);return(0,d.jsx)(B,{name:b,field:e,fieldName:`${a}.${b}`,toolbar:(0,d.jsx)("button",{type:"button","aria-label":"Remove Item",className:(0,l.cn)((0,m.buttonVariants)({color:"outline",size:"icon-xs"})),onClick:()=>{s(a=>a.filter(a=>a!==b)),g.unregister(`${a}.${b}`)},children:(0,d.jsx)(h.Trash2,{})})},b)}),(0,d.jsxs)("div",{className:"flex gap-2 col-span-full",children:[(0,d.jsx)(j.Input,{value:o,placeholder:"Enter Property Name",onChange:a=>p(a.target.value),onKeyDown:a=>{"Enter"===a.key&&(t(),a.preventDefault())}}),(0,d.jsx)("button",{type:"button",className:(0,l.cn)((0,m.buttonVariants)({color:"secondary",size:"sm"}),"px-4"),onClick:t,children:"New"})]})]})}function A({field:a,fieldName:b,isRequired:c,...e}){let g=(0,f.useFormContext)(),{field:{value:k,onChange:n,...o},fieldState:p}=(0,f.useController)({control:g.control,name:b});if("null"===a.type)return;if("string"===a.type&&"binary"===a.format)return(0,d.jsxs)("div",{...e,children:[(0,d.jsx)("label",{htmlFor:b,className:(0,l.cn)((0,m.buttonVariants)({color:"secondary",className:"w-full h-9 gap-2 truncate"})),children:k instanceof File?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:"text-fd-muted-foreground text-xs",children:"Selected"}),(0,d.jsx)("span",{className:"truncate w-0 flex-1 text-end",children:k.name})]}):(0,d.jsx)("span",{className:"text-fd-muted-foreground",children:"Upload"})}),(0,d.jsx)("input",{id:b,type:"file",multiple:!1,onChange:a=>{a.target.files&&n(a.target.files.item(0))},hidden:!0,...o})]});if("boolean"===a.type)return(0,d.jsxs)(i.Select,{value:String(k),onValueChange:a=>n("undefined"===a?void 0:"true"===a),disabled:o.disabled,children:[(0,d.jsx)(i.SelectTrigger,{id:b,className:e.className,...o,children:(0,d.jsx)(i.SelectValue,{})}),(0,d.jsxs)(i.SelectContent,{children:[(0,d.jsx)(i.SelectItem,{value:"true",children:"True"}),(0,d.jsx)(i.SelectItem,{value:"false",children:"False"}),!c&&(0,d.jsx)(i.SelectItem,{value:"undefined",children:"Unset"})]})]});let q="integer"===a.type||"number"===a.type;return(0,d.jsxs)("div",{...e,className:(0,l.cn)("flex flex-row gap-2",e.className),children:[(0,d.jsx)(j.Input,{id:b,placeholder:"Enter value",type:q?"number":"text",step:"integer"===a.type?1:void 0,value:k??"",onChange:a=>{q&&!Number.isNaN(a.target.valueAsNumber)?n(a.target.valueAsNumber):q||n(a.target.value)},...o}),p.isDirty&&(0,d.jsx)("button",{type:"button",onClick:()=>g.resetField(b),className:"text-fd-muted-foreground",children:(0,d.jsx)(h.X,{className:"size-4"})})]})}function B({field:a,fieldName:b,toolbar:g,name:i,isRequired:j,depth:o=0,slotType:r,collapsible:y=!0,...z}){let D=s(a),[E,F]=(0,e.useState)(!y),{info:G,updateInfo:H}=function(a,b,c){let{fieldInfoMap:d,ajv:g}=(0,e.useContext)(p),h=(0,f.useFormContext)(),i=`${a}:${c}`,j=h.getValues(a),[l,m]=(0,e.useState)(()=>{var a;let c=d.get(i);if(c)return c;let e=(a=b).anyOf&&t(a.anyOf)?[a.anyOf,"anyOf"]:a.allOf&&t(a.allOf)?[a.allOf,"allOf"]:a.oneOf?[a.oneOf,"oneOf"]:void 0;if(e){let[a,b]=e,c=a.findIndex(a=>g.validate(a,j));return -1===c&&(c=0),{oneOf:c,unionField:b}}if(Array.isArray(b.type)){let a=b.type;return{selectedType:a.find(c=>{b.type=c;let d=g.validate(b,j);return b.type=a,d})??a.at(0),oneOf:-1}}return{oneOf:-1}});return d.set(i,l),{info:l,updateInfo:c=>{let d={...l,...c};if(d.oneOf===l.oneOf&&d.selectedType===l.selectedType)return;m(d);let e=b;d.unionField?e=b[d.unionField][d.oneOf]:d.selectedType&&(e={...b,type:d.selectedType}),h.setValue(a,k(e))}}}(b,D,o);if(!1===a)return null;if(G.unionField){let a=D[G.unionField],e=a.length>1;return(0,d.jsx)(B,{...z,name:i,fieldName:b,isRequired:j,field:a[G.oneOf],depth:o+1,slotType:!e&&r,toolbar:(0,d.jsxs)(d.Fragment,{children:[e&&(0,d.jsx)("select",{className:"text-xs font-mono",value:G.oneOf,onChange:a=>{H({oneOf:Number(a.target.value)})},children:a.map((a,b)=>(0,d.jsx)("option",{value:b,children:n(a,void 0,c.UseAlias)},b))}),g]})})}if(Array.isArray(D.type)){let a=D.type.length>1;return(0,d.jsx)(B,{...z,name:i,fieldName:b,isRequired:j,field:{...D,type:G.selectedType},depth:o+1,slotType:!a&&r,toolbar:(0,d.jsxs)(d.Fragment,{children:[a&&(0,d.jsx)("select",{className:"text-xs font-mono",value:G.selectedType,onChange:a=>{H({selectedType:a.target.value})},children:D.type.map(a=>(0,d.jsx)("option",{value:a,children:a},a))}),g]})})}let I=y&&(0,d.jsx)("button",{type:"button",onClick:()=>F(a=>!a),className:(0,l.cn)((0,m.buttonVariants)({size:"icon-xs",color:"ghost",className:"text-fd-muted-foreground -ms-1"})),children:(0,d.jsx)(h.ChevronDown,{className:(0,l.cn)(E&&"rotate-180")})});return"object"===D.type||D.anyOf||D.allOf?(0,d.jsxs)("fieldset",{...z,className:(0,l.cn)("flex flex-col gap-1.5 col-span-full @container",z.className),children:[(0,d.jsxs)(u,{htmlFor:b,children:[I,(0,d.jsx)(v,{required:j,children:i}),r??(0,d.jsx)(w,{children:n(D)}),g]}),E&&(0,d.jsx)(x,{field:D,fieldName:b,...z,className:(0,l.cn)("rounded-lg border border-fd-primary/20 bg-fd-background/50 p-2 shadow-sm",z.className)})]}):"array"===D.type?(0,d.jsxs)("fieldset",{...z,className:(0,l.cn)("flex flex-col gap-1.5 col-span-full",z.className),children:[(0,d.jsxs)(u,{htmlFor:b,children:[I,(0,d.jsx)(v,{required:j,children:i}),r??(0,d.jsx)(w,{children:n(D)}),g]}),E&&(0,d.jsx)(C,{fieldName:b,items:D.items??q,...z,className:(0,l.cn)("rounded-lg border border-fd-primary/20 bg-fd-background/50 p-2 shadow-sm",z.className)})]}):(0,d.jsxs)("fieldset",{...z,className:(0,l.cn)("flex flex-col gap-1.5",z.className),children:[(0,d.jsxs)(u,{htmlFor:b,children:[(0,d.jsx)(v,{required:j,children:i}),r??(0,d.jsx)(w,{children:n(D)}),g]}),(0,d.jsx)(A,{field:D,fieldName:b,isRequired:j})]})}function C({fieldName:a,items:b,...c}){let e=a.split(".").at(-1)??"",{fields:g,append:i,remove:j}=(0,f.useFieldArray)({name:a});return(0,d.jsxs)("div",{...c,className:(0,l.cn)("flex flex-col gap-2",c.className),children:[g.map((c,f)=>(0,d.jsx)(B,{name:(0,d.jsxs)("span",{className:"text-fd-muted-foreground",children:[e,"[",f,"]"]}),field:b,isRequired:!0,fieldName:`${a}.${f}`,toolbar:(0,d.jsx)("button",{type:"button","aria-label":"Remove Item",className:(0,l.cn)((0,m.buttonVariants)({color:"outline",size:"icon-xs"})),onClick:()=>j(f),children:(0,d.jsx)(h.Trash2,{})})},c.id)),(0,d.jsxs)("button",{type:"button",className:(0,l.cn)((0,m.buttonVariants)({color:"secondary",className:"gap-1.5 py-2",size:"sm"})),onClick:()=>{i(k(b))},children:[(0,d.jsx)(h.Plus,{className:"size-4"}),"New Item"]})]})}let D={400:{description:"Bad Request",color:"text-red-500",icon:h.CircleX},401:{description:"Unauthorized",color:"text-red-500",icon:h.CircleX},403:{description:"Forbidden",color:"text-red-500",icon:h.CircleX},404:{description:"Not Found",color:"text-fd-muted-foreground",icon:h.CircleX},500:{description:"Internal Server Error",color:"text-red-500",icon:h.CircleX}};var E=a.i(51529),F=a.i(68349),G=a.i(74151),H=a.i(24731),I=a.i(42381);a.i(36487);var J=a.i(8948);let K={spaceDelimited:" ",pipeDelimited:"|"},L={label:".",matrix:";"};function M(a,b,c){let d={method:a.method,body:a.body,bodyMediaType:a.bodyMediaType};for(let e of["cookie","query","header","path"]){let f={};for(let d in a[e]){let g=a[e][d];if(null==g)continue;let h=c.find(a=>a.name===d&&a.in===e);if(!h){f[d]={value:String(g)};continue}let i=function(a,b){if(a.content)for(let c in a.content){let a=(0,J.resolveMediaAdapter)(c,b);if(a)return b=>String(a.encode({body:b}))}}(h,b);if(i){f[d]={value:i(g)};continue}let j=h.explode??!0,k="",l=",";if("path"===h.in){let a=h.style??"simple";a in L&&(k=L[a],j&&(l=k))}if(Array.isArray(g)){if(j&&"header"!==h.in&&"cookie"!==h.in){f[d]={value:k+g.map(String)};continue}if("query"===h.in){let a=h.style??"form";a in K&&(l=K[a])}f[d]={value:k+g.map(String).join(l)};continue}if("object"==typeof g&&g){if(j&&("header"===h.in||"path"===h.in)){f[d]={value:k+Object.entries(g).map(([a,b])=>`${a}=${b}`).join(l)};continue}if(j||"deepObject"===h.style){!function a(b,c,d,e){for(let f in c){let g=c[f];if(null==g)continue;let h=d?`${b}[${f}]`:f;if(!d||"object"!=typeof g){e[h]={value:String(g)};continue}a(h,c,d,e)}}(d,g,"deepObject"===h.style,f);continue}f[d]={value:k+Object.entries(g).flat().join(l)};continue}f[d]={value:k+String(g)}}d[e]=f}return d}var N=a.i(96409),O=a.i(5561);function P(a){let{servers:b}=(0,g.useApiContext)(),{server:c,setServer:f,setServerVariables:h}=(0,g.useServerSelectContext)(),[j,k]=(0,e.useState)(!1),[l,m]=(0,e.useState)(!1);if((0,e.useEffect)(()=>{m(!0)},[]),b.length<=0)return;let n=c?b.find(a=>a.url===c.url):null;return(0,d.jsxs)(O.Dialog,{open:j,onOpenChange:k,children:[(0,d.jsx)(O.DialogTrigger,{className:"text-xs p-3 py-2 bg-fd-muted text-fd-muted-foreground transition-colors truncate hover:bg-fd-accent hover:text-fd-accent-foreground focus-visible:outline-none",children:l?(0,E.withBase)(c?(0,E.resolveServerUrl)(c.url,c.variables):"/",window.location.origin):"loading..."}),(0,d.jsxs)(O.DialogContent,{...a,children:[(0,d.jsxs)(O.DialogHeader,{children:[(0,d.jsx)(O.DialogTitle,{children:"Server URL"}),(0,d.jsx)(O.DialogDescription,{children:"The base URL of your API endpoint."})]}),(0,d.jsxs)(i.Select,{value:c?.url,onValueChange:f,children:[(0,d.jsx)(i.SelectTrigger,{children:(0,d.jsx)(i.SelectValue,{})}),(0,d.jsx)(i.SelectContent,{children:b.map(a=>(0,d.jsxs)(i.SelectItem,{value:a.url,children:[(0,d.jsx)("code",{className:"text-[0.8125rem]",children:a.url}),(0,d.jsx)("p",{className:"text-fd-muted-foreground",children:a.description})]},a.url))})]}),c?.variables&&n?.variables&&(0,d.jsx)(Q,{defaultValues:c.variables,schema:n.variables,onChange:h},c.url)]})]})}function Q({defaultValues:a,onChange:b,schema:c}){let g=(0,f.useForm)({defaultValues:a}),h=(0,e.useEffectEvent)(b);return(0,e.useEffect)(()=>{let a=null;return g.subscribe({formState:{values:!0},callback({values:b}){null!==a&&window.clearTimeout(a),a=window.setTimeout(()=>h(b),500)}})},[]),(0,d.jsx)(f.FormProvider,{...g,children:(0,d.jsx)("div",{className:"flex flex-col gap-4",children:Object.entries(c).map(([a,b])=>(0,d.jsxs)("fieldset",{className:"flex flex-col gap-1",children:[(0,d.jsx)("label",{className:(0,l.cn)((0,j.labelVariants)()),htmlFor:a,children:a}),(0,d.jsx)("p",{className:"text-xs text-fd-muted-foreground empty:hidden",children:b.description}),(0,d.jsx)(R,{fieldName:a,variable:b})]},a))})})}function R({fieldName:a,variable:b}){let{field:c}=(0,f.useController)({name:a});return b.enum?(0,d.jsxs)(i.Select,{value:c.value,onValueChange:c.onChange,children:[(0,d.jsx)(i.SelectTrigger,{id:a,ref:c.ref,children:(0,d.jsx)(i.SelectValue,{})}),(0,d.jsx)(i.SelectContent,{children:b.enum.map(a=>(0,d.jsx)(i.SelectItem,{value:a,children:a},a))})]}):(0,d.jsx)(j.Input,{id:a,...c})}var S=a.i(24590);let T=(0,e.lazy)(()=>a.A(21447).then(a=>({default:a.OauthDialog}))),U=(0,e.lazy)(()=>a.A(21447).then(a=>({default:a.OauthDialogTrigger})));function V({route:b,method:c="GET",securities:i,parameters:k=[],body:n,references:o,proxyUrl:p,...q}){var s,t;let u,v,{example:w,examples:y,setExampleData:z}=(0,N.useOperationContext)(),C=(0,S.useStorageKey)(),D=(0,e.useMemo)(()=>new Map,[]),{mediaAdapters:F,serverRef:I,client:{playground:{components:{ResultDisplay:J=_}={},requestTimeout:K=10,transformAuthInputs:L}={}}}=(0,g.useApiContext)(),[O,Q]=(0,e.useState)(0),{inputs:R,mapInputs:T,initAuthValues:V}=(s=i[O],t=L,u=(0,S.useStorageKey)(),{inputs:v=(0,e.useMemo)(()=>{let a=[];if(!s)return a;for(let b of s)if("http"===b.type&&"basic"===b.scheme){let c="header.Authorization";a.push({fieldName:c,original:b,defaultValue:{username:"",password:""},mapOutput:a=>a&&"object"==typeof a?`Basic ${btoa(`${"username"in a?a.username:""}:${"password"in a?a.password:""}`)}`:a,children:(0,d.jsx)(x,{field:{type:"object",properties:{username:{type:"string"},password:{type:"string"}},required:["username","password"]},fieldName:c})})}else if("oauth2"===b.type){let c="header.Authorization";a.push({fieldName:c,original:b,defaultValue:"Bearer ",children:(0,d.jsxs)("fieldset",{className:"flex flex-col gap-2",children:[(0,d.jsx)("label",{htmlFor:c,className:(0,l.cn)((0,j.labelVariants)()),children:"Access Token"}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)(A,{fieldName:c,isRequired:!0,field:{type:"string"},className:"flex-1"}),(0,d.jsx)(U,{type:"button",className:(0,l.cn)((0,m.buttonVariants)({size:"sm",color:"secondary"})),children:"Authorize"})]})]})})}else if("http"===b.type){let c="header.Authorization";a.push({fieldName:c,original:b,defaultValue:"Bearer ",children:(0,d.jsx)(B,{name:"Authorization (header)",fieldName:c,isRequired:!0,field:{type:"string"}})})}else if("apiKey"===b.type){let c=`${b.in}.${b.name}`;a.push({fieldName:c,defaultValue:"",original:b,children:(0,d.jsx)(B,{fieldName:c,name:`${b.name} (${b.in})`,isRequired:!0,field:{type:"string"}})})}else{let c="header.Authorization";a.push({fieldName:c,defaultValue:"",original:b,children:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(B,{name:"Authorization (header)",isRequired:!0,fieldName:c,field:{type:"string"}}),(0,d.jsx)("p",{className:"text-fd-muted-foreground text-xs",children:"OpenID Connect is not supported at the moment, you can still set an access token here."})]})})}return t?t(a):a},[s,t]),mapInputs:a=>{let b=structuredClone(a);for(let a of v)a.mapOutput&&(0,f.set)(b,a.fieldName,a.mapOutput((0,f.get)(b,a.fieldName)));return b},initAuthValues:a=>{for(let b of v){let c=localStorage.getItem(u.AuthField(b));if(c){let d=JSON.parse(c);if(typeof d==typeof b.defaultValue){(0,f.set)(a,b.fieldName,d);continue}}(0,f.set)(a,b.fieldName,b.defaultValue)}return a}}),X=(0,e.useMemo)(()=>{let a=y.find(a=>a.id===w)?.data;return{path:a?.path??{},query:a?.query??{},header:a?.header??{},body:a?.body??{},cookie:a?.cookie??{}}},[y,w]),Z=(0,f.useForm)({defaultValues:X}),aa=(0,H.useQuery)(async d=>{let e=I.current,f=await a.A(19862).then(a=>a.createBrowserFetcher(F,K));return d._encoded??(d._encoded=M({...T(d),method:c,bodyMediaType:n?.mediaType},F,k)),f.fetch((0,E.joinURL)((0,E.withBase)(e?(0,E.resolveServerUrl)(e.url,e.variables):"/",window.location.origin),(0,E.resolveRequestData)(b,d._encoded)),{proxyUrl:p,...d._encoded})}),ab=(0,e.useEffectEvent)(a=>{for(let b of R){let c=(0,f.get)(a,b.fieldName);c&&localStorage.setItem(C.AuthField(b),JSON.stringify(c))}let b={...T(a),method:c,bodyMediaType:n?.mediaType};a._encoded??(a._encoded=M(b,F,k)),z(b,a._encoded)});(0,e.useEffect)(()=>{let a=null,b=Z.subscribe({formState:{values:!0},callback({values:b}){delete b._encoded,a&&window.clearTimeout(a),a=window.setTimeout(()=>ab(b),400*!!a)}});return()=>b()},[]),(0,e.useEffect)(()=>(Z.reset(V(X)),()=>D.clear()),[X]),(0,e.useEffect)(()=>(Z.reset(a=>V(a)),()=>{Z.reset(a=>{for(let b of R)(0,f.set)(a,b.fieldName,void 0);return a})}),[R]);let ac=Z.handleSubmit(a=>{aa.start(T(a))});return(0,d.jsx)(f.FormProvider,{...Z,children:(0,d.jsx)(r,{fieldInfoMap:D,references:o,children:(0,d.jsxs)("form",{...q,className:(0,l.cn)("not-prose flex flex-col rounded-xl border shadow-md overflow-hidden bg-fd-card text-fd-card-foreground",q.className),onSubmit:ac,children:[(0,d.jsx)(P,{}),(0,d.jsxs)("div",{className:"flex flex-row items-center gap-2 text-sm p-3 not-last:pb-0",children:[(0,d.jsx)(G.MethodLabel,{children:c}),(0,d.jsx)($,{route:b,className:"flex-1"}),(0,d.jsx)("button",{type:"submit",className:(0,l.cn)((0,m.buttonVariants)({color:"primary",size:"sm"}),"w-14 py-1.5"),disabled:aa.isLoading,children:aa.isLoading?(0,d.jsx)(h.LoaderCircle,{className:"size-4 animate-spin"}):"Send"})]}),i.length>0&&(0,d.jsx)(W,{securities:i,securityId:O,setSecurityId:Q,children:R.map(a=>(0,d.jsx)(e.Fragment,{children:a.children},a.fieldName))}),(0,d.jsx)(Y,{body:n,parameters:k}),aa.data?(0,d.jsx)(J,{data:aa.data}):null]})})})}function W({securities:a,setSecurityId:b,securityId:c,children:g}){let[h,j]=(0,e.useState)(!1),k=(0,f.useFormContext)(),l=(0,d.jsxs)(aa,{title:"Authorization",children:[(0,d.jsxs)(i.Select,{value:c.toString(),onValueChange:a=>b(Number(a)),children:[(0,d.jsx)(i.SelectTrigger,{children:(0,d.jsx)(i.SelectValue,{})}),(0,d.jsx)(i.SelectContent,{children:a.map((a,b)=>(0,d.jsx)(i.SelectItem,{value:b.toString(),children:a.map(a=>(0,d.jsxs)("div",{className:"max-w-[600px]",children:[(0,d.jsx)("p",{className:"font-mono font-medium",children:a.id}),(0,d.jsx)("p",{className:"text-fd-muted-foreground whitespace-pre-wrap",children:a.description})]},a.id))},b))})]}),g]});for(let c=0;c<a.length;c++)for(let e of a[c])if("oauth2"===e.type)return(0,d.jsx)(T,{scheme:e,scopes:e.scopes,open:h,setOpen:a=>{j(a),a&&b(c)},setToken:a=>k.setValue("header.Authorization",a),children:l});return l}let X=["path","header","cookie","query"];function Y({parameters:a=[],body:b}){let{renderParameterField:c,renderBodyField:f}=(0,g.useApiContext)().client.playground??{},h=(0,e.useMemo)(()=>X.map(b=>{let e=a.filter(a=>a.in===b);if(0!==e.length)return(0,d.jsx)(aa,{title:{header:"Header",cookie:"Cookies",query:"Query",path:"Path"}[b],children:e.map(a=>{let e=`${b}.${a.name}`;if(c)return c(e,a);let f=a.content&&Object.keys(a.content),g=a.content&&f&&f.length>0?a.content[f[0]].schema:a.schema;return(0,d.jsx)(B,{name:a.name,fieldName:e,field:g},e)})},b)}),[a,c]);return(0,d.jsxs)(d.Fragment,{children:[h,b&&(0,d.jsx)(aa,{title:"Body",children:f?f("body",b):(0,d.jsx)(Z,{field:b.schema})})]})}function Z({field:a}){let b=s(a),[c,f]=(0,e.useState)(!1);return"binary"===b.format?(0,d.jsx)(B,{field:b,fieldName:"body"}):c?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("button",{className:(0,l.cn)((0,m.buttonVariants)({color:"secondary",size:"sm",className:"w-fit font-mono p-2"})),onClick:()=>f(!1),type:"button",children:"Close JSON Editor"}),(0,d.jsx)(y,{fieldName:"body"})]}):(0,d.jsx)(B,{field:b,fieldName:"body",collapsible:!1,name:(0,d.jsx)("button",{type:"button",className:(0,l.cn)((0,m.buttonVariants)({color:"secondary",size:"sm",className:"p-2"})),onClick:()=>f(!0),children:"Open JSON Editor"})})}function $({route:a,...b}){return(0,d.jsx)("div",{...b,className:(0,l.cn)("flex flex-row items-center gap-0.5 overflow-auto text-nowrap",b.className),children:a.split("/").map((a,b)=>(0,d.jsxs)(e.Fragment,{children:[b>0&&(0,d.jsx)("span",{className:"text-fd-muted-foreground",children:"/"}),a.startsWith("{")&&a.endsWith("}")?(0,d.jsx)("code",{className:"bg-fd-primary/10 text-fd-primary",children:a}):(0,d.jsx)("code",{className:"text-fd-foreground",children:a})]},b))})}function _({data:a}){let b=(0,e.useMemo)(()=>{var b;return(b=a.status)in D?D[b]:b>=200&&b<300?{description:"Successful",color:"text-green-500",icon:h.CircleCheck}:b>=400?{description:"Error",color:"text-red-500",icon:h.CircleX}:{description:"No Description",color:"text-fd-muted-foreground",icon:h.CircleX}},[a.status]),{shikiOptions:c}=(0,g.useApiContext)();return(0,d.jsxs)("div",{className:"flex flex-col gap-3 p-3",children:[(0,d.jsxs)("div",{className:"inline-flex items-center gap-1.5 text-sm font-medium text-fd-foreground",children:[(0,d.jsx)(b.icon,{className:(0,l.cn)("size-4",b.color)}),b.description]}),(0,d.jsx)("p",{className:"text-sm text-fd-muted-foreground",children:a.status}),void 0!==a.data&&(0,d.jsx)(F.DynamicCodeBlock,{lang:"string"==typeof a.data&&a.data.length>5e4?"text":a.type,code:"string"==typeof a.data?a.data:JSON.stringify(a.data,null,2),options:c})]})}function aa({title:a,children:b,...c}){return(0,d.jsxs)(I.Collapsible,{...c,className:"border-b last:border-b-0",children:[(0,d.jsxs)(I.CollapsibleTrigger,{className:"group w-full flex items-center gap-2 p-3 text-sm font-medium",children:[a,(0,d.jsx)(h.ChevronDown,{className:"ms-auto size-3.5 text-fd-muted-foreground group-data-[state=open]:rotate-180"})]}),(0,d.jsx)(I.CollapsibleContent,{children:(0,d.jsx)("div",{className:"flex flex-col gap-3 p-3 pt-1",children:b})})]})}a.s(["Custom",0,{useController:a=>(0,f.useController)(a)},"default",()=>V],59291)}];

//# sourceMappingURL=f8afd__pnpm_d959dc8b._.js.map