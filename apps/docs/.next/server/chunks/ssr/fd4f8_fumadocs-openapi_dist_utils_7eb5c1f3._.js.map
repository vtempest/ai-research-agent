{"version":3,"sources":["../../../../../../apps/docs/node_modules/.pnpm/fumadocs-openapi%4010.0.11_%40types%2Breact-dom%4019.2.3_%40types%2Breact%4019.2.6__%40types%2Breact%4019.2_9ef6bace3a0bb159887c545478466d7a/node_modules/fumadocs-openapi/dist/utils/id-to-title.js","../../../../../../apps/docs/node_modules/.pnpm/fumadocs-openapi%4010.0.11_%40types%2Breact-dom%4019.2.3_%40types%2Breact%4019.2.6__%40types%2Breact%4019.2_9ef6bace3a0bb159887c545478466d7a/node_modules/fumadocs-openapi/dist/utils/schema.js","../../../../../../apps/docs/node_modules/.pnpm/fumadocs-openapi%4010.0.11_%40types%2Breact-dom%4019.2.3_%40types%2Breact%4019.2.6__%40types%2Breact%4019.2_9ef6bace3a0bb159887c545478466d7a/node_modules/fumadocs-openapi/dist/utils/pages/builder.js"],"sourcesContent":["export function idToTitle(id) {\n    let result = [];\n    for (const c of id) {\n        if (result.length === 0)\n            result.push(c.toLocaleUpperCase());\n        // ignore the other parts surrounded with '.', like 'migrations.dev' -> 'dev'\n        else if (c === '.')\n            result = [];\n        else if (/^[A-Z]$/.test(c) && result.at(-1) !== ' ')\n            result.push(' ', c);\n        else if (c === '-')\n            result.push(' ');\n        else\n            result.push(c);\n    }\n    return result.join('');\n}\n","import { idToTitle } from '../utils/id-to-title.js';\nexport const methodKeys = [\n    'get',\n    'post',\n    'patch',\n    'delete',\n    'head',\n    'put',\n];\nexport function getPreferredType(body) {\n    if ('application/json' in body)\n        return 'application/json';\n    return Object.keys(body)[0];\n}\nexport function getTagDisplayName(tag) {\n    return 'x-displayName' in tag && typeof tag['x-displayName'] === 'string'\n        ? tag['x-displayName']\n        : idToTitle(tag.name);\n}\n/**\n * Summarize method endpoint information\n */\nexport function createMethod(method, path, operation) {\n    return {\n        description: path.description,\n        summary: path.summary,\n        ...operation,\n        parameters: [...(operation.parameters ?? []), ...(path.parameters ?? [])],\n        method: method.toUpperCase(),\n    };\n}\n","import { getTagDisplayName, methodKeys, } from '../../utils/schema.js';\nimport { idToTitle } from '../../utils/id-to-title.js';\nexport async function fromServer(server, config) {\n    const schemas = await server.getSchemas();\n    const generated = {};\n    const entries = Object.entries(schemas);\n    if (entries.length === 0) {\n        throw new Error('No input files found.');\n    }\n    for (const [id, schema] of entries) {\n        generated[id] = fromSchema(id, schema, config);\n    }\n    return generated;\n}\nexport function fromSchema(schemaId, processed, config) {\n    const files = [];\n    const { toPages } = config;\n    const { dereferenced } = processed;\n    toPages({\n        id: schemaId,\n        document: processed,\n        create(entry) {\n            files.push(entry);\n        },\n        extract: () => extractInfo(dereferenced),\n        routePathToFilePath(path) {\n            return path\n                .toLowerCase()\n                .replaceAll('.', '-')\n                .split('/')\n                .flatMap((v) => {\n                if (v.startsWith('{') && v.endsWith('}'))\n                    return v.slice(1, -1);\n                if (v.length === 0)\n                    return [];\n                return v;\n            })\n                .join('/');\n        },\n        fromExtractedWebhook(item) {\n            const pathItem = dereferenced.webhooks?.[item.name];\n            if (!pathItem)\n                return;\n            const operation = pathItem?.[item.method];\n            if (!operation)\n                return;\n            return {\n                pathItem,\n                operation,\n                get displayName() {\n                    return operation.summary ?? pathItem.summary ?? idToTitle(item.name);\n                },\n            };\n        },\n        fromExtractedOperation(item) {\n            const pathItem = dereferenced.paths?.[item.path];\n            if (!pathItem)\n                return;\n            const operation = pathItem?.[item.method];\n            if (!operation)\n                return;\n            return {\n                pathItem,\n                operation,\n                get displayName() {\n                    return (operation.summary ??\n                        pathItem.summary ??\n                        (operation.operationId\n                            ? idToTitle(operation.operationId)\n                            : item.path));\n                },\n            };\n        },\n        fromTag(tag) {\n            return {\n                get displayName() {\n                    return getTagDisplayName(tag);\n                },\n            };\n        },\n        fromTagName(name) {\n            const tag = dereferenced.tags?.find((item) => item.name === name);\n            if (!tag)\n                return;\n            return {\n                info: tag,\n                ...this.fromTag(tag),\n            };\n        },\n    });\n    return files;\n}\nfunction extractInfo(document) {\n    const result = { webhooks: [], operations: [] };\n    for (const [path, pathItem] of Object.entries(document.paths ?? {})) {\n        if (!pathItem)\n            continue;\n        for (const methodKey of methodKeys) {\n            if (!pathItem[methodKey])\n                continue;\n            result.operations.push({\n                method: methodKey,\n                path,\n                tags: pathItem[methodKey]?.tags,\n            });\n        }\n    }\n    for (const [name, pathItem] of Object.entries(document.webhooks ?? {})) {\n        if (!pathItem)\n            continue;\n        for (const methodKey of methodKeys) {\n            if (!pathItem[methodKey])\n                continue;\n            result.webhooks.push({\n                method: methodKey,\n                name,\n                tags: pathItem[methodKey]?.tags,\n            });\n        }\n    }\n    return result;\n}\n"],"names":[],"mappings":"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","ignoreList":[0,1,2]}