{"version":3,"sources":["../../../../../../apps/docs/node_modules/.pnpm/fumadocs-openapi%4010.0.11_%40types%2Breact-dom%4019.2.3_%40types%2Breact%4019.2.6__%40types%2Breact%4019.2_9ef6bace3a0bb159887c545478466d7a/node_modules/fumadocs-openapi/dist/ui/contexts/operation.js"],"sourcesContent":["'use client';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { createContext, use, useMemo, useRef, useState, } from 'react';\nconst OperationContext = createContext(null);\nexport function OperationProvider({ route, examples, defaultExampleId, children, }) {\n    const [example, setExample] = useState(() => defaultExampleId ?? examples.at(0)?.id);\n    const listeners = useRef([]);\n    return (_jsx(OperationContext, { value: useMemo(() => ({\n            example,\n            route,\n            setExample: (newKey) => {\n                const example = examples.find((example) => example.id === newKey);\n                if (!example)\n                    return;\n                setExample(newKey);\n                for (const listener of listeners.current) {\n                    listener(example.data, example.encoded);\n                }\n            },\n            examples,\n            setExampleData: (data, encoded) => {\n                for (const item of examples) {\n                    if (item.id === example) {\n                        // persistent changes\n                        item.data = data;\n                        item.encoded = encoded;\n                        break;\n                    }\n                }\n                for (const listener of listeners.current) {\n                    listener(data, encoded);\n                }\n            },\n            removeListener: (listener) => {\n                listeners.current = listeners.current.filter((item) => item !== listener);\n            },\n            addListener: (listener) => {\n                // initial call to listeners to ensure their data is the latest\n                // this is necessary to avoid race conditions between `useEffect()`\n                const active = examples.find((item) => item.id === example);\n                listener(active.data, active.encoded);\n                listeners.current.push(listener);\n            },\n        }), [example, route, examples]), children: children }));\n}\nexport function useOperationContext() {\n    return use(OperationContext);\n}\n"],"names":[],"mappings":"uCACA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,IAAM,EAAmB,CAAA,EAAA,EAAA,aAAa,AAAb,EAAc,MAChC,SAAS,EAAkB,OAAE,CAAK,UAAE,CAAQ,kBAAE,CAAgB,CAAE,UAAQ,CAAG,EAC9E,GAAM,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAAM,GAAoB,EAAS,EAAE,CAAC,IAAI,IAC3E,EAAY,CAAA,EAAA,EAAA,MAAA,AAAM,EAAC,EAAE,EAC3B,MAAQ,CAAA,EAAA,EAAA,GAAA,AAAI,EAAC,EAAkB,CAAE,MAAO,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,IAAM,CAAC,SAC/C,QACA,EACA,WAAY,AAAC,IACT,IAAM,EAAU,EAAS,IAAI,CAAC,AAAC,GAAY,EAAQ,EAAE,GAAK,GAC1D,GAAK,CAAD,CAGJ,IAAK,GAFD,CAEO,KADX,EAAW,GACY,EAAU,OAAO,CAAE,CACtC,EAAS,EAAQ,IAAI,CAAE,EAAQ,OAAO,CAE9C,EACA,WACA,eAAgB,CAAC,EAAM,KACnB,IAAK,IAAM,KAAQ,EACf,GAAI,EAAK,EADgB,AACd,GAAK,EAAS,CAErB,EAAK,IAAI,CAAG,EACZ,EAAK,OAAO,CAAG,EACf,KACJ,CAEJ,IAAK,IAAM,KAAY,EAAU,OAAO,CAAE,AACtC,EAAS,EAAM,EAEvB,EACA,eAAgB,AAAC,IACb,EAAU,OAAO,CAAG,EAAU,OAAO,CAAC,MAAM,CAAC,AAAC,GAAS,IAAS,EACpE,EACA,YAAa,AAAC,IAGV,IAAM,EAAS,EAAS,IAAI,CAAC,AAAC,GAAS,EAAK,EAAE,GAAK,GACnD,EAAS,EAAO,IAAI,CAAE,EAAO,OAAO,EACpC,EAAU,OAAO,CAAC,IAAI,CAAC,EAC3B,EACJ,CAAC,CAAG,CAAC,EAAS,EAAO,EAAS,EAAG,SAAU,CAAS,EAC5D,CACO,SAAS,IACZ,MAAO,CAAA,EAAA,EAAA,GAAA,AAAG,EAAC,EACf","ignoreList":[0]}