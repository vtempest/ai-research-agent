{"version":3,"sources":["../../../../../../apps/docs/node_modules/.pnpm/fumadocs-openapi%4010.0.11_%40types%2Breact-dom%4019.2.3_%40types%2Breact%4019.2.6__%40types%2Breact%4019.2_9ef6bace3a0bb159887c545478466d7a/node_modules/fumadocs-openapi/dist/playground/fetcher.js"],"sourcesContent":["import { resolveMediaAdapter } from '../requests/media/adapter.js';\nexport function createBrowserFetcher(adapters, requestTimeout) {\n    return {\n        async fetch(url, options) {\n            const headers = new Headers();\n            if (options.bodyMediaType &&\n                options.bodyMediaType !== 'multipart/form-data')\n                headers.append('Content-Type', options.bodyMediaType);\n            for (const key in options.header) {\n                const param = options.header[key];\n                if (!Array.isArray(param.value)) {\n                    headers.append(key, param.value);\n                }\n                else {\n                    headers.append(key, param.value.join(','));\n                }\n            }\n            const proxyUrl = options.proxyUrl\n                ? new URL(options.proxyUrl, document.baseURI)\n                : null;\n            if (proxyUrl) {\n                proxyUrl.searchParams.append('url', url);\n                url = proxyUrl.toString();\n            }\n            let body = undefined;\n            if (options.bodyMediaType && options.body) {\n                const adapter = resolveMediaAdapter(options.bodyMediaType, adapters);\n                if (!adapter)\n                    return {\n                        status: 400,\n                        type: 'text',\n                        data: `[Fumadocs] No adapter for ${options.bodyMediaType}, you need to specify one from 'createOpenAPI()'.`,\n                    };\n                body = adapter.encode(options);\n            }\n            // cookies\n            for (const key in options.cookie) {\n                const param = options.cookie[key];\n                const segs = [`${key}=${param.value}`];\n                if (proxyUrl && proxyUrl.origin !== window.location.origin)\n                    segs.push(`domain=${proxyUrl.host}`);\n                segs.push('path=/', 'max-age=30');\n                document.cookie = segs.join('; ');\n            }\n            return fetch(url, {\n                method: options.method,\n                cache: 'no-cache',\n                headers,\n                body,\n                signal: AbortSignal.timeout(requestTimeout * 1000),\n            })\n                .then(async (res) => {\n                const contentType = res.headers.get('Content-Type') ?? '';\n                let type;\n                let data;\n                if (contentType.startsWith('application/json')) {\n                    type = 'json';\n                    data = await res.json();\n                }\n                else {\n                    type = contentType.startsWith('text/html') ? 'html' : 'text';\n                    data = await res.text();\n                }\n                return { status: res.status, type, data };\n            })\n                .catch((e) => {\n                const message = e instanceof Error ? `[${e.name}] ${e.message}` : e.toString();\n                return {\n                    status: 400,\n                    type: 'text',\n                    data: `Client side error: ${message}`,\n                };\n            });\n        },\n    };\n}\n"],"names":[],"mappings":"uCAAA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,MACO,SAAS,EAAqB,CAAQ,CAAE,CAAc,EACzD,MAAO,CACH,MAAM,MAAM,CAAG,CAAE,CAAO,EACpB,IAoBI,EApBE,EAAU,GAoBL,CApBS,QAIpB,IAAK,IAAM,KAHP,EAAQ,aAAa,EACK,wBAA1B,EAAQ,aAAa,EACrB,EAAQ,MAAM,CAAC,eAAgB,EAAQ,aAAa,EACtC,EAAQ,MAAM,CAAE,CAC9B,IAAM,EAAQ,EAAQ,MAAM,CAAC,EAAI,CAC5B,MAAM,OAAO,CAAC,EAAM,KAAK,EAI1B,CAJ6B,CAIrB,MAAM,CAAC,EAAK,EAAM,KAAK,CAAC,IAAI,CAAC,MAHrC,EAAQ,MAAM,CAAC,EAAK,EAAM,KAAK,CAKvC,CACA,IAAM,EAAW,EAAQ,QAAQ,CAC3B,IAAI,IAAI,EAAQ,QAAQ,CAAE,SAAS,OAAO,EAC1C,KAMN,GALI,IACA,EAAS,IADC,QACW,CAAC,MAAM,CAAC,MAAO,GACpC,EAAM,EAAS,QAAQ,IAGvB,EAAQ,aAAa,EAAI,EAAQ,IAAI,CAAE,CACvC,IAAM,EAAU,CAAA,EAAA,EAAA,mBAAA,AAAmB,EAAC,EAAQ,aAAa,CAAE,GAC3D,GAAI,CAAC,EACD,MAAO,CACH,OAAQ,IACR,KAAM,OACN,KAAM,CAAC,0BAA0B,EAAE,EAAQ,aAAa,CAAC,iDAAiD,CAAC,AAC/G,EACJ,EAAO,EAAQ,MAAM,CAAC,EAC1B,CAEA,IAAK,IAAM,KAAO,EAAQ,MAAM,CAAE,CAC9B,IAAM,EAAQ,EAAQ,MAAM,CAAC,EAAI,CAC3B,EAAO,CAAC,CAAA,EAAG,EAAI,CAAC,EAAE,EAAM,KAAK,CAAA,CAAE,CAAC,CAClC,GAAY,EAAS,MAAM,GAAK,OAAO,QAAQ,CAAC,MAAM,EACtD,EAAK,IAAI,CAAC,CAAC,OAAO,EAAE,EAAS,IAAI,CAAA,CAAE,EACvC,EAAK,IAAI,CAAC,SAAU,cACpB,SAAS,MAAM,CAAG,EAAK,IAAI,CAAC,KAChC,CACA,OAAO,MAAM,EAAK,CACd,OAAQ,EAAQ,MAAM,CACtB,MAAO,mBACP,OACA,EACA,OAAQ,YAAY,OAAO,CAAkB,IAAjB,EAChC,GACK,IAAI,CAAC,MAAO,IACb,IACI,EACA,EAFE,EAAc,EAAI,OAAO,CAAC,GAAG,CAAC,iBAAmB,GAWvD,OARI,EAAY,UAAU,CAAC,qBAAqB,AAC5C,EAAO,OACP,EAAO,MAAM,EAAI,IAAI,KAGrB,EAAO,EAAY,UAAU,CAAC,aAAe,OAAS,OACtD,EAAO,MAAM,EAAI,IAAI,IAElB,CAAE,OAAQ,EAAI,MAAM,MAAE,OAAM,CAAK,CAC5C,GACK,KAAK,CAAC,AAAC,IACR,IAAM,EAAU,aAAa,MAAQ,CAAC,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,EAAE,EAAE,OAAO,CAAA,CAAE,CAAG,EAAE,QAAQ,GAC5E,MAAO,CACH,OAAQ,IACR,KAAM,OACN,KAAM,CAAC,mBAAmB,EAAE,EAAA,CAAS,AACzC,CACJ,EACJ,CACJ,CACJ","ignoreList":[0]}