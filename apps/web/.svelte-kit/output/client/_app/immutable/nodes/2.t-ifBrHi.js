import"../chunks/DsnmJJEf.js";import{a7 as z,u as A,e as P,aV as d,K as u,aC as l,aG as g,aX as M,b9 as x,au as $,aW as j,aA as v,ad as R,av as T,w as O}from"../chunks/Dk_ZDBoQ.js";import{s as F}from"../chunks/DXa3xy4r.js";import{c as w}from"../chunks/DXSYVY3x.js";import{o as f}from"../chunks/BqOFc2WC.js";const C=!1,Se=Object.freeze(Object.defineProperty({__proto__:null,prerender:C},Symbol.toStringTag,{value:"Module"})),B=typeof window<"u"?window:void 0;function q(t){let e=t.activeElement;for(;e?.shadowRoot;){const r=e.shadowRoot.activeElement;if(r===e)break;e=r}return e}class J{#t;#e;constructor(e,r){this.#t=e,this.#e=w(r)}get current(){return this.#e(),this.#t()}}const K=/\(.+\)/,N=new Set(["all","print","screen","and","or","not","only"]);class Q extends J{constructor(e,r){let n=K.test(e)||e.split(/[\s,]+/).some(o=>N.has(o.trim()))?e:`(${e})`;const s=window.matchMedia(n);super(()=>s.matches,o=>f(s,"change",o))}}let U=class{#t;#e;constructor(e={}){const{window:r=B,document:n=r?.document}=e;r!==void 0&&(this.#t=n,this.#e=w(s=>{const o=f(r,"focusin",s),c=f(r,"focusout",s);return()=>{o(),c()}}))}get current(){return this.#e?.(),this.#t?q(this.#t):null}};new U;function X(t,e){switch(t){case"post":A(e);break;case"pre":z(e);break}}function V(t,e,r,n={}){const{lazy:s=!1}=n;let o=!s,c=Array.isArray(t)?[]:void 0;X(e,()=>{const a=Array.isArray(t)?t.map(p=>p()):t();if(!o){o=!0,c=a;return}const h=P(()=>r(a,c));return c=a,h})}function S(t,e,r){V(t,"post",e,r)}function D(t,e,r){V(t,"pre",e,r)}S.pre=D;function G(t,e){switch(t){case"local":return e.localStorage;case"session":return e.sessionStorage}}class W{#t;#e;#n;#r;#i;#s=d(0);constructor(e,r,n={}){const{storage:s="local",serializer:o={serialize:JSON.stringify,deserialize:JSON.parse},syncTabs:c=!0,window:a=B}=n;if(this.#t=r,this.#e=e,this.#n=o,a===void 0)return;const h=G(s,a);this.#r=h;const p=h.getItem(e);p!==null?this.#t=this.#o(p):this.#u(r),c&&s==="local"&&(this.#i=w(()=>f(a,"storage",this.#c)))}get current(){this.#i?.(),u(this.#s);const e=this.#o(this.#r?.getItem(this.#e))??this.#t,r=new WeakMap,n=s=>{if(s===null||s?.constructor.name==="Date"||typeof s!="object")return s;let o=r.get(s);return o||(o=new Proxy(s,{get:(c,a)=>(u(this.#s),n(Reflect.get(c,a))),set:(c,a,h)=>(l(this.#s,u(this.#s)+1),Reflect.set(c,a,h),this.#u(e),!0)}),r.set(s,o)),o};return n(e)}set current(e){this.#u(e),l(this.#s,u(this.#s)+1)}#c=e=>{e.key!==this.#e||e.newValue===null||(this.#t=this.#o(e.newValue),l(this.#s,u(this.#s)+1))};#o(e){try{return this.#n.deserialize(e)}catch(r){console.error(`Error when parsing "${e}" from persisted store "${this.#e}"`,r);return}}#u(e){try{e!=null&&this.#r?.setItem(this.#e,this.#n.serialize(e))}catch(r){console.error(`Error when writing value from persisted store "${this.#e}" to ${this.#r}`,r)}}}const I={getItem:t=>null,setItem:(t,e)=>{}},_=typeof document<"u";function L(t){return typeof t=="function"}function Z(t){return t!==null&&typeof t=="object"}const m=Symbol("box"),k=Symbol("is-writable");function H(t){return Z(t)&&m in t}function Y(t){return i.isBox(t)&&k in t}function i(t){let e=d(g(t));return{[m]:!0,[k]:!0,get current(){return u(e)},set current(r){l(e,r,!0)}}}function ee(t,e){const r=M(t);return e?{[m]:!0,[k]:!0,get current(){return u(r)},set current(n){e(n)}}:{[m]:!0,get current(){return t()}}}function te(t){return i.isBox(t)?t:L(t)?i.with(t):i(t)}function re(t){return Object.entries(t).reduce((e,[r,n])=>i.isBox(n)?(i.isWritableBox(n)?Object.defineProperty(e,r,{get(){return n.current},set(s){n.current=s}}):Object.defineProperty(e,r,{get(){return n.current}}),e):Object.assign(e,{[r]:n}),{})}function ne(t){return i.isWritableBox(t)?{[m]:!0,get current(){return t.current}}:t}i.from=te;i.with=ee;i.flatten=re;i.readonly=ne;i.isBox=H;i.isWritableBox=Y;function se(t,e){const r=RegExp(t,"g");return n=>{if(typeof n!="string")throw new TypeError(`expected an argument of type string, but got ${typeof n}`);return n.match(r)?n.replace(r,e):n}}const ie=se(/[A-Z]/,t=>`-${t.toLowerCase()}`);function oe(t){if(!t||typeof t!="object"||Array.isArray(t))throw new TypeError(`expected an argument of type object, but got ${typeof t}`);return Object.keys(t).map(e=>`${ie(e)}: ${t[e]};`).join(`
`)}function ue(t={}){return oe(t).replace(`
`," ")}const ce={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",transform:"translateX(-100%)"};ue(ce);const ae=typeof window<"u"?window:void 0;function le(t){let e=t.activeElement;for(;e?.shadowRoot;){const r=e.shadowRoot.activeElement;if(r===e)break;e=r}return e}class he{#t;#e;constructor(e={}){const{window:r=ae,document:n=r?.document}=e;r!==void 0&&(this.#t=n,this.#e=w(s=>{const o=f(r,"focusin",s),c=f(r,"focusout",s);return()=>{o(),c()}}))}get current(){return this.#e?.(),this.#t?le(this.#t):null}}new he;const y=i("mode-watcher-mode"),b=i("mode-watcher-theme"),fe=["dark","light","system"];function E(t){return typeof t!="string"?!1:fe.includes(t)}class de{#t="system";#e=_?localStorage:I;#n=this.#e.getItem(y.current);#r=E(this.#n)?this.#n:this.#t;#i=d(g(this.#s()));#s(e=this.#r){return new W(y.current,e,{serializer:{serialize:r=>r,deserialize:r=>E(r)?r:this.#t}})}constructor(){x(()=>S.pre(()=>y.current,(e,r)=>{const n=u(this.#i).current;l(this.#i,this.#s(n),!0),r&&localStorage.removeItem(r)}))}get current(){return u(this.#i).current}set current(e){u(this.#i).current=e}}class me{#t=void 0;#e=!0;#n=d(g(this.#t));#r=typeof window<"u"&&typeof window.matchMedia=="function"?new Q("prefers-color-scheme: light"):{current:!1};query(){_&&l(this.#n,this.#r.current?"light":"dark",!0)}tracking(e){this.#e=e}constructor(){x(()=>{z(()=>{this.#e&&this.query()})}),this.query=this.query.bind(this),this.tracking=this.tracking.bind(this)}get current(){return u(this.#n)}}new de;new me;class pe{#t=_?localStorage:I;#e=this.#t.getItem(b.current);#n=this.#e===null||this.#e===void 0?"":this.#e;#r=d(g(this.#i()));#i(e=this.#n){return new W(b.current,e,{serializer:{serialize:r=>typeof r!="string"?"":r,deserialize:r=>r}})}constructor(){x(()=>S.pre(()=>b.current,(e,r)=>{const n=u(this.#r).current;l(this.#r,this.#i(n),!0),r&&localStorage.removeItem(r)}))}get current(){return u(this.#r).current}set current(e){u(this.#r).current=e}}new pe;i(void 0);i(!0);i(!1);i([]);i([]);function ke(t,e){$(e,!0);let r=d("");A(()=>{l(r,e.user.name.split(" ").map(o=>o[0].toUpperCase()).join(""),!0)});var n=j(),s=v(n);F(s,()=>e.children??O),R(t,n),T()}export{ke as component,Se as universal};
