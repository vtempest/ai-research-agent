import{aa as $,E as B,aO as q,aP as L,e as P,d as y,aQ as z,aR as M,aS as U,aN as O,aI as j,q as G,a7 as k}from"./DJ8n_fHL.js";import{a as K}from"./Cj9B7dkS.js";import{c as Q}from"./amsbgj-v.js";const W=()=>performance.now(),_={tick:r=>requestAnimationFrame(r),now:()=>W(),tasks:new Set};function x(){const r=_.now();_.tasks.forEach(t=>{t.c(r)||(_.tasks.delete(t),t.f())}),_.tasks.size!==0&&_.tick(x)}function D(r){let t;return _.tasks.size===0&&_.tick(x),{promise:new Promise(o=>{_.tasks.add(t={c:r,f:o})}),abort(){_.tasks.delete(t)}}}function C(r,t){O(()=>{r.dispatchEvent(new CustomEvent(t))})}function H(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const t=r.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(o=>o[0].toUpperCase()+o.slice(1)).join("")}function I(r){const t={},o=r.split(";");for(const i of o){const[a,n]=i.split(":");if(!a||n===void 0)break;const s=H(a.trim());t[s]=n.trim()}return t}const J=r=>r;function tt(r,t,o){var i=Q,a,n,s,v=null;i.a??={element:r,measure(){a=this.element.getBoundingClientRect()},apply(){if(s?.abort(),n=this.element.getBoundingClientRect(),a.left!==n.left||a.right!==n.right||a.top!==n.top||a.bottom!==n.bottom){const u=t()(this.element,{from:a,to:n},o?.());s=E(this.element,u,void 0,1,()=>{s?.abort(),s=void 0})}},fix(){if(!r.getAnimations().length){var{position:u,width:h,height:m}=getComputedStyle(r);if(u!=="absolute"&&u!=="fixed"){var e=r.style;v={position:e.position,width:e.width,height:e.height,transform:e.transform},e.position="absolute",e.width=h,e.height=m;var f=r.getBoundingClientRect();if(a.left!==f.left||a.top!==f.top){var p=`translate(${a.left-f.left}px, ${a.top-f.top}px)`;e.transform=e.transform?`${e.transform} ${p}`:p}}}},unfix(){if(v){var u=r.style;u.position=v.position,u.width=v.width,u.height=v.height,u.transform=v.transform}}},i.a.element=r}function rt(r,t,o,i){var a=(r&M)!==0,n=(r&U)!==0,s=a&&n,v=(r&z)!==0,u=s?"both":a?"in":"out",h,m=t.inert,e=t.style.overflow,f,p;function g(){return O(()=>h??=o()(t,i?.()??{},{direction:u}))}var c={is_global:v,in(){if(t.inert=m,!a){p?.abort(),p?.reset?.();return}n||f?.abort(),C(t,"introstart"),f=E(t,g(),p,1,()=>{C(t,"introend"),f?.abort(),f=h=void 0,t.style.overflow=e})},out(b){if(!n){b?.(),h=void 0;return}t.inert=!0,C(t,"outrostart"),p=E(t,g(),f,0,()=>{C(t,"outroend"),b?.()})},stop:()=>{f?.abort(),p?.abort()}},l=$;if((l.transitions??=[]).push(c),a&&K){var w=v;if(!w){for(var d=l.parent;d&&(d.f&B)!==0;)for(;(d=d.parent)&&(d.f&q)===0;);w=!d||(d.f&L)!==0}w&&P(()=>{y(()=>c.in())})}}function E(r,t,o,i,a){var n=i===1;if(j(t)){var s,v=!1;return G(()=>{if(!v){var l=t({direction:n?"in":"out"});s=E(r,l,o,i,a)}}),{abort:()=>{v=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(o?.deactivate(),!t?.duration)return a(),{abort:k,deactivate:k,reset:k,t:()=>i};const{delay:u=0,css:h,tick:m,easing:e=J}=t;var f=[];if(n&&o===void 0&&(m&&m(0,1),h)){var p=I(h(0,1));f.push(p,p)}var g=()=>1-i,c=r.animate(f,{duration:u,fill:"forwards"});return c.onfinish=()=>{c.cancel();var l=o?.t()??1-i;o?.abort();var w=i-l,d=t.duration*Math.abs(w),b=[];if(d>0){var R=!1;if(h)for(var A=Math.ceil(d/16.666666666666668),N=0;N<=A;N+=1){var S=l+w*e(N/A),F=I(h(S,1-S));b.push(F),R||=F.overflow==="hidden"}R&&(r.style.overflow="hidden"),g=()=>{var T=c.currentTime;return l+w*e(T/d)},m&&D(()=>{if(c.playState!=="running")return!1;var T=g();return m(T,1-T),!0})}c=r.animate(b,{duration:d,fill:"forwards"}),c.onfinish=()=>{g=()=>i,m?.(i,1-i),a()}},{abort:()=>{c&&(c.cancel(),c.effect=null,c.onfinish=k)},deactivate:()=>{a=k},reset:()=>{i===0&&m?.(1,0)},t:()=>g()}}const V=r=>r;function at(r,{delay:t=0,duration:o=400,easing:i=V}={}){const a=+getComputedStyle(r).opacity;return{delay:t,duration:o,easing:i,css:n=>`opacity: ${n*a}`}}export{tt as a,at as f,rt as t};
