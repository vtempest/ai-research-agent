<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-functions/similarity/similarity-vector" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.7.0"><title data-rh=true>similarity-vector | QwkSearch API Routes Docs</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://qwksearch.com/docs/functions/similarity/similarity-vector><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="similarity-vector | QwkSearch API Routes Docs"><meta data-rh=true name=description content="Documentation / similarity/similarity-vector"><meta data-rh=true property=og:description content="Documentation / similarity/similarity-vector"><link data-rh=true rel=icon href=https://qwksearch.com/favicon.ico><link data-rh=true rel=canonical href=https://qwksearch.com/docs/functions/similarity/similarity-vector><link data-rh=true rel=alternate href=https://qwksearch.com/docs/functions/similarity/similarity-vector hreflang=en><link data-rh=true rel=alternate href=https://qwksearch.com/docs/functions/similarity/similarity-vector hreflang=x-default><link rel=preconnect href=https://www.google-analytics.com><link rel=preconnect href=https://www.googletagmanager.com><script async src="https://www.googletagmanager.com/gtag/js?id=/////G-E5TZ32BZD"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","/////G-E5TZ32BZD",{})</script><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.11.0/css/all.css type=text/css><link rel=stylesheet href=/docs/assets/css/styles.61361f3b.css><script src=/docs/assets/js/runtime~main.0ffed2a7.js defer></script><script src=/docs/assets/js/main.69b38ab5.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"light",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=https://qwksearch.com/icons/app-icon.svg><link rel=preload as=image href=https://i.imgur.com/nvJ7fzO.png><link rel=preload as=image href=https://i.imgur.com/wtJqEqX.png><link rel=preload as=image href=https://i.imgur.com/3R5Tsrf.png><link rel=preload as=image href="https://github.com/NJU-RINC/hnsw-visulize/blob/master/path.gif?raw=true"><link rel=preload as=image href=https://i.imgur.com/ZAAfogK.png><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="navbar navbar--fixed-top"><div class=navbar__inner><div class=navbar__items><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/docs/functions><div class=navbar__logo><img src=https://qwksearch.com/icons/app-icon.svg alt=logo class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=https://qwksearch.com/icons/app-icon.svg alt=logo class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">QwkSearch Docs</b></a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/docs/functions>ðŸ‘‹ Intro</a><a class="navbar__item navbar__link" href=/docs/api-routes/services>ðŸ”Œ API Routes</a><a class="navbar__item navbar__link" href=/docs/functions/modules>ðŸ”§ Core Functions</a><a class="navbar__item navbar__link" href=/docs/web-app/modules>ðŸ’» Web App</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live=polite aria-pressed=false><svg viewBox="0 0 24 24" width=24 height=24 class=lightToggleIcon_pyhR><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 class=darkToggleIcon_wfgR><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg></button></div><div class=navbarSearchContainer_Bca1><div class=navbar__search><span aria-label="expand searchbar" role=button class=search-icon tabindex=0></span><input id=search_input_react type=search placeholder=Loading... aria-label=Search class="navbar__search-input search-bar" disabled></div></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/qwksearch-api>API Routes</a><button aria-label="Collapse sidebar category 'API Routes'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/api-routes/qwksearch-api>Introduction</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item get api-method"><a class=menu__link tabindex=0 href=/docs/api-routes/extract-from-any-url-the-main-content-and-cite>Extract from any URL the main content and cite</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item post api-method"><a class=menu__link tabindex=0 href=/docs/api-routes/generate-language-model-reply-using-agent-prompts>Generate language model reply using agent prompts</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item get api-method"><a class=menu__link tabindex=0 href=/docs/api-routes/search-the-web>Search the web</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/api-routes/services>Services</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true href=/docs/functions/agents/agent-prompts>Core Functions</a></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/functions/agents/agent-prompts>agents</a></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/functions/crawler/>crawler</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/functions/datasets/compile-topic-model>datasets</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/functions/editor/>Editor</a><button aria-label="Expand sidebar category 'Editor'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/functions/editor>editor</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/functions/extractor/html-to-cite/extract-author>extractor</a></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/functions/>index</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/functions/interface/get-weather>interface</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/functions/match/compare-letters>match</a></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/functions/modules>modules</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/functions/search/search-engines>search</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true tabindex=0 href=/docs/functions/similarity/embeddings-to-graph>similarity</a></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/functions/similarity/embeddings-to-graph>embeddings-to-graph</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/functions/similarity/similarity-remote-api>similarity-remote-api</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/functions/similarity/similarity-vector>similarity-vector</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/functions/similarity/usearch>usearch</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/functions/tokenize/stopwords>tokenize</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/functions/topics/ngrams>topics</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/functions/train/neural-net>train</a></div></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=true href=/docs/web-app/global>Web App</a></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/web-app/global>global</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/web-app/hooks.server>hooks.server</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/web-app/>index</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/web-app/lib/components/AppLayout/auth-google-one-tap>lib</a></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/web-app/modules>modules</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/web-app/routes/+layout>routes</a></div></ul></ul></nav><button type=button title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width=20 height=20 aria-hidden=true class=collapseSidebarButtonIcon_kv0_><g fill=#7a7a7a><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"/><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"/></g></svg></button></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_xLCN"><div class=docItemContainer_jfFK><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><span class=breadcrumbs__link>Core Functions</span><meta itemprop=position content=1><li class=breadcrumbs__item><span class=breadcrumbs__link>similarity</span><meta itemprop=position content=2><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>similarity-vector</span><meta itemprop=position content=3></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>similarity-vector</h1></header><div class=row><div class="col col--12 markdown"><p><a href=/docs/functions/modules>Documentation</a> / similarity/similarity-vector</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=other>Other<a href=#other class=hash-link aria-label="Direct link to Other" title="Direct link to Other">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=autotokenizer>AutoTokenizer<a href=#autotokenizer class=hash-link aria-label="Direct link to AutoTokenizer" title="Direct link to AutoTokenizer">â€‹</a></h3>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token keyword" style=font-style:italic>type</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">AutoTokenizer</span><span class="token class-name operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token class-name operator" style="color:rgb(137, 221, 255)">></span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> AutoTokenizer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Defined in: similarity/similarity-vector.js:2</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=type-parameters>Type Parameters<a href=#type-parameters class=hash-link aria-label="Direct link to Type Parameters" title="Direct link to Type Parameters">â€‹</a></h4>
<table><thead><tr><th>Type Parameter<tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=calculatecosinesimilarity>calculateCosineSimilarity()<a href=#calculatecosinesimilarity class=hash-link aria-label="Direct link to calculateCosineSimilarity()" title="Direct link to calculateCosineSimilarity()">â€‹</a></h3>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token keyword" style=font-style:italic>function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">calculateCosineSimilarity</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">vectorA</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> vectorB</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Defined in: similarity/similarity-vector.js:168</p>
<p><a href=https://en.wikipedia.org/wiki/Cosine_similarity target=_blank rel="noopener noreferrer">Cosine similarity</a> gets similarity of two
vectors by whether they have the same direction (similar) or are poles apart. Cosine similarity
is often used with text representations to compare how similar two documents or sentences
are to each other. The output of cosine similarity ranges from -1 to 1, where -1 means the
two vectors are completely dissimilar, and 1 indicates maximum similarity.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=parameters>Parameters<a href=#parameters class=hash-link aria-label="Direct link to Parameters" title="Direct link to Parameters">â€‹</a></h4>
<table><thead><tr><th>Parameter<th>Type<th>Description<tbody><tr><td><p><code>vectorA</code><td><p><code>number</code>[]<td><tr><td><p><code>vectorB</code><td><p><code>number</code>[]<td></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=returns>Returns<a href=#returns class=hash-link aria-label="Direct link to Returns" title="Direct link to Returns">â€‹</a></h4>
<p><code>number</code></p>
<p>-1 to 1 similarity score</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=similarity>Similarity<a href=#similarity class=hash-link aria-label="Direct link to Similarity" title="Direct link to Similarity">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=addembeddingvectorstoindex>addEmbeddingVectorsToIndex()<a href=#addembeddingvectorstoindex class=hash-link aria-label="Direct link to addEmbeddingVectorsToIndex()" title="Direct link to addEmbeddingVectorsToIndex()">â€‹</a></h3>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token keyword" style=font-style:italic>function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">addEmbeddingVectorsToIndex</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">documentVectors</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> options</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> object</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">HierarchicalNSW</span><span class="token operator" style="color:rgb(137, 221, 255)">></span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Defined in: similarity/similarity-vector.js:97</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=vsearch-vector-similarity-embedding-approximation-in-ram-limited-cluster-hierarchy>VSEARCH: Vector Similarity Embedding Approximation in RAM-Limited Cluster Hierarchy<a href=#vsearch-vector-similarity-embedding-approximation-in-ram-limited-cluster-hierarchy class=hash-link aria-label="Direct link to VSEARCH: Vector Similarity Embedding Approximation in RAM-Limited Cluster Hierarchy" title="Direct link to VSEARCH: Vector Similarity Embedding Approximation in RAM-Limited Cluster Hierarchy">â€‹</a></h3>
<img src=https://i.imgur.com/nvJ7fzO.png width=350px>
<ol>
<li>Compile hnswlib-node or NGT algorithm C++ to WASM JS for efficient similarity search.</li>
<li>Vector index is split by K-means into regional clusters, each being a
specific size to fit in RAM. This is better than popular vector engines that
require costly 100gb-RAM servers because they load all the vectors at once.</li>
<li>Vectors for centroids of each cluster are stored in a list in SQL, each
cluster's binary quantized data is exported as base64 string to SQL, S3, etc.</li>
<li>Search: Embed Query, Compare to each cluster centroid to pick top clusters,
download  base64 strings for those clusters, load each into WASM, find top neighbors
per cluster, merge results sorted by distance.</li>
</ol>
<p><a href=https://github.com/yahoojapan/NGT/wiki target=_blank rel="noopener noreferrer">NGT Algorithm</a>
<a href=https://github.com/yahoojapan/NGT/blob/main/lib/NGT/Clustering.h#L82 target=_blank rel="noopener noreferrer">NGT Cluster</a>
<a href=https://qdrant.tech/articles/memory-consumption/ target=_blank rel="noopener noreferrer">https://qdrant.tech/articles/memory-consumption/</a>
<a href=https://lancedb.com target=_blank rel="noopener noreferrer">Lancedb</a>
<a href=https://unum-cloud.github.io/usearch/javascript/index.html target=_blank rel="noopener noreferrer">Usearch</a></p>
<ul>
<li><a href=https://ann-benchmarks.com target=_blank rel="noopener noreferrer">ANN Benchmarks</a></li>
</ul>
<p><img decoding=async loading=lazy src=https://ann-benchmarks.com/glove-100-angular_10_angular.png alt=Benchmark class=img_ev3q></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=parameters-1>Parameters<a href=#parameters-1 class=hash-link aria-label="Direct link to Parameters" title="Direct link to Parameters">â€‹</a></h4>
<table><thead><tr><th>Parameter<th>Type<th>Description<tbody><tr><td><p><code>documentVectors</code><td><p><code>string</code>[]<td><p>An array of document texts to be vectorized.<tr><td><p><code>options?</code><td><p>{ <code>maxElements</code>: <code>number</code>; <code>numDimensions</code>: <code>number</code>; }<td><p>Optional parameters for vector generation and indexing.<tr><td><p><code>options.maxElements?</code><td><p><code>number</code><td><p>The maximum number of data points.<tr><td><p><code>options.numDimensions?</code><td><p><code>number</code><td><p>The length of data point vector that will be indexed.</table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=returns-1>Returns<a href=#returns-1 class=hash-link aria-label="Direct link to Returns" title="Direct link to Returns">â€‹</a></h4>
<p><code>Promise</code>&lt;<code>HierarchicalNSW</code>></p>
<p>The created HNSW index.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=author>Author<a href=#author class=hash-link aria-label="Direct link to Author" title="Direct link to Author">â€‹</a></h4>
<p><a href=https://arxiv.org/abs/1603.09320 target=_blank rel="noopener noreferrer">Malkov et al. (2016)</a>,</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=converttexttoembedding>convertTextToEmbedding()<a href=#converttexttoembedding class=hash-link aria-label="Direct link to convertTextToEmbedding()" title="Direct link to convertTextToEmbedding()">â€‹</a></h3>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token keyword" style=font-style:italic>function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">convertTextToEmbedding</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">text</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> options</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> object</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  embedding</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  embeddingsDict</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token operator" style="color:rgb(137, 221, 255)">></span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Defined in: similarity/similarity-vector.js:26</p>
<p>Text embeddings convert words or phrases into numerical vectors in a high-dimensional
space, where each dimension represents a semantic feature extracted by a model like
MiniLM-L6-v2. In this concept space, words with similar meanings have vectors that
are close together, allowing for quantitative comparisons of semantic similarity.
These vector representations enable powerful applications in natural language processing,
including semantic search, text classification, and clustering, by leveraging the
geometric properties of the embedding space to capture and analyze the relationships
between words and concepts.
<a href="https://www.youtube.com/watch?v=sNa_uiqSlJo&t=129s" target=_blank rel="noopener noreferrer">Text Embeddings, Classification, and Semantic Search
(Youtube)</a></p>
<img src=https://i.imgur.com/wtJqEqX.png width=350>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=parameters-2>Parameters<a href=#parameters-2 class=hash-link aria-label="Direct link to Parameters" title="Direct link to Parameters">â€‹</a></h4>
<table><thead><tr><th>Parameter<th>Type<th>Description<tbody><tr><td><p><code>text</code><td><p><code>string</code><td><p>The text to embed.<tr><td><p><code>options?</code><td><p>{ <code>pipeline</code>: <code>AutoTokenizer</code>; <code>precision</code>: <code>number</code>; }<td><tr><td><p><code>options.pipeline?</code><td><p><code>AutoTokenizer</code><td><p>The pipeline to use for embedding.<tr><td><p><code>options.precision?</code><td><p><code>number</code><td><p>default=4 - The number of decimal places to round to.</table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=returns-2>Returns<a href=#returns-2 class=hash-link aria-label="Direct link to Returns" title="Direct link to Returns">â€‹</a></h4>
<p><code>Promise</code>&lt;{
<code>embedding</code>: <code>number</code>[];
<code>embeddingsDict</code>: {
};
}></p>
<ul>
<li></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=getallembeddings>getAllEmbeddings()<a href=#getallembeddings class=hash-link aria-label="Direct link to getAllEmbeddings()" title="Direct link to getAllEmbeddings()">â€‹</a></h3>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token keyword" style=font-style:italic>function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getAllEmbeddings</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">index</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> HierarchicalNSW</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> precision</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Defined in: similarity/similarity-vector.js:148</p>
<p>Retrieves all embeddings from the HNSW index.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=parameters-3>Parameters<a href=#parameters-3 class=hash-link aria-label="Direct link to Parameters" title="Direct link to Parameters">â€‹</a></h4>
<table><thead><tr><th>Parameter<th>Type<th>Default value<th>Description<tbody><tr><td><p><code>index</code><td><p><code>HierarchicalNSW</code><td><p><code>undefined</code><td><p>The HNSW index containing the embeddings.<tr><td><p><code>precision</code><td><p><code>number</code><td><p><code>8</code><td><p>default=8 - The number of decimal places to round to.</table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=returns-3>Returns<a href=#returns-3 class=hash-link aria-label="Direct link to Returns" title="Direct link to Returns">â€‹</a></h4>
<p><code>number</code>[][]</p>
<p>An array of embedding vectors.
*</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=getembeddingmodel>getEmbeddingModel()<a href=#getembeddingmodel class=hash-link aria-label="Direct link to getEmbeddingModel()" title="Direct link to getEmbeddingModel()">â€‹</a></h3>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token keyword" style=font-style:italic>function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getEmbeddingModel</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">options</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> object</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">AutoTokenizer</span><span class="token operator" style="color:rgb(137, 221, 255)">></span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Defined in: similarity/similarity-vector.js:50</p>
<p>Initialize HuggingFace Transformers pipeline for embedding text.</p>
<img src=https://i.imgur.com/3R5Tsrf.png width=350px>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=parameters-4>Parameters<a href=#parameters-4 class=hash-link aria-label="Direct link to Parameters" title="Direct link to Parameters">â€‹</a></h4>
<table><thead><tr><th>Parameter<th>Type<th>Description<tbody><tr><td><p><code>options?</code><td><p>{ <code>modelName</code>: <code>string</code>; <code>pipelineName</code>: <code>string</code>; }<td><tr><td><p><code>options.modelName?</code><td><p><code>string</code><td><p>default="Xenova/all-MiniLM-L6-v2" -
The name of the model to use<tr><td><p><code>options.pipelineName?</code><td><p><code>string</code><td><p>default "feature-extraction",</table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=returns-4>Returns<a href=#returns-4 class=hash-link aria-label="Direct link to Returns" title="Direct link to Returns">â€‹</a></h4>
<p><code>Promise</code>&lt;<code>AutoTokenizer</code>></p>
<p>The pipeline.
*</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=searchvectorindex>searchVectorIndex()<a href=#searchvectorindex class=hash-link aria-label="Direct link to searchVectorIndex()" title="Direct link to searchVectorIndex()">â€‹</a></h3>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token keyword" style=font-style:italic>function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">searchVectorIndex</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">   index</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> HierarchicalNSW</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">   query</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">   options</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> object</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">object</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token operator" style="color:rgb(137, 221, 255)">></span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Defined in: similarity/similarity-vector.js:132</p>
<p>Searches the vector index for the nearest neighbors of a given query.</p>
<img src="https://github.com/NJU-RINC/hnsw-visulize/blob/master/path.gif?raw=true" width=350px>
<img src=https://i.imgur.com/ZAAfogK.png width=350px>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=parameters-5>Parameters<a href=#parameters-5 class=hash-link aria-label="Direct link to Parameters" title="Direct link to Parameters">â€‹</a></h4>
<table><thead><tr><th>Parameter<th>Type<th>Description<tbody><tr><td><p><code>index</code><td><p><code>HierarchicalNSW</code><td><p>The HNSW index to search.<tr><td><p><code>query</code><td><p><code>string</code><td><p>The query string to search for.<tr><td><p><code>options?</code><td><p>{ <code>numNeighbors</code>: <code>number</code>; }<td><p>Optional parameters for the search.<tr><td><p><code>options.numNeighbors?</code><td><p><code>number</code><td><p>The number of nearest neighbors to return.</table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=returns-5>Returns<a href=#returns-5 class=hash-link aria-label="Direct link to Returns" title="Direct link to Returns">â€‹</a></h4>
<p><code>Promise</code>&lt;<code>object</code>[]></p>
<p>A promise that resolves to an array of nearest neighbors, each with an id and distance.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=throws>Throws<a href=#throws class=hash-link aria-label="Direct link to Throws" title="Direct link to Throws">â€‹</a></h4>
<p>If there's an error during the search process.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example>Example<a href=#example class=hash-link aria-label="Direct link to Example" title="Direct link to Example">â€‹</a></h4>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token keyword" style=font-style:italic>const</span><span class="token plain"> index </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>await</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">addEmbeddingVectorsToIndex</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">documentVectors</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token keyword" style=font-style:italic>const</span><span class="token plain"> results </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>await</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">searchVectorIndex</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">index</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">'example query'</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token builtin" style="color:rgb(130, 170, 255)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">results</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// [{id: 3, distance: 0.1}, {id: 7, distance: 0.2}, ...]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=weighrelevanceconceptvector>weighRelevanceConceptVector()<a href=#weighrelevanceconceptvector class=hash-link aria-label="Direct link to weighRelevanceConceptVector()" title="Direct link to weighRelevanceConceptVector()">â€‹</a></h3>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token keyword" style=font-style:italic>function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">weighRelevanceConceptVector</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">   documents</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">   query</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">   options</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">any</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">object</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token operator" style="color:rgb(137, 221, 255)">></span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Defined in: similarity/similarity-vector.js:189</p>
<p>Rerank documents's chunks based on relevance to query,
based on cosine similarity of their concept vectors generated
by a 20MB MiniLM transformer model downloaded locally.</p>
<p><a href="https://www.youtube.com/watch?v=5MaWmXwxFNQ&t=323s" target=_blank rel="noopener noreferrer">A Complete Overview of Word Embeddings</a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=parameters-6>Parameters<a href=#parameters-6 class=hash-link aria-label="Direct link to Parameters" title="Direct link to Parameters">â€‹</a></h4>
<table><thead><tr><th>Parameter<th>Type<th>Description<tbody><tr><td><p><code>documents</code><td><p><code>string</code>[]<td><tr><td><p><code>query</code><td><p><code>string</code><td><tr><td><p><code>options?</code><td><p><code>any</code><td></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=returns-6>Returns<a href=#returns-6 class=hash-link aria-label="Direct link to Returns" title="Direct link to Returns">â€‹</a></h4>
<p><code>Promise</code>&lt;<code>object</code>[]></p>
<ul>
<li></li>
</ul></div></div></div><div class=row><div class="col col--12"><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/vtempest/ai-research-agent/blob/main/docs/functions/similarity/similarity-vector.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></div></div></article><div class=row><div class="col col--12"><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/functions/similarity/similarity-remote-api><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>similarity-remote-api</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/functions/similarity/usearch><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>usearch</div></a></nav></div></div></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#other class="table-of-contents__link toc-highlight">Other</a><ul><li><a href=#autotokenizer class="table-of-contents__link toc-highlight">AutoTokenizer</a><li><a href=#calculatecosinesimilarity class="table-of-contents__link toc-highlight">calculateCosineSimilarity()</a></ul><li><a href=#similarity class="table-of-contents__link toc-highlight">Similarity</a><ul><li><a href=#addembeddingvectorstoindex class="table-of-contents__link toc-highlight">addEmbeddingVectorsToIndex()</a><li><a href=#vsearch-vector-similarity-embedding-approximation-in-ram-limited-cluster-hierarchy class="table-of-contents__link toc-highlight">VSEARCH: Vector Similarity Embedding Approximation in RAM-Limited Cluster Hierarchy</a><li><a href=#converttexttoembedding class="table-of-contents__link toc-highlight">convertTextToEmbedding()</a><li><a href=#getallembeddings class="table-of-contents__link toc-highlight">getAllEmbeddings()</a><li><a href=#getembeddingmodel class="table-of-contents__link toc-highlight">getEmbeddingModel()</a><li><a href=#searchvectorindex class="table-of-contents__link toc-highlight">searchVectorIndex()</a><li><a href=#weighrelevanceconceptvector class="table-of-contents__link toc-highlight">weighRelevanceConceptVector()</a></ul></ul></div></div></div></div></main></div></div></div></div>