"use strict";(self.webpackChunkdocusaurus_openapi_typedoc=self.webpackChunkdocusaurus_openapi_typedoc||[]).push([["1751"],{81471:function(e,r,s){s.r(r),s.d(r,{default:()=>h,frontMatter:()=>t,metadata:()=>n,assets:()=>d,toc:()=>c,contentTitle:()=>a});var n=JSON.parse('{"id":"web-app/lib/utils/call-server-api","title":"call-server-api","description":"Documentation / lib/utils/call-server-api","source":"@site/docs/web-app/lib/utils/call-server-api.md","sourceDirName":"web-app/lib/utils","slug":"/web-app/lib/utils/call-server-api","permalink":"/docs/web-app/lib/utils/call-server-api","draft":false,"unlisted":false,"editUrl":"https://github.com/vtempest/ai-research-agent/blob/main/docs/web-app/lib/utils/call-server-api.md","tags":[],"version":"current","frontMatter":{},"sidebar":"default","previous":{"title":"server","permalink":"/docs/web-app/lib/server"},"next":{"title":"utils-1","permalink":"/docs/web-app/lib/utils-1"}}'),l=s("74132"),i=s("50065");let t={},a=void 0,d={},c=[{value:"Response",id:"Response",level:2},{value:"Extends",id:"extends",level:3},{value:"Indexable",id:"indexable",level:3},{value:"Properties",id:"properties",level:3},{value:"callServerAPI()",id:"callserverapi",level:2},{value:"Call Server API",id:"call-server-api",level:3},{value:"Parameters",id:"parameters",level:3},{value:"Returns",id:"returns",level:3},{value:"Author",id:"author",level:3},{value:"Example",id:"example",level:3}];function o(e){let r={a:"a",code:"code",h2:"h2",h3:"h3",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,i.a)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.a,{href:"/docs/web-app/modules",children:"Documentation"})," / lib/utils/call-server-api"]}),"\n",(0,l.jsx)(r.h2,{id:"Response",children:"Response"}),"\n",(0,l.jsx)(r.p,{children:"Defined in: web-app/src/lib/utils/call-server-api.ts:210"}),"\n",(0,l.jsx)(r.h3,{id:"extends",children:"Extends"}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsxs)(r.li,{children:[(0,l.jsx)(r.code,{children:"Record"}),"<",(0,l.jsx)(r.code,{children:"string"}),", ",(0,l.jsx)(r.code,{children:"any"}),">"]}),"\n"]}),"\n",(0,l.jsx)(r.h3,{id:"indexable",children:"Indexable"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-ts",children:"[key: string]: any\n"})}),"\n",(0,l.jsx)(r.h3,{id:"properties",children:"Properties"}),"\n",(0,l.jsxs)("table",{children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Property"}),(0,l.jsx)("th",{children:"Type"}),(0,l.jsx)("th",{children:"Defined in"})]})}),(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:(0,l.jsxs)(r.p,{children:[(0,l.jsx)("a",{id:"error"})," ",(0,l.jsx)(r.code,{children:"error?"})]})}),(0,l.jsx)("td",{children:(0,l.jsx)(r.p,{children:(0,l.jsx)(r.code,{children:"string"})})}),(0,l.jsx)("td",{children:(0,l.jsx)(r.p,{children:"web-app/src/lib/utils/call-server-api.ts:212"})})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:(0,l.jsxs)(r.p,{children:[(0,l.jsx)("a",{id:"isloading"})," ",(0,l.jsx)(r.code,{children:"isLoading?"})]})}),(0,l.jsx)("td",{children:(0,l.jsx)(r.p,{children:(0,l.jsx)(r.code,{children:"boolean"})})}),(0,l.jsx)("td",{children:(0,l.jsx)(r.p,{children:"web-app/src/lib/utils/call-server-api.ts:211"})})]})]})]}),"\n",(0,l.jsx)(r.hr,{}),"\n",(0,l.jsx)(r.h2,{id:"callserverapi",children:"callServerAPI()"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-ts",children:"function callServerAPI(\n   path: string, \n   responseObject?: any, \n   params?: any): Promise<Partial<any>>;\n"})}),"\n",(0,l.jsx)(r.p,{children:"Defined in: web-app/src/lib/utils/call-server-api.ts:52"}),"\n",(0,l.jsx)(r.h3,{id:"call-server-api",children:"Call Server API"}),"\n",(0,l.jsx)(r.p,{children:(0,l.jsx)(r.img,{src:"https://i.imgur.com/XL0IYz2.png",alt:"callAPILogo"})}),"\n",(0,l.jsxs)(r.ol,{children:["\n",(0,l.jsx)(r.li,{children:"Fetch data from server API with params in JSON and response or error in JSON."}),"\n",(0,l.jsx)(r.li,{children:"Features: Sets isLoading to true when fetching data then false when done,\ncan cancel concurrent or new requests, set timeout, rate limits, debug log,\npaginate results, set base URL, cache from frontend with repeat requests,\nstores all request and response data in global logRequests object."}),"\n",(0,l.jsx)(r.li,{children:"Better than alternative Tanstack Query: modular flexibile single function to use\nfrom any function, no need for framework specific hooks only at component initialization."}),"\n"]}),"\n",(0,l.jsx)(r.h3,{id:"parameters",children:"Parameters"}),"\n",(0,l.jsxs)("table",{children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Parameter"}),(0,l.jsx)("th",{children:"Type"}),(0,l.jsx)("th",{children:"Description"})]})}),(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:(0,l.jsx)(r.p,{children:(0,l.jsx)(r.code,{children:"path"})})}),(0,l.jsx)("td",{children:(0,l.jsx)(r.p,{children:(0,l.jsx)(r.code,{children:"string"})})}),(0,l.jsx)("td",{children:(0,l.jsx)(r.p,{children:"The path in the API after base url"})})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:(0,l.jsx)(r.p,{children:(0,l.jsx)(r.code,{children:"responseObject?"})})}),(0,l.jsx)("td",{children:(0,l.jsx)(r.p,{children:(0,l.jsx)(r.code,{children:"any"})})}),(0,l.jsx)("td",{children:(0,l.jsxs)(r.p,{children:["default="," The object to store the response in,\nisLoading and error are set automatically"]})})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:(0,l.jsx)(r.p,{children:(0,l.jsx)(r.code,{children:"params?"})})}),(0,l.jsx)("td",{children:(0,l.jsx)(r.p,{children:(0,l.jsx)(r.code,{children:"any"})})}),(0,l.jsx)("td",{children:(0,l.jsx)(r.p,{children:"Optional parameters to pass to the API"})})]})]})]}),"\n",(0,l.jsx)(r.h3,{id:"returns",children:"Returns"}),"\n",(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"Promise"}),"<",(0,l.jsx)(r.code,{children:"Partial"}),"<",(0,l.jsx)(r.code,{children:"any"}),">>"]}),"\n",(0,l.jsx)(r.p,{children:"The response from the server API"}),"\n",(0,l.jsx)(r.h3,{id:"author",children:"Author"}),"\n",(0,l.jsx)(r.p,{children:(0,l.jsx)(r.a,{href:"https://github.com/vtempest",children:"vtempest"})}),"\n",(0,l.jsx)(r.h3,{id:"example",children:"Example"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-ts",children:"import { callServerAPI } from \"$lib/utils\";\n let responseData : {\n     results: Array<{title:string}>,\n     isLoading: boolean,\n     error: string,\n } = $state({}) ;\n await callServerAPI('search', responseData, {\n   query: \"search words\",\n   method: 'POST'\n })\n \n {#if responseData.results}\n     {responseData.results}\n {:else if responseData.isLoading}\n     ...\n {:else if responseData.error}\n     {responseData.error}\n {/if}\n"})})]})}function h(e={}){let{wrapper:r}={...(0,i.a)(),...e.components};return r?(0,l.jsx)(r,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},50065:function(e,r,s){s.d(r,{Z:function(){return a},a:function(){return t}});var n=s(39546);let l={},i=n.createContext(l);function t(e){let r=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),n.createElement(i.Provider,{value:r},e.children)}}}]);